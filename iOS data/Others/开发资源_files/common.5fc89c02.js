(function(z){
var zn=function(a){a=a.tabIndex;return z.pa(a)&&0<=a&&32768>a};var An=function(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified};var Bn=function(a,b){return z.ob(a.cE||[],function(a){return b===a||z.mf(a,b)})};var Cn=function(a){if(a.kk)throw Error("Can not change this state of the popup while showing.");};var Dn=function(a){return a.Mj.length?a.Mj.pop():a.Tn()};var En=function(a){try{return a&&a.activeElement}catch(b){}return null};var Fn=function(a){return An(a)&&zn(a)};
var Gn=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};z.Hn=function(a,b){return z.aa[a]=b};
z.In=function(a,b,c){var d=z.bn;d.ga.g(d,"update",function g(){window.document.body.contains(a)&&a.getBoundingClientRect().bottom<this.size.height&&(b.call(c),this.ga.sa(this,"update",g))});d.update()};var Jn=function(a,b){var c=b.getBoundingClientRect();return c.bottom<a.nO||c.bottom>a.size.height?!1:!0};var Kn=function(a){z.yk?z.W.enable(a.input,"placeholder-hilight",!1):z.W.enable(a.label,"placeholder-label-hilight",!1)};z.Ln=function(a){var b=z.Y;b.MI?(b.MI.innerHTML=a,z.Q(b.h,!0)):z.X.message(a)};
var Mn=function(a,b){b&&b.length&&z.A(b,function(a){this.dispatchEvent(new z.ak(a[0],a[1]))},a)};z.Nn=function(a,b){z.I.call(this);this.ga=new z.wd(this);this.Ih(a||null);b&&(this.wb=b)};z.On=function(a,b){return a.ve.get(b)};var Pn=function(a,b){return a.Yc&&b?z.kb(a.Yc,b):-1};var Qn=function(a,b){a.Wa&&a.Wa.gf&&(z.Jb(a.Wa.gf,a.ub),z.Kb(a.Wa.gf,b,a));a.ub=b};var Rn=function(a){return new z.qg(a.top,a.left+a.width,a.top+a.height,a.left)};var Sn=function(a){return"CSS1Compat"==a.Pa.compatMode};
z.Tn=function(a){if(a.da)return Gn(a.da.responseText)};var Un=function(a){z.Sd(a);for(var b={},c=0;c<a.eb.length;c++){var d=a.eb[c];b[d]=a.Nb[d]}return b};var Vn=function(a){return a};var Wn=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^(0,z.J)()).toString(36)};var Xn=function(a){a=a?z.Je(a):window.document;return!z.D||9<=z.Ug||Sn(z.He(a))?a.documentElement:a.body};
z.Yn=function(a){var b=z.Je(a),c=new z.Fe(0,0),d=Xn(b);if(a==d)return c;a=z.Cg(a);b=z.wf(z.He(b));c.x=a.left+b.x;c.y=a.top+b.y;return c};var Zn=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};z.$n=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};z.ao=function(a){var b=0,c;for(c in a)b++;return b};z.bo=function(a,b,c){return Array.prototype.every.call(a,b,c)};
var co=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!(0,window.isNaN)(d))return String.fromCharCode(d)}return a}})};
var eo=function(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c;c=z.u.document.createElement("div");return a.replace(fo,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));(0,window.isNaN)(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})};
z.go=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(z.E||z.Fc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}};z.ho=function(a){return new z.Ge(a.offsetWidth,a.offsetHeight)};
var io=function(a){if(z.D&&!(8<=z.Ug))return a.offsetParent;var b=z.Je(a),c=z.yg(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=z.yg(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};
var jo=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||jo(a,b,c,d))return!0;a=a.nextSibling}return!1};var ko=function(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return Zn(d,a)};var lo=function(a,b){return new z.Fe(a.x-b.x,a.y-b.y)};var mo=function(a){this.Lu=a};
var no=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(z.ma(b)){a.serializeArray(b,c);return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");var d="",f;for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)){var g=b[f];"function"!=typeof g&&(c.push(d),oo(f,c),c.push(":"),no(a,a.Lu?a.Lu.call(b,f,g):g,c),d=",")}c.push("}");return}}switch(typeof b){case "string":oo(b,c);break;case "number":c.push((0,window.isFinite)(b)&&!(0,window.isNaN)(b)?
String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}};var oo=function(a,b){b.push('"',a.replace(z.Sl,function(a){var b=po[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),po[a]=b);return b}),'"')};var qo=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+z.ta(a):b.substr(0,1)+a};
var ro=function(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(z.na(a)||z.oa(a))return z.bo(a,b,void 0);for(var c=z.Id(a),d=z.Gd(a),f=d.length,g=0;g<f;g++)if(!b.call(void 0,d[g],c&&c[g],a))return!1;return!0};var so=function(a){return a.ob&&"function"==typeof a.ob?a.ob():z.na(a)||z.oa(a)?a.length:z.ao(a)};var to=function(a){return z.Ua(a,"\x26")?"document"in z.u?eo(a):co(a):a};
var uo=function(a,b,c,d,f){if(!(z.D||z.Fc||z.E&&z.F("525")))return!0;if(z.Tc&&f)return z.go(a);if(f&&!d)return!1;z.pa(b)&&(b=z.mj(b));if(!c&&(17==b||18==b||z.Tc&&91==b))return!1;if((z.E||z.Fc)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(z.D&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(z.E||z.Fc)}return z.go(a)};
var vo=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!z.C;default:return 166>a.keyCode||183<a.keyCode}};var wo=function(a){return z.lj(a,"label")};
var xo=function(a,b){var c="";b&&(c=b.id);z.jj(a,"activedescendant",c)};z.yo=function(a,b,c){var d=a.m?a.m():a;z.Cb(b,function(a,b){d.setAttribute("data-za-"+b,a)});(0,window.$.data)(d,"zaRespondMoudleFn",c)};z.zo=function(a,b,c){c?z.Fi(a,b):z.Hi(a,b)};
var Ao=function(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");};
z.Bo=function(a,b,c){c=c?null:a.getElementsByTagName("*");if(z.em){if(b=b?"none":"",a.style&&(a.style[z.em]=b),c){a=0;for(var d;d=c[a];a++)d.style&&(d.style[z.em]=b)}}else if(z.D||z.vg)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)};var Co=function(a){var b=z.Yn(a);a=z.Ig(a);return new z.rg(b.x,b.y,a.width,a.height)};var Do=function(a,b,c){var d=z.Yn(a);b instanceof z.Fe&&(c=b.y,b=b.x);z.Ag(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))};
var Eo=function(a,b){var c=b||z.Re(window.document),d;d=c||z.Re(window.document);var f=z.Yn(a),g=z.Yn(d),h=z.Tg(d);if(d==z.Re(window.document)){var k=f.x-d.scrollLeft,f=f.y-d.scrollTop;!z.D||10<=z.Ug||(k+=h.left,f+=h.top)}else k=f.x-g.x-h.left,f=f.y-g.y-h.top;var h=d.clientHeight-a.offsetHeight,g=d.scrollLeft,l=d.scrollTop,g=g+Math.min(k,Math.max(k-(d.clientWidth-a.offsetWidth),0)),l=l+Math.min(f,Math.max(f-h,0));d=new z.Fe(g,l);c.scrollLeft=d.x;c.scrollTop=d.y};
var Fo=function(a){for(var b=new z.qg(0,window.Infinity,window.Infinity,0),c=z.He(a),d=c.va().body,f=c.va().documentElement,g=z.Re(c.Pa);a=io(a);)if(!(z.D&&0==a.clientWidth||z.E&&0==a.clientHeight&&a==d)&&a!=d&&a!=f&&"visible"!=z.yg(a,"overflow")){var h=z.Yn(a),k=new z.Fe(a.clientLeft,a.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,
d);b.top=Math.max(b.top,g);c=z.Pe(c.$a());b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null};var Go=function(a){var b=a.body;a=a.documentElement;return new z.Fe(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};var Ho=function(a,b){var c=a.style[z.bb(b)];return"undefined"!==typeof c?c:a.style[z.tg(a,b)]||""};
var Io=function(a,b){var c=b.x<a.left?b.x-a.left:b.x>a.right?b.x-a.right:0,d=b.y<a.top?b.y-a.top:b.y>a.bottom?b.y-a.bottom:0;return Math.sqrt(c*c+d*d)};z.Jo=function(a,b){return z.uf(a,null,b,void 0)};z.Ko=function(a){var b=[];z.rf(a,b,!1);return b.join("")};z.Lo=function(a,b){var c=[];jo(a,b,c,!1);return c};z.Mo=function(a){if("outerHTML"in a)return a.outerHTML;var b=z.Je(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};
var No=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],f=window.Infinity;for(b=0;b<c;b++){for(var g=[],h=arguments[b];h;)g.unshift(h),h=h.parentNode;d.push(g);f=Math.min(f,g.length)}g=null;for(b=0;b<f;b++){for(var h=d[0][b],k=1;k<c;k++)if(h!=d[k][b])return g;g=h}return g};
var Oo=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(z.D&&!(9<=z.Ug)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var f=a.parentNode,g=b.parentNode;return f==g?Zn(a,b):!c&&z.mf(f,b)?-1*ko(a,b):!d&&z.mf(g,a)?ko(b,a):(c?a.sourceIndex:f.sourceIndex)-(d?b.sourceIndex:g.sourceIndex)}d=z.Je(a);
c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(z.u.Range.START_TO_END,d)};z.Po=function(a){return z.ja(a.previousElementSibling)?a.previousElementSibling:z.jf(a.previousSibling,!1)};var Qo=function(a){return z.ja(a.nextElementSibling)?a.nextElementSibling:z.jf(a.nextSibling,!0)};z.Ro=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};
z.So=function(a,b){var c=b||window.document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):z.Me(window.document,"*",a,b)};z.To=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};z.Uo=function(a,b,c){a=[a,"\x26",b];null!=c&&a.push("\x3d",(0,window.encodeURIComponent)(String(c)));a[1]&&(c=a[0],b=c.indexOf("#"),0<=b&&(a.push(c.substr(b)),a[0]=c=c.substr(0,b)),b=c.indexOf("?"),0>b?a[1]="?":b==c.length-1&&(a[1]=void 0));return a.join("")};
var Vo=function(a,b){return(new mo(b)).serialize(a)};var Wo=function(a){return eval("("+a+")")};var Xo=function(a){this.Nb=new z.Pd;a&&this.addAll(a)};var Yo=function(a,b){var c=so(b);if(a.ob()>c)return!1;!(b instanceof Xo)&&5<c&&(b=new Xo(b));return ro(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.li&&"function"==typeof c.li?c.li(a):z.na(c)||z.oa(c)?z.B(c,a):z.$n(c,a)})};var Zo=function(a){try{return z.Ld(a).next()}catch(b){if(b!=z.Md)throw b;return null}};
z.$o=function(a,b){var c=z.Ld(a),d=new z.Kd;d.next=function(){for(;;){var a=c.next();if(b.call(void 0,a,void 0,c))return a}};return d};var ap=function(a,b,c){return Math.min(Math.max(a,b),c)};z.bp=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};var cp=function(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c};
var dp=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(z.ma(d))for(var f=0;f<d.length;f+=8192)for(var g=z.xb(d,f,f+8192),g=dp.apply(null,g),h=0;h<g.length;h++)b.push(g[h]);else b.push(d)}return b};z.ep=function(a,b){for(var c=z.oa(a)?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;return-1};var fp=function(a,b){var c=0;z.A(a,function(a,f,g){b.call(void 0,a,f,g)&&++c},void 0);return c};
z.gp=function(a){return function(){return!a.apply(this,arguments)}};z.hp=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};z.ip=function(a){var b=arguments,c=b.length;return function(){for(var a,f=0;f<c;f++)a=b[f].apply(this,arguments);return a}};z.jp=function(a,b){var c=arguments,d=c.length;return function(){var a;d&&(a=c[d-1].apply(this,arguments));for(var b=d-2;0<=b;b--)a=c[b].call(this,a);return a}};
var kp=function(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};z.lp=function(){return"goog_"+z.El++};z.mp=function(a){return a.replace(/[\s\xa0]+$/,"")};z.np=function(a){return a.replace(/^[\s\xa0]+/,"")};var op=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};z.pp=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};z.qp=function(a){return!/[^\t\n\r ]/.test(a)};z.rp=function(a){return/^[\s\xa0]*$/.test(a)};
z.sp=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};var tp=function(){throw Error("unimplemented abstract method");};z.Z=function(a){z.ce.call(this);this.PL=!!a;this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.CQ,!1,this)};z.up=function(a,b,c,d){var f=new z.Z;if(b)f.on("complete",b);f.ajax(a,d,c)};var vp=function(a,b){wp.push({fM:a,filter:b})};
var xp=function(a){var b=a.getResponseHeader("content-type");if(b){var c=yp[b.split(";")[0].toLowerCase()];if(c&&wp.length){var d=z.re(a);z.A(wp,function(a){"*"!==a.fM&&a.fM!==c||a.filter("json"===c?JSON.parse(d):d,this)},a)}}};var zp=function(){if(Ap)return Ap;var a=z.O("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"加载中…"});window.document.body.appendChild(a);return Ap=a};var Bp=function(){z.I.call(this)};
z.Cp=function(a,b,c){function d(){var b=new z.Z(!0),d="/question/"+(a?"set_anonymous":"set_public"),g="qid\x3d"+(c||z.S.qa);b.on("success",function(){var c=z.Tn(b);c&&!c.r&&(z.S&&(z.S.vb=a),f.dispatchEvent(new z.Dp(a)))});b.ajax(d,g)}var f=z.Ep,g={title:"确认使用匿名身份？",content:'\x3cp\x3e使用匿名身份后\x3c/p\x3e\x3cul style\x3d"margin: 5px 0 0 5px;list-style-position: inside;"\x3e\x3cli\x3e提问、回答、赞同、关注会显示为匿名\x3c/li\x3e\x3cli\x3e除提问者本人，不能匿名编辑问题\x3c/li\x3e\x3cli\x3e不能邀请别人回答问题\x3c/li\x3e\x3c/ul\x3e'},h={title:"确认取消匿名身份？",
content:"取消匿名身份后， 提问、回答、赞同和关注将以实名显示。"};z.X.confirm(a?g:h,function(a){a&&d();b&&b(a)})};z.Dp=function(a){this.type="anon_change";this.vb=a};var Fp=function(a){z.I.call(this);this.J=window.$.extend({xk:z.q},a||{});this.Qr=z.um.guiders2||{};this.qS=(0,z.J)();this.Ab=z.Vj&&!z.Wj;this.nc()};var Gp=function(a,b,c){function d(g){g||(g=a.shift())&&b.call(c,g,f++,d)}a=a.slice();var f=0;d()};
var Hp=function(a){var b={"home-topstory":{path:"/",offset:{right:-10},uu:"righttop",wn:"arrow-lefttop",aB:".zu-main-feed-con",St:".zu-main-sidebar"}},c=a.Qr.section;c&&Gp(z.Gb(c),function(a,f,g){(f=b[a])&&f.path===window.location.pathname?Ip(this,"section",a,c[a],f,!1,g):g()},a)};
var Jp=function(a){var b={"/":{offset:{top:6},trigger:"1page-down inview",uu:"lefttop",wn:"arrow-righttop",aB:".js-sidebarRoundtable",St:".zu-main-content-inner"},"/explore":{uu:"lefttop",wn:"arrow-righttop",aB:".explore-side-section-roundtable",St:".zu-main-content-inner"}},c=a.Qr["exclusive-popover"];c&&Gp(z.Gb(c),function(a,f,g){var h;"roundtable"===a&&(h=b[window.location.pathname]);h&&Ip(this,"exclusive-popover",a,c[a],h,h.trigger,g)},a)};
var Ip=function(a,b,c,d,f,g,h){if(b&&c&&d&&f){var k=(0,window.$)(f.aB);if(k.length&&("righttop"!==f.uu||300<z.Pe().width-k[0].getBoundingClientRect().right)){var l=(0,window.$)(z.Ja('\x3cdiv class\x3d"guide2-section-popover"\x3e\x3cdiv class\x3d"title"\x3e%s\x3c/div\x3e\x3cdiv class\x3d"content"\x3e%s\x3c/div\x3e\x3cdiv class\x3d"action"\x3e\x3ca class\x3d"dismiss" href\x3d"%s"\x3e%s\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e',d.title||"",d.content,d.dismissHref||"#",d.dismissText));l.addClass(f.uu).addClass(f.wn).appendTo(k);
var p=f.offset;p&&window.$.each(["left","top","right","bottom"],function(a,b){p[b]&&l.css("margin-"+b,p[b])});var r=(0,window.$)([]);z.Aa(function(a){return(0,z.J)()-a},a.qS);var w=function(){f.St&&(r=(0,window.$)('\x3cspan class\x3d"guidev2-mask"/\x3e').appendTo(f.St));(0,window.setTimeout)(function(){l.add(r).addClass("fx-show");K()});window.$.post("/node/Guide2",{method:"dismiss_popover",params:{category:b,key:c}})},H=function(a){if(window.Modernizr.csstransitions)l.add(r).removeClass("fx-show").onTransitionEnd(function(){(0,window.$)(this).remove()},
350);else l.add(r).remove();h&&h(a)};a=function(a){function b(a){var c=!1;return function(){!0!==c&&(c=a.apply(this,arguments));return c}}var c=0,d=b(function(){var a=window.pageYOffset;if(a>=f.size.height)return c=a,!0}),d={"1page-down .5page-up":z.hp(d,b(function(){return c-window.pageYOffset>=f.size.height/2})),"1page-down inview":z.hp(d,function(){return Jn(f,k[0])})},f=new z.hl,g=d[a]||d["1page-down .5page-up"];f.o().g(f,"update",function(){g()&&(f.H(),w())})};var K=function(){var a=new z.hl;
a.o().g(a,"update",function(){l.parent().length?Jn(a,l[0])||(H(),a.H()):a.H()})};(0,window.$)(".dismiss",l).click(function(){H();return!1});(0,window.$)(".skip-all",l).click(function(){window.$.post("/node/Guide2",{method:"skip_popover",params:{category:b}});H(!0);return!1});g?a(g):w()}}};var Kp=function(){var a=(0,window.$)("#guidersv2-page-banner");(0,window.$)(".js-close",a).click(function(){a.remove()})};
var Lp=function(a){function b(a){window.$.post("/node/Guide2",{method:"dismiss_editor",params:{key:a}})}function c(a){z.yi(Object.assign({category:"popup_guide",label:{bio:"popup_guide_personal_introduction",topic:"popup_guide_topic_recommendation"}[h]},a))}function d(a){k||(k=new z.V,k.Ye(!0),k.OF=!1,z.W.add(k.wi(),"Guide"));k.ea(a);k.G(!0)}var f=window.$.Deferred(),g=a.Qr.editor;if(!g||!g.length)return f.reject();var g=g.slice(),h,k,l={},p={bio:function(a){var f=(0,window.$)("#tmpl-Guide-BioEditor").html();
if(!f)return window.console&&window.console.warn("Cannot find template"),a();var g=z.ip(a,function(){b("bio")});d(f);(function(a){a=(0,window.$)(a).off();var b=(0,window.$)(".js-submit",a),d=(0,window.$)('input[name\x3d"bio"]',a);b.click(function(){var a=l.Kw=window.$.trim(d.val());a?(window.$.post("/node/Guide2",{method:"add_headline",params:{headline:a}}),c({action:"click_edit_personal_introduction_submit",attributes:{personal_introduction:a}})):c({action:"click_edit_personal_introduction_skip"});
g()})})(k.T());c({action:"popup_edit_personal_introduction_appear"})},topic:function(a){function f(){z.Ep.dispatchEvent("guider2:topicselected")}window.$.get("/node/GuideTopicList",function(a){(0,window.$)(".Guide-topicsLoading").remove();(0,window.$)(a).appendTo(".Guide-content")});var g=(0,window.$)("#tmpl-Guide-Topics").html();if(g){var h=z.ip(a,function(){b("topic")});d(g);(function(a){var b=(0,window.$)(a).off();a=(0,window.$)(".js-submit",b);b.on("click",".Guide-TopicsItem",function(){var a=
(0,window.$)(this);a.toggleClass("is-checked");var b=(0,window.$)(".template-relatedTopics",a);if(b.length){var c=b.html();b.remove();(0,window.$)(c).insertAfter(a)}});a.click(function(){var a=l.bn=[],d={};(0,window.$)(".Guide-TopicsItem",b).filter(".is-checked").each(function(){var b=(0,window.$)(this),c=b.data("id"),f=b.index(),b=b.find(".name").text();a.push(c);d[c]={topic:b,row:Math.ceil((f+1)/3),column:f%3+1}});a.length?(window.$.post("/topics/follow",{follow_ids:a.join(",")},f),c({action:"click_popup_guide_topic_recommendation_submit",
attributes:{selected_topic:d}})):(f(),c({action:"click_popup_guide_topic_recommendation_skip"}));h()})})(k.T());c({action:"popup_guide_topic_recommendation_appear"})}else window.console&&window.console.warn("Cannot find template"),a(),f()}};(0,window.$)(window).on("beforeunload.guide2",function(){k&&k.X()&&c({Ec:!0,action:{bio:"click_edit_personal_introduction_close",topic:"click_guide_topic_recommendation_close"}[h]})});Gp(g,function(a,b,c){if(p[a]){h=a;var d=b===g.length-1,M=function(a){if(k)if(window.Modernizr.cssanimations)var b=
(0,window.$)(k.wi()).addClass("fx-hide").onAnimationEnd(function(){b.removeClass("fx-hide");a()},400);else a()};p[a](function(){d?M(function(){k.G(!1);f.resolve(l);(0,window.$)(window).off(".guide2");"/topic"===window.location.pathname&&window.location.reload()}):M(c)})}});return f.promise()};var Mp=function(a,b){z.I.call(this);a&&this.attach(a,b)};var Np=function(a,b,c,d){z.Oc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};var Op=function(){};
var Pp=function(a,b,c){if(a=c||a.rf())c=b.getAttribute("role")||null,a!=c&&z.ij(b,a)};var Qp=function(a,b,c){var d=b.ZD;null!=d&&a.EB(c,d);b.X()||z.jj(c,"hidden",!b.X());b.isEnabled()||a.Jg(c,1,!b.isEnabled());Rp(b,8)&&a.Jg(c,8,!!(b.M&8));Rp(b,16)&&a.Jg(c,16,b.og());Rp(b,64)&&a.Jg(c,64,b.Bb())};var Sp=function(a,b){var c=[];b&&(a=a.concat([b]));z.A([],function(d){!z.bo(d,z.Aa(z.B,a))||b&&!z.B(d,b)||c.push(d.join("_"))});return c};
var Tp=function(a){var b=a.V();b.replace(/\xa0|\s/g," ");a.Kr={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};z.Up=function(){};z.Vp=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!z.qa(b))throw Error("Invalid decorator function "+b);Wp[a]=b};
var Xp=function(a,b,c){z.R.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=z.ta(b);if(d=Yp[d])break;b=b.v?b.v.constructor:null}b=d?z.qa(d.aa)?d.aa():new d:null}this.N=b;this.Mm(z.ja(a)?a:null);this.ZD=null};
var Zp=function(a,b){var c=a.o(),d=a.m();b?(c.g(d,"mouseover",a.yd).g(d,"mousedown",a.re).g(d,"mouseup",a.wf).g(d,"mouseout",a.bm),a.Ao!=z.q&&c.g(d,"contextmenu",a.Ao),z.D&&(c.g(d,"dblclick",a.AG),a.Io||(a.Io=new $p(a),z.zc(a,a.Io)))):(c.sa(d,"mouseover",a.yd).sa(d,"mousedown",a.re).sa(d,"mouseup",a.wf).sa(d,"mouseout",a.bm),a.Ao!=z.q&&c.sa(d,"contextmenu",a.Ao),z.D&&(c.sa(d,"dblclick",a.AG),z.Bc(a.Io),a.Io=null))};var Rp=function(a,b){return!!(a.vq&b)};
var aq=function(a,b){return!!(a.tj&b)&&Rp(a,b)};var bq=function(a,b,c){return Rp(a,b)&&!!(a.M&b)!=c&&(!(a.Nk&b)||a.dispatchEvent(Ao(b,c)))&&!a.Od};var $p=function(a){z.wc.call(this);this.Ur=a;this.Lr=!1;this.ga=new z.wd(this);z.zc(this,this.ga);a=this.Ur.h;this.ga.g(a,"mousedown",this.$l).g(a,"mouseup",this.Xs).g(a,"click",this.Zl)};var cq=function(){};z.dq=function(a,b,c){Xp.call(this,a,b||cq.aa(),c)};var eq=function(){};
var fq=function(a,b,c){if(b){var d=gq(a,c);z.Ei(b,d)||(z.Cb(hq,function(a){a=gq(this,a);z.zo(b,a,a==d)},a),z.jj(b,"checked",c==iq?"mixed":c==jq?"true":"false"))}};var gq=function(a,b){var c=a.V();if(b==jq)return c+"-checked";if(b==kq)return c+"-unchecked";if(b==iq)return c+"-undetermined";throw Error("Invalid checkbox state: "+b);};var lq=function(a,b,c){c=c||eq.aa();Xp.call(this,null,c,b);this.ii=z.ja(a)?a:kq};z.mq=function(){};var nq=function(){};
z.oq=function(a,b,c,d,f){function g(a){a&&(a.tabIndex=0,z.ij(a,h.rf()),z.Fi(a,"goog-zippy-header"),pq(h,a),a&&h.VH.g(a,"keydown",h.jU))}z.I.call(this);this.ca=f||z.He();this.bg=this.ca.m(a)||null;this.Gj=this.ca.m(d||null);this.Il=(this.Ft=z.qa(b)?b:null)||!b?null:this.ca.m(b);this.tb=1==c;z.ja(c)||this.Ft||(this.Gj?this.tb=z.Lg(this.Gj):this.bg&&(this.tb=z.Ei(this.bg,"goog-zippy-expanded")));this.VH=new z.wd(this);this.sA=new z.wd(this);var h=this;g(this.bg);g(this.Gj);this.Rc(this.tb)};
var qq=function(a){var b=a.Gj;return b&&z.Lg(b)?b:a.bg};var pq=function(a,b){b&&a.sA.g(b,"click",a.iU)};var rq=function(a,b,c){z.Kc.call(this,a,b);this.dh=c};z.sq=function(){z.V.call(this);this.Ye(!0)};var tq=function(a){var b=(0,window.$)(".resend-activation-email",a.dD);uq(a,b,10,function(){window.$.post("/reactive")})};
var vq=function(a){window.$.get("/settings/account/request_unlock");var b=(0,window.$)("form.send-code",a.VC),c=a.SC=(0,window.$)("form.activate",a.VC),d=(0,window.$)(".submit",b);b.validate(window.$.extend({},wq,{submitHandler:z.vk(d,window.$.proxy(a.KU,a))}));b=(0,window.$)(".submit",c);c.validate(window.$.extend({},wq,{submitHandler:z.vk(b,window.$.proxy(a.MT,a))}));b=(0,window.$)("button.resend-code",c);uq(a,b,60,function(){var a=(0,window.$)('input[name\x3d"account"]',c).val();if(""===a)return c.data("validator").showErrors({account:"请填写手机号或邮箱"}),
!1;var b=this.zf(a),d;b?(a={email:a},d="/settings/account/send_new_email_digits"):(a={phone_no:a},d="/settings/account/send_new_phone_digits");var k=this;window.$.post(d,a,function(a){a.success?xq(k,b):(a=a.payload.fields,b?k.Db(a,"email","account"):k.Db(a,"phone_no","account"),c.data("validator").showErrors(a))})})};var xq=function(a,b){a.aw||(a.aw=(0,window.$)(".tip",a.Ga));b?a.aw.html("验证码已发送至你的邮箱，请查收。"):a.aw.html("验证码已发送至你的手机，请查收。")};
var uq=function(a,b,c,d){var f=b.text();b=z.uk(b,c,function(a){return a?"%s 秒后即可重发":f},window.$.proxy(d,a));z.zc(a,b)};
var yq=function(a){function b(){(0,window.clearTimeout)(g);g=null;try{delete window[d]}catch(a){window[d]=null}}"string"===window.$.type(a)&&(a={url:a});a=a||{};var c=window.$.Deferred(),d="zh"+(0,z.J)()+Wn(),f=window.$.extend({},a.data||{},{callback:d}),g=null;a.timeout&&(g=(0,window.setTimeout)(function(){window[d]&&(window[d]=b,c.reject("timeout"))},a.timeout));window[d]=c.resolve;a=a.url+(-1===a.url.indexOf("?")?"?":"\x26")+window.$.param(f);z.dh(a).fail(c.reject).always(b);return c.promise()};
var zq=function(a,b){b=void 0===b?0:b;z.I.call(this);this.JN=Object.assign({},Aq,a);this.vV=b;this.Pu=1E3;this.yI=3E4;this.hS=1.5};z.Bq=function(a,b){a=void 0===a?z.q:a;b=void 0===b?!1:b;z.R.call(this);this.vJ=a;this.$W=b};var Cq=function(a){window.$.get("/antispam/get_token").then(function(b){a.Vc=b.token;a.timeout=b.ttl;a.startTime=Date.now();(0,window.$)(".js-token",a.h).text(a.Vc);(0,window.$)(".js-timeout",a.h).text((0,window.parseInt)(a.timeout/60))})};
var Dq=function(a){var b=(0,window.$)(".js-sent",a.h);b.click(z.vk(b,function(){if(Date.now()>a.startTime+1E3*a.timeout)return Cq(a),Eq(a,"短信超时，请重新发送");Fq(a);a.$k.show();return window.$.get("/antispam/is_send_sms").then(function(b){b.is_send_sms?Gq(a,"unblock"):Eq(a,"没收到正确的短信，请重新发送");a.$k.hide()},function(){a.$k.hide()})}))};
var Hq=function(a){var b=(0,window.$)(".js-verify",a.h);b.click(z.vk(b,function(){var b=a.Jc.nj.val();if(!b)return Eq(a,"请填写验证码");Fq(a);a.$k.show();return window.$.post("/antispam/create_appeal",{captcha:b}).then(function(b){0===b.errcode?Gq(a,"appeal"):(a.Jc.Gu(),Eq(a,b.msg),a.$k.hide())},function(){a.$k.hide()})}))};
var Iq=function(a){(0,window.$)(".js-appeal",a.h).click(function(){a.vJ("向管理员申诉解封");a.fw.hide();(0,window.$)(".unblock-dialog-appeal",a.h).show();a.Jc.Gu();Fq(a)});(0,window.$)(".js-message",a.h).click(function(){a.vJ("帐号解封");a.fw.hide();(0,window.$)(".unblock-dialog-message",a.h).show();Fq(a)})};var Jq=function(a){a.wu=new zq({url:"/antispam/is_send_sms"},1E3);z.zc(a,a.wu);a.wu.g("message",function(b){b.data.is_send_sms&&Gq(a,"unblock")});a.wu.vu()};
var Gq=function(a,b){a.wu.H();var c;"unblock"===b?c="成功自助解封":"appeal"===b&&(c="成功提交申诉\x3cbr\x3e申诉成功后会以邮件或私信方式通知你");(0,window.$)(".unblock-dialog-success-text",a.h).html(c);a.fw.hide();(0,window.$)(".unblock-dialog-success",a.h).show();if(a.$W){var d=(0,window.$)(".js-count-down",a.h);d.show();var f=5,g;"unblock"===b?g="刷新":"appeal"===b&&(g="关闭");var h=function(){0>=f?"unblock"===b?window.location.reload():"appeal"===b&&a.dispatchEvent("complete"):(d.text(f--+" 秒后自动"+g),(0,window.setTimeout)(h,1E3))};
h()}};var Eq=function(a,b){a.YC.text(b).addClass("is-visible")};var Fq=function(a){a.YC.removeClass("is-visible")};var Kq=function(a){z.V.apply(this,arguments)};
z.Lq=function(a,b,c){function d(a){return a&&a.preventDefault?a.preventDefault():!1}return function(f){var g={Lb:!0,Ee:!1,cu:!1,dK:!1};z.ma(b)?(!0===b[0]&&(g=cp(g,function(){return!0})),z.Lb(g,b[1])):!0===b?g=cp(g,function(){return!0}):(z.qa(b)&&(b=b.apply(this,arguments)),z.Lb(g,b||{}));var h=z.qa(c)?c.apply(this,arguments):c;if(!z.T.Lb()&&g.Lb){var k=new z.Wk;k.fq(h);k.show();return d(f)}return!z.T.Ee&&g.Ee?((new z.sq).G(!0),window.$.post("/continuation/record",{url:window.location.pathname+window.location.search+
(h||"")}),d(f)):z.jm.JF&&g.dK?(h=z.jm.JF,"warning"===h?k='您的知乎用户名不符合 \x3ca href\x3d"/question/19791408"\x3e知乎用户名规范\x3c/a\x3e，请您 \x3ca href\x3d"/settings/profile"\x3e修改\x3c/a\x3e。':"pending"===h&&(k="您提交的用户名修改正在审核中，帐号暂时锁定。"),k&&z.X.message(k,4E3),d(f)):z.jm.Mw&&g.cu?(z.jm.Mw.by_antispam?(new Kq).G(!0):z.X.message(z.jm.Mw.message),d(f)):a.apply(this,arguments)}};var Mq=function(){z.I.call(this);this.M=Nq;this.endTime=this.startTime=null};
var Oq=function(a,b,c){z.wc.call(this);this.nk=a;this.mh=b||0;this.ga=c;this.sl=(0,z.t)(this.Zg,this)};var Pq=function(a){a.Ac()&&a.fire()};var Qq=function(a){a=z.ta(a);delete Rq[a];z.Ib(Rq)&&Sq&&Sq.stop()};var Tq=function(){Sq||(Sq=new Oq(function(){Uq()},20));var a=Sq;a.Ac()||a.start()};var Uq=function(){var a=(0,z.J)();z.Cb(Rq,function(b){Vq(b,a)});z.Ib(Rq)||Tq()};
var Wq=function(a,b,c,d){Mq.call(this);if(!z.ma(a)||!z.ma(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.rq=a;this.LP=b;this.duration=c;this.AD=d;this.coords=[];this.gj=!1;this.progress=0};var Vq=function(a,b){a.progress=(b-a.startTime)/(a.endTime-a.startTime);1<=a.progress&&(a.progress=1);Xq(a,a.progress);1==a.progress?(a.M=Nq,Qq(a),a.ud("finish"),a.xg()):1==a.M&&a.yA()};
var Xq=function(a,b){z.qa(a.AD)&&(b=a.AD(b));a.coords=Array(a.rq.length);for(var c=0;c<a.rq.length;c++)a.coords[c]=(a.LP[c]-a.rq[c])*b+a.rq[c]};var Yq=function(a,b){z.Kc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.progress;this.state=b.M;this.AZ=b};
var Zq=function(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if($q.test(c))return b.et=ar(c),b.type="hex",b;c=br(a);if(c.length){var d=c[0];a=c[1];c=c[2];d=Number(d);a=Number(a);c=Number(c);if((0,window.isNaN)(d)||0>d||255<d||(0,window.isNaN)(a)||0>a||255<a||(0,window.isNaN)(c)||0>c||255<c)throw Error('"('+d+","+a+","+c+'") is not a valid RGB color');d=cr(d.toString(16));a=cr(a.toString(16));c=cr(c.toString(16));b.et="#"+d+a+c;b.type="rgb";return b}if(dr&&(c=dr[a.toLowerCase()]))return b.et=
c,b.type="named",b;throw Error(a+" is not a valid color string");};var ar=function(a){if(!$q.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(er,"#$1$1$2$2$3$3"));return a.toLowerCase()};var br=function(a){var b=a.match(fr);if(b){a=Number(b[1]);var c=Number(b[2]),b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};var cr=function(a){return 1==a.length?"0"+a:a};var gr=function(a,b,c,d,f){Wq.call(this,b,c,d,f);this.element=a};
var hr=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");gr.apply(this,arguments)};var ir=function(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");gr.apply(this,arguments)};var jr=function(a,b,c,d,f){gr.call(this,a,[b],[c],d,f)};var kr=function(a,b,c,d,f){gr.call(this,a,[b],[c],d,f)};
var lr=function(a,b,c,d,f){z.pa(b)&&(b=[b]);z.pa(c)&&(c=[c]);gr.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.Dt=mr};var nr=function(a,b,c){lr.call(this,a,1,0,b,c)};var or=function(a,b,c){lr.call(this,a,0,1,b,c)};var pr=function(a,b,c,d,f){if(3!=b.length||3!=c.length)throw Error("Start and end points must be 3D");gr.apply(this,arguments)};var qr=function(){return window.$.Deferred(function(a){(0,window.setTimeout)(a.resolve,2E3)}).promise()};
var rr=function(a,b){var c=z.Lo(a,function(a){return 3===a.nodeType&&!z.rp(a.nodeValue)})[0];c&&(c.nodeValue=b)};z.sr=function(a,b){var c=new nr(a,500);b&&z.G(c,"finish",(0,z.t)(function(){z.P(this)},a));c.play()};z.tr=function(a,b,c,d){"bottom"===d&&(d="b");var f="";!1!==c&&(f='data-hovercard\x3d"t$'+(d||"t")+"$"+a[1]+'"');return["\x3ca ",f,' class\x3d"',b||"zm-item-tag",'" href\x3d"/topic/',a[1],'"\x3e',a[0],"\x3c/a\x3e"].join("")};
z.ur=function(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):""};var vr=function(a){return a?a.replace(/<[^>]+>/g,""):""};var wr=function(){return'\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e修改\x3c/a\x3e'};z.xr=function(a,b){z.Q(a,!0);z.Q(b,!1)};
var yr=function(a,b,c){var d;a&&(b=(0,window.$)(a).data("animation")||new pr(a,[255,255,150],b||[255,255,255],c||2E3),(0,window.$)(a).data("animation",b),1==b.M&&b.stop(!0),d=a.style.backgroundColor,z.kd(b,"end",function(){z.sg(this.element,"background-color",d)},!1,b),b.play())};z.zr=function(a,b,c){a&&(Ar&&window.document[Br]?z.G(window.document,Cr,function f(){window.document[Br]||(yr(a,b,c),z.ld(window.document,Cr,f))}):yr(a,b,c))};
var Dr=function(a){var b=0,c=0;do c=a.indexOf("?",c),-1!==c&&(b++,c+=1);while(-1!==c);return b};
var Er=function(a,b,c){b=z.xb(a.data,1);if("topic"===a.data[0]){a=(b[2]?'\x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+b[2]+'"\x3e':"")+'\x3cspan class\x3d"zu-autocomplete-row-name'+(b[3]?"":" zu-autocomplete-row-name-info")+'" title\x3d"'+b[0]+'"\x3e'+b[0]+"\x3c/span\x3e";var d=5<b.length&&b[5];4<=b.length&&(a+='\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e',b[4]||d?(d&&(a+="又称 "+b[5]),b[4]&&d&&(a+="，"),b[4]&&(a+=b[4]+" 人关注")):a+="\x26nbsp;",a+="\x3c/span\x3e");
c.innerHTML=a}else if("people"===a.data[0]){a=Array.isArray(b[5])?b[5]:[b[5]];var f=d="";a[0]?f='\x3cspan class\x3d"OrgIcon sprite-global-icon-org-14"\x3e\x3c/span\x3e':a[1]?(d=b[6]||"",f=a[2]?'\x3cspan class\x3d"icon icon-badge icon-badge-id-an"\x3e\x3c/span\x3e':'\x3cspan class\x3d"icon icon-badge icon-badge-identity"\x3e\x3c/span\x3e'):a[2]&&(d="优秀回答者",f='\x3cspan class\x3d"icon icon-badge icon-badge-best_answerer"\x3e\x3c/span\x3e');c.innerHTML='\n      \x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+
b[2]+'"\x3e\n      \x3cdiv class\x3d"zu-autocomplete-row-name" title\x3d"'+b[0]+'"\x3e\n        '+b[0]+f+'\n      \x3c/div\x3e\n      \x3cdiv class\x3d"zu-autocomplete-row-description"\x3e\n        \x3cspan class\x3d"badge-summary"\x3e'+d+'\x3c/span\x3e\n        \x3cspan class\x3d"zg-gray-normal bio"\x3e'+(b[4]||"\x26nbsp;")+"\x3c/span\x3e\n      \x3c/div\x3e\n    "}else"question"===a.data[0]?c.innerHTML=b[0]+'\x3cspan class\x3d"zm-ac-gray"\x3e问题\x3c/span\x3e':"plain_text"===a.data[0]?(c.innerHTML=
a.data[1],z.W.add(c,b[1])):"sina"===a.data[0]&&(c.innerHTML=b[0])};
var Fr=function(a,b,c){var d;b=z.xb(a.data,1);if("topic"===a.data[0]){a=["\x3ca ",' style\x3d"display:block" href\x3d"/topic/'+b[1]+'"\x3e\x3cspan class\x3d"zm-item-tag"\x3e',b[0],"\x3c/span\x3e"].join("");d=6<b.length&&b[6];if(b[5]||d){a+='\x3cspan class\x3d"zm-ac-gray"\x3e';var f=[];d&&f.push("又称 "+b[6]);(d=(0,window.parseInt)(b[5],10))&&f.push(d+" 个精华问答");a+=f.join("，");a+="\x3c/span\x3e"}else a+='\x3cspan class\x3d"zm-ac-gray" \x3e\x26nbsp;\x3c/span\x3e';c.innerHTML=a+"\x3c/a\x3e"}else if("people"===
a.data[0]){a=Array.isArray(b[5])?b[5]:[b[5]];var f=a[0],g=d="";f?g='\x3cspan class\x3d"OrgIcon sprite-global-icon-org-14"\x3e\x3c/span\x3e':a[1]?(d=b[6]||"",g=a[2]?'\x3cspan class\x3d"icon icon-badge icon-badge-id-an"\x3e\x3c/span\x3e':'\x3cspan class\x3d"icon icon-badge icon-badge-identity"\x3e\x3c/span\x3e'):a[2]&&(d="优秀回答者",g='\x3cspan class\x3d"icon icon-badge icon-badge-best_answerer"\x3e\x3c/span\x3e');c.innerHTML='\n        \x3ca href\x3d"/'+(f?"org":"people")+"/"+b[1]+'" title\x3d"'+b[0]+
'"\n          class\x3d"zm-ac-link zm-ac-link-people"\x3e\n          \x3cimg class\x3d"zm-item-img-avatar zg-left" src\x3d"'+b[2]+'"\x3e\n          \x3cdiv class\x3d"zu-autocomplete-row-name" title\x3d"'+b[0]+'"\x3e\n            '+b[0]+g+'\n          \x3c/div\x3e\n          \x3cdiv class\x3d"zu-autocomplete-row-description"\x3e\n            \x3cspan class\x3d"badge-summary"\x3e'+d+'\x3c/span\x3e\n            \x3cspan class\x3d"zg-gray-normal bio"\x3e'+(b[4]||"\x26nbsp;")+"\x3c/span\x3e\n          \x3c/div\x3e\n        \x3c/a\x3e\n      "}else"question"===
a.data[0]?(d=(0,window.parseInt)(b[3],10),c.innerHTML=(b[4]?'\x3ca class\x3d"zg-star" data-tooltip\x3d"s$b$优质问答" href\x3d"/question/'+b[2]+'"\x3e\x3c/a\x3e':"")+['\x3ca class\x3d"zm-ac-link"','href\x3d"/question/'+b[2]+'"\x3e',b[0]].join("")+('\x3cspan class\x3d"zm-ac-gray"\x3e'+(d?d+" 个回答":"还没有回答")+"\x3c/span\x3e\x3c/a\x3e")):"search_link"===a.data[0]?(c.innerHTML='\x3ca href\x3d"/search?q\x3d'+b[0]+'\x26type\x3dquestion"\x3e查看全部搜索结果\x3ci class\x3d"zg-icon arrow"\x3e\x3c/i\x3e\x3c/a\x3e',z.W.add(c,
"zu-autocomplete-row-search-link")):"plain_text"===a.data[0]?c.innerHTML=b[0]:"sina"===a.data[0]&&(c.innerHTML=['\x3ca href\x3d"javascript:;" title\x3d"'+b[0]+'"\x3e','\x3cimg class\x3d"zm-item-img-avatar" src\x3d"'+b[2]+'" /\x3e',b[0],"\x3c/a\x3e"].join(""));(0,window.$)("a",c).click(function(a){a.preventDefault()})};z.Gr=function(a,b,c){for(c=c||"A";null!=b&&b!==a;){if(b.tagName===c)return b;b=b.parentNode}return null};z.Hr=function(a){this.LS=a;this.data=new z.Pd};
var Ir=function(a){return(a=z.ur(a))?a.length:0};var Jr=function(a,b,c,d){window._gaq||(window._gaq=[]);c&&(c=""+c);d&&(d=(0,window.parseInt)(d,10));window._gaq.push(["_trackEvent",a,b,c,d]);z.Ti&&Kr("trackEvent(deprecated)",z.ub(arguments))};var Lr=function(a){return(a=String(a).toLowerCase())?z.ob([".jpg",".jpeg",".png"],function(b){return z.sp(a,b)}):!1};var Mr=function(a,b){function c(b){return a.getElementsByTagName(b).length}var d=["img","embed"];return b&&z.ob(d,c)?!1:!z.jp(z.Nr,z.$a,z.pf)(a)};
z.Or=function(a,b){var c=window.$.extend({all:!1},z.Or.defaults,b||{}),d=(0,window.$)(a).get(0).getBoundingClientRect();return!c.all&&(d.bottom<c.paddingTop||d.bottom>(0,window.$)(window).height())||c.all&&(d.top<c.paddingTop||d.bottom>(0,window.$)(window).height())?!1:!0};
z.Pr=function(a,b){if(a){"number"===window.$.type(b)&&(b={offsetTop:b});var c=window.$.extend({OC:z.Or},Qr,b||{});if(!c.OC(a,c)){var d=(0,window.$)(a).offset().top-c.paddingTop-c.offsetTop||0;c.Aw?(0,window.$)(window.document.documentElement).add(window.document.body).animate({scrollTop:d}):(0,window.$)(window).scrollTop(d)}}};var Rr=function(a){(0,window.$)(a.target.N.h).off("click.disable-a").on("click.disable-a","a",function(a){a.preventDefault()})};
z.Sr=function(a,b){var c=null;return function(){var d=this,f=arguments;(0,window.clearTimeout)(c);c=(0,window.setTimeout)(function(){b.apply(d,f)},a)}};var Tr=function(a,b){var c=a.getBoundingClientRect(),d=z.Qg(window.document.body).top;if(0<c.top-d)b&&b();else{var f=a.offsetHeight,g=Go(window.document).y,h=z.Pe().height;b&&b();var k=a.offsetHeight;window.scrollTo(0,g+(c.bottom<h?k-f:c.top-d))}};
z.Ur=function(a){z.I.call(this);this.eI=null;this.Ad=a;this.o().g(this.Ad,["input","propertychange"],this.GL);Vr(this,!0);z.W.add(this.Ad,"zu-seamless-input-origin-element")};var Vr=function(a,b){Wr(a);if(a.vg){var c=a.Ad.value;if(b||a.eI!==c)a.eI=c,a.vg.value=c,c=z.Tg(a.Ad),a.Ad.style.height=z.Bg(a.vg.scrollHeight+c.top+c.bottom,!0),a.dispatchEvent("change")}};
var Wr=function(a){if(!a.vg&&0!==z.ho(a.Ad).width){var b=z.O("div",{style:"overflow:hiddenposition:relativeheight:0"},a.vg=z.O("textarea",{rows:1,className:"zu-seamless-input-mock-element"}));window.document.body.appendChild(b);z.Cb("paddingTop paddingBottom fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),function(a){this.vg.style[a]=z.wg(this.Ad,a)},a)}};var Xr=function(a){this.Ew=a};
var Yr=function(a,b){a&&(a.tabIndex=b?0:-1)};var Zr=function(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(1==d.nodeType){var g=a.po(d);g&&(g.h=d,b.isEnabled()||g.ab(!1),b.L(g),g.w(d))}else d.nodeValue&&""!=(0,z.$a)(d.nodeValue)||c.removeChild(d);d=f}};z.$r=function(a,b,c){z.R.call(this,c);this.N=b||Xr.aa();this.Sb=a||this.N.lG()};
var as=function(a,b){var c=a.o(),d=a.dc();b?c.g(d,"focus",a.qe).g(d,"blur",a.ed).g(a.Ks(),"key",a.ec):c.sa(d,"focus",a.qe).sa(d,"blur",a.ed).sa(a.Ks(),"key",a.ec)};var bs=function(a,b){var c=b.m(),c=c.id||(c.id=b.oe());a.Tg||(a.Tg={});a.Tg[c]=b};var cs=function(a){return z.bh(a,a.Xa)};z.ds=function(a){es(a,function(a,c){return(a+1)%c},z.ah(a)-1)};var fs=function(a){es(a,function(a,c){a--;return 0>a?c-1:a},0)};var gs=function(a){es(a,function(a,c){return(a+1)%c},a.Xa)};
var hs=function(a){es(a,function(a,c){a--;return 0>a?c-1:a},a.Xa)};var es=function(a,b,c){c=0>c?Pn(a,a.qc):c;var d=z.ah(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=z.bh(a,c);if(g&&a.uE(g)){a.Eb(c);break}f++;c=b.call(a,c,d)}};var is=function(){z.R.call(this);this.Jv=[]};z.js=function(a,b){this.Ma=a||[];this.LC=!b};var ks=function(a,b,c){var d=[];if(""!=a){a=z.Va(a);a=new RegExp("(^|\\W+)"+a,"i");for(var f=0;f<c.length&&d.length<b;f++){var g=c[f];String(g).match(a)&&d.push(g)}}return d};
var ls=function(a,b,c){for(var d=[],f=0;f<c.length;f++){var g=c[f],h=a.toLowerCase(),k=String(g).toLowerCase(),l=0;if(-1!=k.indexOf(h))l=(0,window.parseInt)((k.indexOf(h)/4).toString(),10);else for(var p=h.split(""),r=-1,w=10,H=0,K;K=p[H];H++)K=k.indexOf(K),K>r?(r=K-r-1,r>w-5&&(r=w-5),l+=r,r=K):(l+=w,w+=5);l<6*h.length&&d.push({nX:g,zK:l,index:f})}d.sort(function(a,b){var c=a.zK-b.zK;return 0!=c?c:a.index-b.index});a=[];for(H=0;H<b&&H<d.length;H++)a.push(d[H].nX);return a};
z.ms=function(a,b,c){z.I.call(this);this.Td=a;this.Mf=c;this.N=b;z.G(b,[ns,z.os,ps,z.qs],this.handleEvent,!1,this);this.bc=null;this.Ma=[];this.kh=-1;this.bd=0;this.ge=this.Fc=null;this.vH={}};z.rs=function(a){for(var b=a.bd+a.Ma.length-1,c=a.kh,d=0;d<a.Ma.length;d++){if(c>=a.bd&&c<b)c++;else if(-1==c)c=a.bd;else if(a.QD&&c==b){a.ng(-1);break}else if(a.iM&&c==b)c=a.bd;else break;if(a.ng(c))break}};
var ss=function(a){for(var b=a.bd+a.Ma.length-1,c=a.kh,d=0;d<a.Ma.length;d++){if(c>a.bd)c--;else if(a.QD&&c==a.bd){a.ng(-1);break}else if(!a.iM||-1!=c&&c!=a.bd)break;else c=b;if(a.ng(c))break}};z.ts=function(a){a.lH()||window.setTimeout((0,z.t)(a.lH,a),10)};var us=function(a,b){var c=b-a.bd;return 0>c||c>=a.Ma.length?-1:c};
z.vs=function(a){var b=0,c=0;if(ws(a))b=a.selectionStart,c=-1;else if(z.D){var d=xs(a),f=d[0],d=d[1];if(f.inRange(d)){f.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=f.text;for(c=!1;!c;)0==f.compareEndPoints("StartToEnd",f)?c=!0:(f.moveEnd("character",-1),f.text==a?b+="\r\n":c=!0);f=[b.length,-1];return f}b=f.text.length;c=-1}}return[b,c]};
z.ys=function(a,b){if(ws(a))a.selectionStart=b,a.selectionEnd=b;else if(z.D){b=zs(a,b);var c=a.createTextRange();c.collapse(!0);c.move("character",b);c.select()}};var xs=function(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]};var zs=function(a,b){"textarea"==a.type&&(b=z.Ka(a.value.substring(0,b)).length);return b};var ws=function(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};
z.As=function(a,b,c,d){z.wc.call(this);d=d||150;this.um=null!=c?c:!0;this.$p=a||",;";this.hP=this.$p.substring(0,1);a=this.um?"[\\s"+this.$p+"]+":"[\\s]+";this.yL=new RegExp("^"+a+"|"+a+"$","g");this.OW=new RegExp("\\s*["+this.$p+"]$");this.kI=b||"";this.FV=!1;this.EV=this.um;this.la=0<d?new z.sd(d):null;this.ic=new z.wd(this);this.kw=new z.wd(this);this.Cb=new Mp;this.bI=-1};
var Bs=function(a,b,c){if(z.ja(c)?c:a.um){c=Cs(a,a.Y(),z.vs(a.ib)[0]);var d=Ds(a,a.Y());a.OW.test(b)||(b=z.mp(b)+a.hP);a.rY&&(0==c||z.rp(d[c-1])||(b=" "+b),c==d.length-1&&(b+=" "));if(b!=d[c]){d[c]=b;b=a.ib;(z.C||z.D&&z.F("9"))&&b.blur();b.value=d.join("");for(var f=0,g=0;g<=c;g++)f+=d[g].length;b.focus();c=f;d=a.ib;b=c;ws(d)?d.selectionStart=b:z.D&&(f=xs(d),g=f[0],g.inRange(f[1])&&(b=zs(d,b),g.collapse(!0),g.move("character",b),g.select()));d=a.ib;ws(d)?d.selectionEnd=c:z.D&&(f=xs(d),b=f[1],f[0].inRange(b)&&
(c=zs(d,c),d=zs(d,z.vs(d)[0]),b.collapse(!0),b.moveEnd("character",c-d),b.select()))}}else a.Da(b);a.wB=!0};var Es=function(a,b){var c=a.um&&b.charCode&&-1!=a.$p.indexOf(String.fromCharCode(b.charCode));a.QW&&c&&a.update();return a.PW&&c&&a.ba.Vi()?(b.preventDefault(),!0):!1};var Fs=function(a){a.Cb.attach(a.ib);a.ic.g(a.Cb,"key",a.Fp);a.ic.g(a.ib,"mousedown",a.nJ);z.D&&a.ic.g(a.ib,"keypress",a.kJ)};
var Gs=function(a,b){a.kw.removeAll();a.ba&&z.ts(a.ba);b!=a.ib&&(a.ib=b,a.la&&(a.la.start(),a.ic.g(a.la,"tick",a.Ip)),a.hp=a.Y(),Fs(a))};var Hs=function(a){a.ij&&(a.ij=!1,a.ic.sa(a.ib,"keypress",a.lJ),a.ic.sa(a.ib,"keyup",a.mJ))};var Cs=function(a,b,c){a=Ds(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b};
var Ds=function(a,b){if(!a.um)return[b];for(var c=String(b).split(""),d=[],f=[],g=0,h=!1;g<c.length;g++)a.kI&&-1!=a.kI.indexOf(c[g])?(a.dQ&&!h&&(d.push(f.join("")),f.length=0),f.push(c[g]),h=!h):h||-1==a.$p.indexOf(c[g])?f.push(c[g]):(f.push(c[g]),d.push(f.join("")),f.length=0);d.push(f.join(""));return d};z.Is=function(a,b,c){z.wc.call(this);this.GC=a;this.LC=!b;this.da=new z.ce(c)};
z.Js=function(a,b,c,d,f,g,h,k,l){var p=Ks(c),r=Co(a),w=Fo(a);w&&r.Gz(new z.rg(w.left,w.top,w.right-w.left,w.bottom-w.top));var w=z.He(a),H=z.He(c);if(w.va()!=H.va()){var K=w.va().body;var H=H.$a(),M=new z.Fe(0,0),ea=z.Se(z.Je(K));if(z.Nc(ea,"parent")){var Za=K;do{var eb=ea==H?z.Yn(Za):z.Fg(Za);M.x+=eb.x;M.y+=eb.y}while(ea&&ea!=H&&ea!=ea.parent&&(Za=ea.frameElement)&&(ea=ea.parent))}K=lo(M,z.Yn(K));!z.D||9<=z.Ug||Sn(w)||(K=lo(K,z.wf(w)));r.left+=K.x;r.top+=K.y}a=Ls(a,b);r=new z.Fe(a&2?r.left+r.width:
r.left,a&1?r.top+r.height:r.top);r=lo(r,p);f&&(r.x+=(a&2?-1:1)*f.x,r.y+=(a&1?-1:1)*f.y);var Ha;if(h)if(l)Ha=l;else if(Ha=Fo(c))Ha.top-=p.y,Ha.right-=p.x,Ha.bottom-=p.y,Ha.left-=p.x;return Ms(r,c,d,g,Ha,h,k)};
var Ks=function(a){var b;if(a=a.offsetParent){var c="HTML"==a.tagName||"BODY"==a.tagName;c&&"static"==z.zg(a)||(b=z.Yn(a),c||(c=(c=z.Ng(a))&&z.C?-a.scrollLeft:!c||z.Kl&&z.F("8")||"visible"==z.yg(a,"overflowX")?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft,b=lo(b,new z.Fe(c,a.scrollTop))))}return b||new z.Fe};
var Ms=function(a,b,c,d,f,g,h){a=a.clone();var k=Ls(b,c);c=z.Ig(b);h=h?h.clone():c.clone();a=a.clone();h=h.clone();var l=0;if(d||0!=k)k&2?a.x-=h.width+(d?d.right:0):d&&(a.x+=d.left),k&1?a.y-=h.height+(d?d.bottom:0):d&&(a.y+=d.top);if(g){if(f){d=a;k=h;l=0;65==(g&65)&&(d.x<f.left||d.x>=f.right)&&(g&=-2);132==(g&132)&&(d.y<f.top||d.y>=f.bottom)&&(g&=-5);d.x<f.left&&g&1&&(d.x=f.left,l|=1);if(g&16){var p=d.x;d.x<f.left&&(d.x=f.left,l|=4);d.x+k.width>f.right&&(k.width=Math.min(f.right-d.x,p+k.width-f.left),
k.width=Math.max(k.width,0),l|=4)}d.x+k.width>f.right&&g&1&&(d.x=Math.max(f.right-k.width,f.left),l|=1);g&2&&(l=l|(d.x<f.left?16:0)|(d.x+k.width>f.right?32:0));d.y<f.top&&g&4&&(d.y=f.top,l|=2);g&32&&(p=d.y,d.y<f.top&&(d.y=f.top,l|=8),d.y+k.height>f.bottom&&(k.height=Math.min(f.bottom-d.y,p+k.height-f.top),k.height=Math.max(k.height,0),l|=8));d.y+k.height>f.bottom&&g&4&&(d.y=Math.max(f.bottom-k.height,f.top),l|=2);g&8&&(l=l|(d.y<f.top?64:0)|(d.y+k.height>f.bottom?128:0));f=l}else f=256;l=f}g=new z.rg(0,
0,0,0);g.left=a.x;g.top=a.y;g.width=h.width;g.height=h.height;f=l;if(f&496)return f;z.Ag(b,new z.Fe(g.left,g.top));h=g.gh();z.To(c,h)||(c=h,a=Sn(z.He(z.Je(b))),!z.D||z.F("10")||a&&z.F("8")?(b=b.style,z.C?b.MozBoxSizing="border-box":z.E?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(c.width,0)+"px",b.height=Math.max(c.height,0)+"px"):(h=b.style,a?(a=z.Qg(b),b=z.Tg(b),h.pixelWidth=c.width-b.left-a.left-a.right-b.right,h.pixelHeight=c.height-b.top-a.top-a.bottom-b.bottom):(h.pixelWidth=
c.width,h.pixelHeight=c.height)));return f};var Ls=function(a,b){return(b&4&&z.Ng(a)?b^2:b)&-5};z.Ns=function(a,b,c,d){z.I.call(this);this.Wa=a||window.document.body;this.ca=z.He(this.Wa);this.Tp=!a;this.h=null;this.bc="";this.Ma=[];this.Kf=[];this.YK=this.jm=-1;this.xb=!1;this.className="ac-renderer";this.Fh="ac-row";this.gI="active";this.lw="ac-active";this.$R="ac-highlighted";this.Cl=b||null;this.QL=null!=d?d:!0;this.sT=!0;this.Go=!1;this.pW=!!c;this.uv=!1;this.sp=0;this.TK=!1};
var Os=function(a,b){a.Fc&&(z.jj(a.Fc,"haspopup",b),z.jj(a.h,"expanded",b),b?z.jj(a.Fc,"owns",a.h.id):(a.Fc.removeAttribute("aria-owns"),xo(a.Fc,null)))};var Ps=function(a,b){var c=0<=b&&b<a.Ma.length?a.Ma[b]:void 0,d=0<=b&&b<a.Kf.length?a.Kf[b]:void 0;a.dispatchEvent({type:"rowhilite",i_:d,Si:c?c.data:null})&&(0<=a.jm&&z.Ii(a.Kf[a.jm],[a.lw,a.gI]),a.jm=b,d&&(z.Gi(d,[a.lw,a.gI]),a.Fc&&xo(a.Fc,d),Eo(d,a.h)))};
var Qs=function(a){if(!a.h){var b=a.ca.B("DIV",{style:"display:none"});a.TK&&(b.style.overflowY="auto");a.h=b;z.Gi(b,(0,z.$a)(a.className).split(" "));z.ij(b,"listbox");b.id=z.Xg(z.Wg.aa());a.ca.appendChild(a.Wa,b);z.G(b,"click",a.Zl,!1,a);z.G(b,"mousedown",a.$l,!1,a);z.G(b,"mouseover",a.IG,!1,a)}};
var Rs=function(a){Qs(a);a.uv&&(a.h.style.visibility="hidden");a.sY&&(a.h.style.minWidth=a.sY.clientWidth+"px");a.Kf.length=0;a.ca.Sp(a.h);if(a.Cl&&a.Cl.render)a.Cl.render(a,a.h,a.Ma,a.bc);else{var b=null;z.A(a.Ma,function(a){a=Ss(this,a,this.bc);this.uv?this.h.insertBefore(a,b):this.ca.appendChild(this.h,a);b=a},a)}0==a.Ma.length?a.Kc():(a.show(),a.ha(),z.Bo(a.h,!0))};
var Ts=function(a,b,c){if(a.Go||!a.dM)if(3==b.nodeType){var d=null;z.ma(c)&&1<c.length&&!a.Go&&(d=z.xb(c,1));c=Us(a,c);if(0!=c.length){var f=b.nodeValue,g=a.sT?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var h=0,k=g.exec(f),l=0;k;)l++,c.push(f.substring(h,k.index)),c.push(f.substring(k.index,g.lastIndex)),h=g.lastIndex,k=g.exec(f);c.push(f.substring(h));if(1<c.length){d=a.Go?l:1;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],h=a.ca.createElement("B"),h.className=a.$R,a.ca.appendChild(h,a.ca.createTextNode(c[g+
1])),h=b.parentNode.insertBefore(h,b.nextSibling),b.parentNode.insertBefore(a.ca.createTextNode(""),h.nextSibling),b=h.nextSibling;c=z.xb(c,2*d);b.nodeValue=c.join("");a.dM=!0}else d&&Ts(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Ts(a,b,c),b=d};
var Us=function(a,b){var c="";if(!b)return c;z.ma(b)&&(b=z.lb(b,function(a){return!z.rp(null==a?"":String(a))}));a.Go?z.ma(b)?c=z.mb(b,z.Va).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=z.Va(c),c=c.replace(/ /g,"|")):z.ma(b)?c=0<b.length?z.Va(b[0]):"":/^\W/.test(b)||(c=z.Va(b));return c};
var Ss=function(a,b,c){var d=a.ca.B("DIV",{className:a.Fh,id:z.Xg(z.Wg.aa())});z.ij(d,"option");a.Cl&&a.Cl.kd?a.Cl.kd(b,c,d):a.kK(b,c,d);c&&a.QL&&(a.dM=!1,Ts(a,d,c));z.Fi(d,a.Fh);a.Kf.push(d);return d};var Vs=function(a,b){for(;b&&b!=a.h&&!z.Ei(b,a.Fh);)b=b.parentNode;return b?z.kb(a.Kf,b):-1};z.Ws=function(a,b,c,d){this.Td=a=new z.Is(a,!d);d=new z.Ns;c=new z.As(null,null,!!c,300);z.ms.call(this,a,d,c);c.ba=this;c.jl(b)};
z.Xs=function(a,b){var c=this,d={};z.Lb(d,this.defaults,b||{});this.J=d;var f=d.kd?{kd:(0,z.t)(d.kd,c)}:null;f&&(f.render=d.render?(0,z.t)(d.render,c):null);this.N=f=new z.Ns(d.Pi,f);var g="string"===typeof d.source?z.Is:z.js,h=new g(d.source,!d.kY);this.Td=h;var k=d.Ez;k||(k=new z.As(d.separator,d.oP,!!d.multiple,d.delay),k.Wi=function(a,b){var f;z.qa(d.select)&&(f=d.select.call(c,a,c.N.Kf[c.N.jm]));Bs(this,z.ja(f)?f:a.label||a.toString(),b);return!1});z.ms.call(this,h,f,k);k.ba=this;k.jl(a);a.setAttribute("autocomplete",
"off");h.Ri=function(a,b,f){var h=f;z.qa(d.format)&&(h=function(a,b){var g=d.format.call(c,b,a);z.qa(d.filter)&&(g=d.filter.call(c,g,a));f(a,g)});return g.prototype.Ri.call(this,a,b,h)};f.kK=function(a,b,c){a=a.data;c.innerHTML=a.GX?a.GX():a.label||a.toString()};this.Fc=a;d.ue&&(this.qk=d.ue);d.placeholder&&(this.rc=new z.wk(a,d.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.Bb()?"show":"hide")})};var Ys=function(a,b,c,d){z.As.call(this,a,b,c,d)};
z.Zs=function(){z.I.call(this);this.gH=0;this.$c=[];this.Fl=[];this.Kx={};this.U=new z.wd(this);this.HS=this.FH=!1;this.EC=!0};z.$s=function(a,b,c){b.AF=c;b.Bj=void 0;a.$c.push(b)};var at=function(a,b){for(var c=0,d=a.$c.length;c<d;c++){var f=a.$c[c];f.El=Co(f)}c=0;for(d=a.Fl.length;c<d;c++)f=a.Fl[c],f!=b&&(f.El=Co(f))};
var bt=function(a){z.Bc(a.Ob);a.Lc&&z.P(a.Lc);a.Oa&&"none"==a.Oa.style.display&&(a.ou.insertBefore(a.Oa,a.NA),a.Oa.style.display="");a.sx&&a.Oa?z.Ii(a.Oa,a.sx||[]):a.Oa&&(a.Oa.style.visibility="");for(var b=0,c=a.$c.length;b<c;b++){var d=a.$c[b];d.Bj&&z.Hi(d,d.Bj)}};var ct=function(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height};var dt=function(a,b){var c=a.El;return Math.abs(b.y-(c.top+(c.height-1)/2))};var et=function(a){return a.top+a.height-1};
var ft=function(a){return a.left+a.width-1};var gt=function(a){return a.left||0};var ht=function(a,b){return a<b};var it=function(a,b){return a>b};var jt=function(a,b,c,d,f,g){z.Kc.call(this,a);this.event=c;this.ZO=d;this.ms=g};z.kt=function(a,b){z.R.call(this,b);this.Rb=a||""};var lt=function(){null!=mt||(mt="placeholder"in window.document.createElement("INPUT"));return mt};var nt=function(a){!a.$P&&a.U&&a.m().form&&(a.U.g(a.m().form,"submit",a.ZQ),a.$P=!0)};
var ot=function(a){return!!a.m()&&""!=a.m().value&&a.m().value!=a.Rb};var pt=function(a,b){return window.$.post("/node/MemberFollowBaseV2",{method:b?"follow_member":"unfollow_member",params:{hash_id:a}})};var qt=function(a,b){return window.$.post("/node/QuestionFollowBaseV2",{method:b?"follow_question":"unfollow_question",params:{question_id:a}})};var rt=function(a,b){return window.$.post(b?"/collection/follow":"/collection/unfollow",{favlist_id:a})};
var st=function(a,b){return window.$.post("/node/TopicFollowBaseV2",{method:b?"follow_topic":"unfollow_topic",params:{topic_id:a}})};z.tt=function(a,b){return window.$.get("/"+a+"/"+b+"/sharetext")};var ut=function(a,b,c,d){z.As.call(this,a,b,c,d)};var vt=function(a,b){z.Is.call(this,a,b);this.vB=null;this.UF=!0};var wt=function(a,b,c,d){this.GI=0;z.As.call(this,a,b,!!c,d||300)};var xt=function(a,b,c,d){wt.call(this,a,b,!!c,d)};
z.yt=function(a,b,c,d,f,g,h,k,l){var p={};"question_suggest"===g?(p.render=(0,z.t)(this.cW,this),p.kd=Fr):"topic_question"===g?(p.render=(0,z.t)(this.eW,this),p.kd=Er):p.kd=g?Er:Fr;g=new z.Ns(f,p);f&&(g.Tp=!1);g.Go=!0;this.N=g;this.Td=new vt(a,!d);a=l?l:new wt(null,null,c);h&&h.length&&new z.wk(b,h[0]);a.FL=!1;z.ms.call(this,this.Td,g,a);a.ba=this;a.xr(b);k&&(a.GI=k)};
z.zt=function(a,b,c){z.I.call(this);this.Se=c||"搜索话题";this.qa=b;this.data=a||[];this.status=At;this.ZV="/topic/unbind";this.rN="/topic/bind";this.isEnabled=!0;this.Ko='\x3ca class\x3d"zm-tag-editor-tip-link" href\x3d"#" name\x3d"edit"\x3e帮忙给这个问题选个话题吧，好让别人来回答\x3c/a\x3e\x3ca name\x3d"edit" class\x3d"zu-edit-button" href\x3d"#"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e添加\x3c/a\x3e';this.ue=10;this.au=!1;this.kp=window.Infinity;this.Wt=0;this.ID=!1};
var Bt=function(a){a=z.So("zm-item-tag",a.Hg);return z.mb(a,function(a){var c=[(0,z.$a)(a.innerHTML),a.getAttribute("data-token"),null,a.getAttribute("data-topicid")];c.VX=!!a.getAttribute("data-uneditable");return c})};z.Ct=function(a){if(a.data.length){var b=z.mb(a.data,function(a){return z.tr(a,"",null,"b")},a);a.isEnabled&&b.push(wr());a.Hg.innerHTML=b.join("")}else a.isEnabled&&(a.Hg.innerHTML=a.Ko)};var Dt=function(a,b){return z.lb(b,function(a){return"topic"!==a[0]?!1:!this.ay(a)},a)};
var Et=function(a,b,c){function d(){return z.pb(b,function(a){return"topic"===a[0]&&a[4]&&a[1]===c})}function f(){return z.pb(b,function(a){return 3>=a.length&&a[1]===z.Ja("创建 %s 话题",a[2])})}var g=(0,z.t)(function(){return z.pb(this.data,function(a){return a[0]===c})},a);z.T.ct?!a.ID||b.length&&(f()||d())||g()||b.push(["topic",z.Ja("创建 %s 话题",c),c]):(a=f())&&(1<b.length?z.sb(b,a):b=[["plain_text",'\x3cspan class\x3d"zu-autocomplete-row-name zu-autocomplete-row-name-info"\x3e没有找到话题：'+a[2]+'\x3c/span\x3e\x3cspan class\x3d"zg-gray-normal zu-autocomplete-row-description"\x3e请使用已经创建的话题\x3c/span\x3e']]);
return b};z.Ft=function(a){var b=a.data.length>=a.kp;a.ie&&z.Q(a.ie,!b);a.Tt&&z.Q(a.Tt,b)};z.Gt=function(a){var b=[];a.data=z.lb(a.data,function(a){if(z.B(b,a[1]))return!1;b.push(a[1]);return!0})};z.Ht=function(a,b,c){z.zt.call(this,a,0,c?"添加父话题":"添加子话题");this.Nz=c;this.Rf=b;this.Ko="";this.jK="/topic/parent/remove"};var It=function(a){z.zt.call(this);this.Ko="";this.Se=a||"";this.kp=this.ue=5;this.$q=(0,window.$)("#zh-question-suggest-title-content")};
var Jt=function(a){var b;b=a.tq?z.lb(a.tq,function(a){return!this.ay(a)},a):[];a.dr.show();b&&0!==b.length||a.dr.hide();var c="";b=z.mb(b,function(a){return"\x3ca href\x3d'javascript:;' name\x3d'add' data-id\x3d'"+a[4]+"' data-text\x3d'"+a[1]+"' class\x3d'zg-r3px zm-item-tag'\x3e\x3cspan\x3e"+a[1]+"\x3c/span\x3e\x3c/a\x3e"});c+=b.join("");a.DM.html(c);a.Zv.hide()};z.Kt=function(a){z.zt.call(this,a,0);this.Ko="";this.oE="/topic/ignore"};var Lt=function(){z.wc.call(this)};
z.Mt=function(a){z.wc.call(this);this.XK=z.lp();this.IF=z.lp();this.uB=a.oh();this.ca=z.He(a.va());a.wq(this.ca.B("SPAN",{id:this.XK}),this.ca.B("SPAN",{id:this.IF}))};z.Nt=function(a,b){return a.ca.m(b?a.XK:a.IF)};z.Ot=function(a,b,c,d,f){this.Qc=!!b;this.node=null;this.Zb=0;this.Mk=!1;this.Sr=!c;a&&this.setPosition(a,d);this.depth=void 0!=f?f:this.Zb||0;this.Qc&&(this.depth*=-1)};var Pt=function(){};
var Qt=function(a){if(a.getSelection)return a.getSelection();a=a.document;var b=a.selection;if(b){try{var c=b.createRange();if(c.parentElement){if(c.parentElement().document!=a)return null}else if(!c.length||c.item(0).document!=a)return null}catch(d){return null}return b}return null};z.Rt=function(a){for(var b=[],c=0,d=a.Tj();c<d;c++)b.push(a.Oe(c));return b};z.St=function(a){return a.oh()?a.ka():a.Z()};z.Tt=function(a){return a.oh()?a.Qa():a.wa()};z.Ut=function(a){return a.oh()?a.Z():a.ka()};
z.Vt=function(a){return a.oh()?a.wa():a.Qa()};var Wt=function(a,b){z.Ot.call(this,a,b,!0)};var Xt=function(){};z.Yt=function(a,b,c,d,f){this.ua=this.ya=null;this.Ca=this.Ea=0;var g;a&&(this.ya=a,this.Ea=b,this.ua=c,this.Ca=d,1==a.nodeType&&"BR"!=a.tagName&&(a=a.childNodes,(b=a[b])?(this.ya=b,this.Ea=0):(a.length&&(this.ya=z.jb(a)),g=!0)),1==c.nodeType&&((this.ua=c.childNodes[d])?this.Ca=0:this.ua=c));z.Ot.call(this,f?this.ua:this.ya,f,!0);if(g)try{this.next()}catch(h){if(h!=z.Md)throw h;}};
var Zt=function(a,b){null!=a&&this.append.apply(this,arguments)};var $t=function(){};var au=function(a,b){var c=a.O.getClientRects();return c.length?(c=b?c[0]:z.jb(c),new z.Fe(b?c.left:c.right,b?c.top:c.bottom)):null};var bu=function(a){this.O=a};
var cu=function(a){var b=z.Je(a).createRange();if(3==a.nodeType)b.setStart(a,0),b.setEnd(a,a.length);else if(du(a)){for(var c,d=a;(c=d.firstChild)&&du(c);)d=c;b.setStart(d,0);for(d=a;(c=d.lastChild)&&du(c);)d=c;b.setEnd(d,1==d.nodeType?d.childNodes.length:d.length)}else c=a.parentNode,a=z.kb(c.childNodes,a),b.setStart(c,a),b.setEnd(c,a+1);return b};var eu=function(a,b,c,d){var f=z.Je(a).createRange();f.setStart(a,b);f.setEnd(c,d);return f};var fu=function(a){this.O=a};
z.gu=function(a,b){this.ua=this.ya=this.Ag=null;this.Ca=this.Ea=-1;this.O=a;this.ks=b};var hu=function(a){var b=z.Je(a).body.createTextRange();if(1==a.nodeType)b.moveToElementText(a),du(a)&&!a.childNodes.length&&b.collapse(!1);else{for(var c=0,d=a;d=d.previousSibling;){var f=d.nodeType;if(3==f)c+=d.length;else if(1==f){b.moveToElementText(d);break}}d||b.moveToElementText(a.parentNode);b.collapse(!d);c&&b.move("character",c);b.moveEnd("character",a.length)}return b};
var iu=function(a,b){for(var c=b.childNodes,d=0,f=c.length;d<f;d++){var g=c[d];if(du(g)){var h=hu(g),k=h.htmlText!=g.outerHTML;if(a.isCollapsed()&&k?0<=a.Ke(h,1,1)&&0>=a.Ke(h,1,0):a.O.inRange(h))return iu(a,g)}}return b};
var ju=function(a,b,c){c=c||a.zc();if(!c||!c.firstChild)return c;for(var d=1==b,f=0,g=c.childNodes.length;f<g;f++){var h=d?f:g-f-1,k=c.childNodes[h],l;try{l=ku(k)}catch(r){continue}var p=l.O;if(a.isCollapsed())if(!du(k)){if(0==a.Ke(p,1,1)){a.Ea=a.Ca=h;break}}else{if(l.Ug(a))return ju(a,b,k)}else{if(a.Ug(l)){if(!du(k)){d?a.Ea=h:a.Ca=h+1;break}return ju(a,b,k)}if(0>a.Ke(p,1,0)&&0<a.Ke(p,0,1))return ju(a,b,k)}}return c};
var lu=function(a,b){var c=1==b,d=c?a.Z():a.ka();if(1==d.nodeType){for(var d=d.childNodes,f=d.length,g=c?1:-1,h=c?0:f-1;0<=h&&h<f;h+=g){var k=d[h];if(!du(k)&&0==a.O.compareEndPoints((1==b?"Start":"End")+"To"+(1==b?"Start":"End"),ku(k).O))return c?h:h+1}return-1==h?0:h}f=a.O.duplicate();g=hu(d);f.setEndPoint(c?"EndToEnd":"StartToStart",g);f=f.text.length;return c?d.length-f:f};var mu=function(a){return 3==a.nodeType?a.nodeValue:a.innerText};
var nu=function(a,b,c){c=c||z.He(a.parentElement());var d,f=d=b.id;d||(d=b.id=z.lp());a.pasteHTML(b.outerHTML);(b=c.m(d))&&(f||b.removeAttribute("id"));return b};var ou=function(a,b,c){var d;d=d||z.He(a.parentElement());var f;1!=b.nodeType&&(f=!0,b=d.B("DIV",null,b));a.collapse(c);b=nu(a,b,d);f&&(a=b.firstChild,d.TP(b),b=a);return b};var pu=function(a){this.O=a};var qu=function(a){this.O=a};
var ru=function(a){return z.Vl?new z.gu(a,z.Je(a.parentElement())):z.E?new qu(a):z.C?new fu(a):z.vg?new pu(a):new bu(a)};
var ku=function(a){if(!z.D||9<=z.Ug)a=z.E?new qu(cu(a)):z.C?new fu(cu(a)):z.vg?new pu(cu(a)):new bu(cu(a));else{var b=new z.gu(hu(a),z.Je(a));if(du(a)){for(var c,d=a;(c=d.firstChild)&&du(c);)d=c;b.ya=d;b.Ea=0;for(d=a;(c=d.lastChild)&&du(c);)d=c;b.ua=d;b.Ca=1==d.nodeType?d.childNodes.length:d.length;b.Ag=a}else b.ya=b.ua=b.Ag=a.parentNode,b.Ea=z.kb(b.Ag.childNodes,a),b.Ca=b.Ea+1;a=b}return a};var du=function(a){return z.Ze(a)||3==a.nodeType};
z.su=function(){this.Ca=this.ua=this.Ea=this.ya=this.di=null;this.Af=!1};var tu=function(a,b){var c=new z.su;c.di=a;c.Af=!!b;return c};z.uu=function(a,b,c,d){var f=new z.su;f.Af=vu(a,b,c,d);if(z.kf(a)&&!z.Ze(a)){var g=a.parentNode;b=z.kb(g.childNodes,a);a=g}z.kf(c)&&!z.Ze(c)&&(g=c.parentNode,d=z.kb(g.childNodes,c),c=g);f.Af?(f.ya=c,f.Ea=d,f.ua=a,f.Ca=b):(f.ya=a,f.Ea=b,f.ua=c,f.Ca=d);return f};
z.wu=function(a){var b;if(!(b=a.di)){b=a.Z();var c=a.wa(),d=a.ka(),f=a.Qa();if(!z.D||9<=z.Ug)b=z.E?new qu(eu(b,c,d,f)):z.C?new fu(eu(b,c,d,f)):z.vg?new pu(eu(b,c,d,f)):new bu(eu(b,c,d,f));else{var g=b,h=c,k=d,l=f,p=!1;1==g.nodeType&&(h=g.childNodes[h],p=!h,g=h||g.lastChild||g,h=0);var r=hu(g);h&&r.move("character",h);g==k&&h==l?r.collapse(!0):(p&&r.collapse(!1),p=!1,1==k.nodeType&&(k=(h=k.childNodes[l])||k.lastChild||k,l=0,p=!h),g=hu(k),g.collapse(!p),l&&g.moveEnd("character",l),r.setEndPoint("EndToEnd",
g));l=new z.gu(r,z.Je(b));l.ya=b;l.Ea=c;l.ua=d;l.Ca=f;b=l}b=a.di=b}return b};var xu=function(a){z.wc.call(this);this.UD=z.St(a);this.QN=z.Tt(a);this.ZF=z.Ut(a);this.WP=z.Vt(a)};z.yu=function(){this.oq=this.kb=this.O=null};var zu=function(a){var b=new z.yu;b.O=a;return b};var Au=function(a){for(var b=z.Je(arguments[0]).body.createControlRange(),c=0,d=arguments.length;c<d;c++)b.addElement(arguments[c]);return zu(b)};
var Bu=function(a){a.oq||(a.oq=a.xi().concat(),a.oq.sort(function(a,c){return a.sourceIndex-c.sourceIndex}));return a.oq};var Cu=function(a){this.kb=a.xi()};var Du=function(a){this.kb=this.ua=this.ya=null;a&&(this.kb=Bu(a),this.ya=this.kb.shift(),this.ua=z.jb(this.kb)||this.ya);z.Ot.call(this,this.ya,!1,!0)};z.Eu=function(){this.Xf=[];this.Gm=[];this.Tr=this.Vm=null};var Fu=function(a){var b=new z.Eu;b.Gm=a;b.Xf=z.mb(a,function(a){return a.ne()});return b};
var Gu=function(a){a.Vm||(a.Vm=z.Rt(a),a.Vm.sort(function(a,c){var d=a.Z(),f=a.wa(),g=c.Z(),h=c.wa();return d==g&&f==h?0:vu(d,f,g,h)?1:-1}));return a.Vm};var Hu=function(a){this.yB=z.mb(z.Rt(a),function(a){return a.xB()})};var Iu=function(a){this.rg=null;this.zl=0;a&&(this.rg=z.mb(Gu(a),function(a){return z.Ld(a)}));Wt.call(this,a?this.Z():null,!1)};z.Ju=function(a){return(a=Qt(a||window))&&Ku(a)};
var Ku=function(a){var b,c=!1;if(a.createRange)try{b=a.createRange()}catch(f){return null}else if(a.rangeCount){if(1<a.rangeCount){b=new z.Eu;for(var c=0,d=a.rangeCount;c<d;c++)b.Xf.push(a.getRangeAt(c));return b}b=a.getRangeAt(0);c=vu(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}else return null;return z.Lu(b,c)};z.Lu=function(a,b){return a&&a.addElement?zu(a):tu(ru(a),b)};z.Mu=function(a){return tu(ku(a),void 0)};z.Nu=function(a,b){return z.uu(a,b,a,b)};var Ou=function(a){if(a=Qt(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(b){}};
var vu=function(a,b,c,d){if(a==c)return d<b;var f;if(1==a.nodeType&&b)if(f=a.childNodes[b])a=f,b=0;else if(z.mf(a,c))return!0;if(1==c.nodeType&&d)if(f=c.childNodes[d])c=f,d=0;else if(z.mf(c,a))return!1;return 0<(Oo(a,c)||b-d)};z.Pu=function(a,b,c){this.TI=a;this.nW=!!c;a&&!b&&this.next()};var Qu=function(a,b,c){z.ja(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);z.Pu.call(this,a.childNodes[c],!0,b)};z.Ru=function(a){for(var b;b=a&&1==a.nodeType?z.Su(z.$o(new Qu(a,!1),z.Tu)):null;)a=b;return a};
z.Uu=function(a){return z.Su(z.$o(new z.Pu(a),z.Tu))};z.Su=function(a){try{return a.next()}catch(b){return null}};z.Tu=function(a){return 1==a.nodeType||3==a.nodeType&&!z.qp(a.nodeValue)};z.Vu=function(a,b){var c=z.Ko(a);if(a.getElementsByTagName)for(var d in Wu)if(a.tagName==d||0<a.getElementsByTagName(d).length)return!1;return!b&&" "==c||z.qp(c)};z.Xu=function(a){return a.length||a.childNodes.length};z.Yu=function(a){return a.getAttribute&&"true"==a.getAttribute("g_editable")};
z.Zu=function(a,b){z.D&&z.af(a);a.innerHTML=b};var $u=function(a){return(a=a.exec(z.Ab))?a[1]:""};z.av=function(a){var b=a&&a.nodeName;return!(!a||"block"!=(1!=a.nodeType?null:z.D?z.xg(a,"display"):z.wg(a,"display"))&&"TD"!=b&&"TABLE"!=b&&"LI"!=b)};z.bv=function(a){return z.vf(a,z.av,!0)};z.cv=function(a){z.Nu(z.Ru(a),0).select()};z.dv=function(a,b){var c=a.parentNode,d=z.kb(c.childNodes,a)+(b?0:1),c=ev(c,d,b,!0);z.Nu(c.node,c.offset).select()};
var fv=function(a){for(var b=null,c=a.firstChild;c;){var d=c.nextSibling;3==c.nodeType?""==c.nodeValue?a.removeChild(c):b?(b.nodeValue+=c.nodeValue,a.removeChild(c)):b=c:(fv(c),b=null);c=d}};var gv=function(a,b){if(b)var c=hv(b),d=z.bv(b.Vb());d?(d=No(d,a),z.D?fv(d):d.normalize()):a&&(z.D?fv(a):a.normalize());return c?c():null};z.iv=function(a,b){return b?ev(a.Z(),a.wa()):ev(a.ka(),a.Qa())};
var hv=function(a){var b=a.oh(),c=jv(z.iv(a,!b)),d=kv(c),f=c.node.previousSibling;3==c.node.nodeType&&(c.node=null);var g=jv(z.iv(a,b)),h=kv(g),k=g.node.previousSibling;3==g.node.nodeType&&(g.node=null);return function(){!c.node&&f&&(c.node=f.nextSibling,c.node||(c=new lv(f,z.Xu(f))));!g.node&&k&&(g.node=k.nextSibling,g.node||(g=new lv(k,z.Xu(k))));return z.uu(c.node||d.node.firstChild||d.node,c.offset,g.node||h.node.firstChild||h.node,g.offset)}};
var jv=function(a){var b;if(3==a.node.nodeType)for(b=a.node.previousSibling;b&&3==b.nodeType;b=b.previousSibling)a.offset+=z.Xu(b);else b=a.node.previousSibling;var c=a.node.parentNode;a.node=b?b.nextSibling:c.firstChild;return a};z.mv=function(a){var b=a.Vb();return a.Z()!=b.parentElement&&z.Yu(b)||!!z.vf(b,z.Yu)};var lv=function(a,b){this.node=a;this.offset=b};var kv=function(a){var b=a.node.parentNode;return new lv(b,z.kb(b.childNodes,a.node))};
var ev=function(a,b,c,d){for(;1==a.nodeType;){var f=a.childNodes[b];if(f||a.lastChild)if(f){var g=f.previousSibling;if(c&&g){if(d&&nv(g))break;a=g;b=z.Xu(a)}else{if(d&&nv(f))break;a=f;b=0}}else{if(d&&nv(a.lastChild))break;a=a.lastChild;b=z.Xu(a)}else break}return new lv(a,b)};var nv=function(a){return 1==a.nodeType&&!z.Ze(a)};z.ov=function(a){z.Mt.call(this,a)};z.pv=function(a,b){var c=a?z.He(a):b;z.R.call(this,c);this.qV=a||this.K().va().body;this.OA={};z.qv.push(this);this.Tu=!0};
z.rv=function(a,b){(a.Tu=b)?a.Kq():z.sv(a)};var tv=function(a){if(!a.Pl){var b=a.m(),c=z.Yn(b).x,d=z.ho(b).width;a.OA={};z.Cb(uv,function(a){this.OA[a]=b.style[a]},a);z.Cb(vv,function(a){this.rc.style[a]=b.style[a]||z.xg(b,a)||z.wg(b,a)},a);z.Gg(a.rc,b.offsetWidth,b.offsetHeight);z.sg(b,{left:c+"px",width:d+"px",cssFloat:"none"});b.parentNode.replaceChild(a.rc,b);a.qV.appendChild(b);b.style.position="fixed";a.Tp();z.W.add(b,"goog-scrollfloater-floating");a.Pl=!0}};
z.sv=function(a){if(a.Pl){var b=a.m();z.Cb(a.OA,function(a,d){b.style[d]=a});a.rc.parentNode.replaceChild(b,a.rc);z.W.remove(b,"goog-scrollfloater-floating");a.Pl=!1}};var wv=function(a,b,c){z.pv.call(this,a,c);this.RV=b;this.tag="";this.FJ=100};var xv=function(a){return a&&z.pb(z.qv,function(b){return a===b.tag&&b.Pl})};var yv=function(){};var zv=function(a,b){this.R=(0,window.$)(a);this.J=window.$.extend({},this.defaults,b||{});this.Qg()};
var Av=function(a,b){window.$.each(Bv,function(c,d){var f=b&&(null!==b&&d in b?b[d]:void 0);f?f(a,d):a.removeAttribute(d)})};var Cv=function(a,b){(0,window.$)("*",a).each(function(){Av(this,b)})};var Dv=function(a){a=a.J;var b=a.hW,c=a.rB;return{id:function(a,c){a.id&&!z.B(b,a.id)&&a.removeAttribute(c)},"class":function(a,b){if(a.className)if(c.length){var g=z.W.get(a),g=z.lb(g,z.gp(z.Aa(z.B,c)));g.length&&z.W.remove.apply(null,[a].concat(g))}else a.removeAttribute(b)}}};
var Ev=function(a){z.I.call(this);this.J=window.$.extend(!0,{},this.defaults,a||{});this.Vw();this.yf()};var Fv=function(a,b){a.close();a.dispatchEvent({type:"cancel",data:{originalEvent:b}})};var Gv=function(a,b){z.I.call(this);this.input=a;z.Lb(this.J={},this.defaults,b||{});this.Bg=new Ev({nn:this.J.nn,Ck:this.J.Ck});z.zc(this,this.Bg);this.Qg()};var Hv=function(a){a=z.N(a.J.ft,a.input);var b;if(a)return b=window.document.createTextNode("@"),z.Ro(b,a),b};
var Iv=function(a,b){var c;z.C&&(c=z.Qe(window.document),a.input.focus(),window.scrollTo(c.x,c.y));var d;Jv?(c=window.getSelection(),d=window.document.createRange(),d.setStartAfter(b),c.removeAllRanges(),c.addRange(d)):3===b.nodeType&&z.Nu(b,b.length).select()};var Kv=function(a){return a&&"A"===a.nodeName};
var Lv=function(a,b,c){var d=window.getSelection();if(b(d.anchorNode.parentNode)){b=d.getRangeAt(0);var f=Mv(a);b.insertNode(f);b.selectNode(f);d.removeAllRanges();d.addRange(b);d=window.getSelection().getRangeAt(0);a=Nv(a,d);c(a)}};var Ov=function(a,b,c){var d=window.document.selection.createRange(),f=d.parentElement();b(f)&&(d.pasteHTML(Mv(a).outerHTML),d.moveToElementText(z.N(a.J.ft,a.input)),d.select(),a=Nv(a,d),"7.0"===z.Ic&&(a.x-=2),c(a))};
var Nv=function(a,b){var c;c=b.getBoundingClientRect();var d;z.D&&(d={width:b.boundingWidth,height:b.boundingHeight},z.Ba(d,c),c=d);d=z.Qe(window.document);var f=z.Yn(a.Bg.zc());f.x=c.left-f.x+d.x;f.y=c.top-f.y+d.y;a.J.position.call(a,f,c);return f};var Pv=function(a){return a&&1===a.nodeType&&"A"===a.tagName&&z.B(Qv,a.className)};var Mv=function(a){return z.O("a",{className:a.J.ft,innerHTML:"@"})};
z.Rv=function(a,b,c){z.R.call(this);this.status=this.$b=null;this.HH=a;this.xK=b;this.as=c;this.isEnabled=!0;this.bG=!1;this.params=[];this.content=null;this.IC=!1;this.kF=window.$.Deferred()};var Sv=function(a){var b=a.Ra;if(b.m)b.on("load",function(){new zv(b.m(),{rB:["video-link"].concat(this.Bv?Qv:[])})},!1,a)};var Tv=function(a){var b=a.Ra;b.m&&(a=(0,z.t)(function(){new Gv(b.m(),{Ck:this.Fj})},a),b.Bc()?a():b.addEventListener("load",a))};
var Uv=function(a){if(a.dispatchEvent("shouldUpdateContent")){var b=a.content,c=a.td,d=a.oG();a.IC?(z.nf(c,b),c.appendChild(z.Xe(d))):c.innerHTML=b+d;(0,window.$)("img.lazy",c).lazyload({data_attribute:"actualsrc",threshold:400})}};z.Vv=function(a,b,c){z.Rv.call(this,a,b,c);this.BT="mock"+this.oe();this.Px=!1;this.Xw=!0;this.Qd=!z.Vm||z.Xl;this.Bv=!1;this.NL=this.jY=!0;this.gA=""};
var Wv=function(a,b,c){var d=b.Wb.FullScreenPlugin;if(d){var f=z.$g(c,"toggleFullScreen");d.on("save",a.Ys,!1,a).on("willEnterFullScreen",function(){Xv(this,!1)},!1,a).on("enterFullScreen",function(){f.Hd("退出写作模式")}).on("exitFullScreen",function(){f.Hd("写作模式")}).on("shouldExitFullScreenOnEscape",function(){return!b.lh})}};
var Xv=function(a,b){if(a.Ig)if(b){z.W.add(a.Hl,"zm-editable-editor-field-wrap-active");var c=a.Ig;c.pu=z.Yn(c.m()).y;z.rv(a.Ig,!0)}else z.W.remove(a.Hl,"zm-editable-editor-field-wrap-active"),z.rv(a.Ig,!1)};var Yv=function(a){a.oD.toggle();a.Uq.toggleClass("no-toolbar")};z.Zv=function(){z.V.call(this);this.tF=!0;this.uA=z.T.uA;this.UW=-1===window.location.href.indexOf("psq")};z.$v=function(a,b){a.Nc&&(a.Nc.value=b,a.wJ(),a.$J.GL(),a.Ka&&a.Ka.Av())};
var aw=function(a){var b=bw.get("add_question_form_title");b&&z.$v(a,b);(b=bw.get("add_question_form_des"))&&cw(a,b);b=a.J.bn;b||(b=bw.get("add_question_form_topics"))&&(b=JSON.parse(b));b&&z.A(b,function(b){a.Ka.Zi(b)})};
var dw=function(a){function b(){var a=(0,window.$)('\x3cdiv\x3e\x3cdiv style\x3d"text-align:center"\x3e\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e'),b=(0,window.$)(qq(this)),c=b.data("answer_count"),f=b.data("url_token");window.$.get("/question/"+f+"/answers/summary").done(function(b){if(b&&!b.r){b=d({forEach:z.A,answers:b.msg,question_url_token:f});var g=z.Ja('\x3cdiv class\x3d"zippy-row"\x3e\x3ca class\x3d"zg-link-litblue" href\x3d"/question/%s"\x3e查看该问题%s\x3c/a\x3e\x3c/div\x3e',
f,0<c?"的全部 "+c+" 个回答":"");a.html(b+g)}else z.X.message(b.msg)});b.after(a);return a.get(0)}var c=(0,z.ew)(a.Fq.ZJ),d=(0,z.ew)(a.Fq.WN),f=a.Nc,g=new Ys;a.zD=new z.Xs(f,{source:"/question/autocomplete",Pi:z.L("zh-question-suggest-ac-wrap"),kd:window.$.noop,render:function(d,f,g){a.BD&&a.BD.H();f=(0,window.$)(d.m());var p=a.BD=new is;f.html(c({forEach:z.A,questions:g,token:(0,window.encodeURIComponent)(this.bc)}));f.prepend('\x3cdiv class\x3d"ac-head zg-gray"\x3e你的问题可能已经有答案\x3c/div\x3e');(0,window.$)(".ac-row",
f).each(function(){p.Ha(new z.oq((0,window.$)(this).get(0),b,!1))});p.w(d.m())},Ez:g})};var fw=function(a,b){(0,window.$)(a.jX).toggle(!!b);(0,window.$)(a.rI).toggle(!b);b?a.mE.focus():(a.Mo(),a.Nc.focus());a.ha()};
var gw=function(a){if(!z.Vj||z.Wj){var b=nq.aa(),c=new z.dq("",b);c.Yb(32,!1);a.o().g(c,"action",a.eU);c.w(a.HX);c.Hd("切换工具栏");c=new z.dq("",b);c.Yb(32,!1);a.o().g(c,"action",function(){this.Ub.Ra.execCommand("image")});c.w(a.sN);c.Hd("添加图片");b=new z.dq("",b);b.Yb(32,!1);a.o().g(b,"action",function(){this.Ub.Ra.execCommand("video")});b.w(a.wN);b.Hd("添加视频")}};
var hw=function(a){a.Ka=new It;a.Ka.w(a.MX);a.o().g(a.Ka,["add_tag","remove_tag"],a.tJ);new z.wk(a.Nc,"写下你的问题");var b=a.qP;a.Ub=new z.Vv;a.Ub.gA='\x3cspan style\x3d"font-style: normal;color: #999;"\x3e问题背景、条件等详细信息\x3c/span\x3e';a.Ub.w(b);a.Ub.init();a.Ub.Gg();z.Vj&&!z.Wj||Yv(a.Ub);(0,window.setTimeout)(function(){a.ha()});gw(a);dw(a)};var iw=function(a,b,c){"title"===c?a.SS=b:"detail"===c?a.IS=b:a.US=b;a.tF=a.SS||a.IS||a.US};var jw=function(a,b){(0,window.$)(a.ql).attr("disabled",b)};
var kw=function(a){(0,window.$)(window).on("beforeunload.AddQuestionForm",(0,z.t)(function(){lw(this)},a))};var lw=function(a){a.Nc.value&&bw.set("add_question_form_title",a.Nc.value);var b=a.Ub.kg();b&&bw.set("add_question_form_des",b);(a=a.Ka.data)&&bw.set("add_question_form_topics",JSON.stringify(a))};var mw=function(a,b,c){a.Yt.innerHTML=b.Me;0===b.level?z.Q(a.uk,!1):(3!==b.level&&(z.Q(a.ql,!0),z.Q(a.Fn,!1)),z.Q(a.uk,c),c&&a.Nc.focus())};
var nw=function(a){var b=z.ur(a.Nc.value).replace(/？/g,"?"),c=ow(a);1<c.level||(1>Dr(z.ur(a.Nc.value).replace("？","?"))?(c.Me="您还没有给问题添加问号",c.level=3,c.name="noquestionmark"):1<Dr(b)&&(c.Me="如果有多个问题，最好拆分一下",c.level=1,c.name="multiquestionmark"));return c};
var ow=function(a){var b="#",c=a.gp||new pw,d=!1;if(!a.zD||!a.UW)return c;var f=a.zD.Ma;f&&f.length?(z.A(f,function(a){4<a.raw.length&&1===+a.raw[4]&&(d=!0,b="/question/"+a.url_token+"?q\x3d"+(0,window.encodeURIComponent)(this.Nc.value)+"\x26psq\x3d0")},a),d?(c.Me='我们找到了一个也许是你想问的问题，\x3ca href\x3d"'+b+'"\x3e查看问题\x3c/a\x3e',c.level=3,c.name="duplicatedquestion",c.XZ=!0,a.Fn.href=b,z.Q(a.ql,!1),z.Q(a.Fn,!0)):(c=new pw,z.Q(a.ql,!0),z.Q(a.Fn,!1)),a.gp=c):(c=new pw,a.gp=c,z.Q(a.ql,!0),z.Q(a.Fn,!1));a.gp||
(a.gp=c);return a.gp};var qw=function(a){a=z.ur(a.Nc.value).replace(/？/g,"?");a=Ir(a);var b=new pw;3>a?(b.level=3,b.Me="问题字数太少了吧",b.name="tooshort"):40<a&&51>=a?(b.level=1,b.Me='还可以输入 \x3cspan class\x3d"warning"\x3e'+(51-a)+"\x3c/span\x3e 字",b.name="buffer"):51<a&&(b.level=3,b.Me='已超出 \x3cspan class\x3d"error"\x3e'+(a-51)+"\x3c/span\x3e 字",b.name="toolong");return b};var rw=function(a){a=a.Ub;var b=(0,z.$a)(a.kg());return a.isContentEditable()?b:z.La(b)};
var cw=function(a,b){var c=a.Ub;(0,window.setTimeout)(function(){c.ea(b);c.gq()})};var sw=function(a){var b=new z.Hr,c=[],d=[];b.add("question_title",a.Nc.value);b.add("question_detail",rw(a));a.AE&&b.add("anon",a.AE.checked?"1":"0");z.A(a.Ka.data,function(a){a[3]?c.push(a[3]):d.push(a[1])});b.add("topic_ids",c.join(","));b.add("new_topics",d.join("$"));z.mh&&b.add("uid",z.mh[3]);return b};
var tw=function(a){window.$.get("/org/ask_question_limit").then(function(b){if(!b.r){b=b.msg;var c=void 0,c=b?(0,window.$)('\x3cspan class\x3d"zm-question-form-notice"\x3e本月还能提 '+b+" 个问题\x3c/span\x3e"):(0,window.$)('\x3cspan class\x3d"zm-question-form-notice zm-question-form-notice--warning"\x3e已达到本月提问上限\x3c/span\x3e');(0,window.$)(a.rI).find(".zm-command").prepend(c)}})};var pw=function(){this.level=(0,window.isNaN)(void 0)?0:void 0;this.Me=""};var uw=function(){};
z.vw=function(a){z.Dk.call(this,"register");this.mo=a};var ww=function(a){z.R.apply(this,arguments)};var xw=function(){z.nk.call(this,"DownloadAppDialog")};var yw=function(){z.V.call(this)};var zw=function(){};var Aw=function(){var a=(0,window.$)("#rq3-sidenav-link"),b=(0,window.$)(".tour",a);b.length&&(0,window.$)(".close-button",b).click(function(){var a=(0,window.$)(this).data("feature");window.$.get("/notifeature",{feature:a});b.fadeOut(100,function(){b.remove()})})};
var Bw=function(){var a=(0,window.$)(".zm-side-my-columns");if(a.length){var b=a.find(".column-homepage-link .icon-column-logo"),c=+z.Rh.get("navcolumn:entered");a.on("click",".column-unfold",function(b){a.find(".column-list").append((0,window.$)("#SidebarColumnItem-template").html());(0,window.$)(b.currentTarget).parent().remove()});c||(b.addClass("icon-column-logo-active"),a.on("click",".column-homepage-link",function(){b.removeClass("icon-column-logo-active");z.Rh.set("navcolumn:entered",1)}))}};
var Cw=function(a){(0,window.$)(".DownloadApp-button").click(function(){var b=new xw;(0,z.Ni)(a,{action:"Download",element:"Button"});b.G(!0)});(0,window.$)(".DownloadApp-link").click(function(){var b=new yw;(0,z.Ni)(a,{action:"Download",element:"Button"});b.G(!0)})};var Dw=function(a){z.R.apply(this,arguments)};z.Ew=function(a){(new window.Image).src=a};z.Fw=function(a){return{type:"Ad",is_ad:!0,ad_info:Gw(a)}};
var Gw=function(a){var b={ai:["ad_id",function(a){return(0,window.parseInt)(a,10)}],az:["ad_zone_id",function(a){return(0,window.parseInt)(a,10)}],ar:["ad_relevancy",window.parseFloat],cg:["category",String],sg:["sign",String],vs:["version",String]},c=z.Ah(a).pe(),d={};Object.keys(b).forEach(function(a){var g=z.ha(b[a]),h=g.next().value,g=g.next().value;(a=c.get(a))&&(d[h]=g(a))});return d};
var Hw=function(){(0,window.$)(".shameimaru-placeholder").each(function(){var a=(0,window.$)(this),b=Object.assign({},{loc:a.data("loc")},a.data("params"));window.$.get("/node/Banner",b,function(b){b?(b=(0,window.$)(b),a.replaceWith(b),(new Dw).w(b[0])):a.remove()})})};var Iw=function(a){z.R.apply(this,arguments)};var Jw=function(a){var b=a.Uf;b.addClass("is-hidden");(0,window.setTimeout)(function(){b.remove()},200)};z.Kw=function(a){return"/qrcode?"+window.$.param({url:a+"#showWechatShareTip"})};
var Lw=function(){Mw=(0,window.$)(".wechat-share-tip");Mw.on("touchstart click",function(a){a.preventDefault();Nw()})};var Ow=function(){Mw.length&&(Mw.show(),(0,window.$)(window.document.documentElement).addClass("show-wechat-share-tip"))};var Nw=function(){Mw.onTransitionEnd(function(){Mw.hide()},150);(0,window.$)(window.document.documentElement).removeClass("show-wechat-share-tip")};var Pw=function(a){z.R.apply(this,arguments)};var Qw=function(){};
var Rw=function(a){var b=(0,window.$)("#zh-feedback-form"),c=(0,window.$)(".zg-report-msg",b),d=(0,window.$)("textarea",b),b=(0,window.$)("select",b);a=a.type||b.val();b=window.$.trim(d.val());if(!b)return c.html("请填写反馈内容").show(),d.focus(),!1;c.hide();c=new z.Z(!0);d=new z.wh;c.on("success",function(){z.X.message("建议发送成功，我们会尽快处理，感谢您的帮助");Sw.remove("content")});d.add("type",a).add("content",b);c.ajax("/feedback/report",d.toString())};
var Tw=function(a,b){return window.$.post("/node/ColumnFollowBaseV2",{method:b?"follow_column":"unfollow_column",params:{column_id:a}})};var Uw=function(a,b){return window.$.post("/roundtable/"+a,{action:b?"follow":"unfollow"})};var Vw=function(a){z.I.call(this);this.url=a+"/apilive";this.OV=5E3;this.mW=1E3;this.ux=0;Ww(this)};
var Ww=function(a){a.client=new window.WebSocket(a.url);a.client.onmessage=function(b){try{a.dispatchEvent({type:"message",data:b.data})}catch(c){}};a.client.onclose=function(){(0,window.setTimeout)(function(){a.ux<a.mW&&(Ww(a),a.ux+=1)},a.OV)};a.client.onerror=function(){a.client.close()}};var Xw=function(a){z.Lb(this.J={},this.defaults,a||{});this.nc()};var Yw=function(a){return Zw.every(function(b){return a[b]})};var $w=function(a,b){return Zw.every(function(c){return a[c]===b[c]})};
var ax=function(a){return window.$.extend({},{key:a.key},a.$b)};var bx=function(a,b){a.every(function(a){return!$w(a,b)})&&a.push(b);return a};var cx=function(a,b){var c=a[b.group];c?c.push(b):a[b.group]=[b];return a};
var dx=function(){var a=dp(z.cn.map(function(a){return z.Fb(Un(a.pl))})).map(ax).filter(Yw).reduce(bx,[]).reduce(cx,{}),b=['\x3cdiv class\x3d"shortcut-tips"\x3e'],c={rW:/([^\s+])+|([\s+])/g,cQ:function(a){return a.replace(this.rW,function(a,b){return b?"\x3ckbd\x3e"+a+"\x3c/kbd\x3e":" "+a+" "})}};z.Cb(a,function(a,f){b.push('\x3cdiv class\x3d"group"\x3e\x3ch2\x3e',f,"\x3c/h2\x3e\x3cdl\x3e");z.A(a,function(a){b.push("\x3cdt\x3e",c.cQ(a.key),"\x3c/dt\x3e");b.push("\x3cdd\x3e",a.name,"\x3c/dd\x3e")});
b.push("\x3c/dl\x3e\x3c/div\x3e")});b.push("\x3c/div\x3e");return b.join("")};z.ex=function(a){return fx("common").then(function(){return fx(a)})};var gx=function(){var a=z.T;return{signedIn:a.Lb(),currentUser:{email:a.eo,activated:a.Ee,isOrg:a.gd},authRequired:z.Lq}};var hx=function(a,b){ix.push([a,z.pa(b)?b:2]);ix.sort(function(a,b){return a[1]-b[1]})};var jx=function(){Mq.call(this);this.queue=[]};var kx=function(){jx.call(this);this.gy=0};var lx=function(a){return Math.pow(a,3)};
var mx=function(a){return 1-Math.pow(1-a,3)};var nx=function(a){return 3*a*a-2*a*a*a};var ox=function(){z.I.call(this);this.h=null;this.AT=768;this.dy=this.yW=300;this.Eo=!0;this.Bw=!1;this.zX=150};var px=function(){};var qx=function(){z.I.call(this)};z.rx=function(a){a.wk=new z.Z(!1);a.o().Aa(a.wk,"success",a.vU);a.wk.ajax("/noti7/new?r\x3d"+ +new Date,null,"GET")};
var sx=function(){if(tx)(0,window.$)(window.document).on("click.tabless","a:not(#js-openInApp)",function(a){this.host===window.location.host&&"_blank"===a.currentTarget.target&&(a.currentTarget.target="")})};z.ux=function(a){a=void 0===a?{}:a;z.I.call(this);this.Nq=!0;this.an=this.xq=-1;this.mL="";this.La=null;Object.assign(this.J={},this.defaults,a);this.J.kl&&(this.Zs=z.Lq(this.Zs,this.J.kl))};
z.vx=function(a,b){a.Sh.innerHTML+='\n    \x3ca class\x3d"zm-profile-email-history-link" href\x3d"'+b+'"\x3e私信记录  »\x3c/a\x3e\n    '+(z.T.gd?"\x3cspan class\x3d'OrgIcon sprite-global-icon-org-14' data-tooltip\x3d's$b$已认证的机构' /\x3e":"")+"\n  "};z.xx=function(a,b,c,d){-1===b?z.xr(a.ld,a.Sh):b!==z.T.ug&&(a.an=b,a.mL=c,a.Sh&&a.ld&&(a.Sh.innerHTML=a.mL+(d?wr():""),z.xr(a.Sh,a.ld),a.ld.value=""))};var yx=function(a,b){a.Yt.innerHTML=b;z.Q(a.Yt,!0)};var zx=function(){};
z.Ax=function(a,b,c){this.element=a;this.jf=b;this.lV=c};var Bx=function(a,b){this.mi=a instanceof z.Fe?a:new z.Fe(a,b)};var Cx=function(a,b){this.cB=4;this.xu=b||void 0;z.Nn.call(this,a)};z.Dx=function(a,b){a.jA=null==b||b instanceof z.qg?b:new z.qg(b,void 0,void 0,void 0);a.X()&&a.ha()};
z.Ex=function(a,b,c){this.ca=c||(a?z.He(z.L(a)):z.He());Cx.call(this,this.ca.B("DIV",{style:"position:absolute;display:none;"}));this.zj=new z.Fe(1,1);this.kb=new Xo;this.Sk=null;a&&this.attach(a);null!=b&&z.nf(this.m(),b)};var Fx=function(a,b){z.ld(b,"mouseover",a.yd,!1,a);z.ld(b,"mouseout",a.cm,!1,a);z.ld(b,"mousemove",a.am,!1,a);z.ld(b,"focus",a.qe,!1,a);z.ld(b,"blur",a.cm,!1,a)};var Gx=function(a,b){var c=z.wf(a.ca);a.zj.x=b.clientX+c.x;a.zj.y=b.clientY+c.y};
var Hx=function(a,b){try{for(;b&&!a.kb.contains(b);)b=b.parentNode;return b}catch(c){return null}};var Ix=function(a,b){if(0==b){var c=a.zj.clone();return new Jx(c)}return new Kx(a.gc)};var Lx=function(a){if(a.anchor)for(var b,c=0;b=Mx[c];c++)z.mf(b.m(),a.anchor)&&(b.vl=a,a.IJ=b)};var Nx=function(a,b,c){a.Tm||(a.Tm=z.ud((0,z.t)(a.lA,a,b,c),a.lq))};var Ox=function(a){a.Tm&&(z.vd(a.Tm),a.Tm=void 0)};var Jx=function(a,b){Bx.call(this,a,b)};var Kx=function(a){z.Ax.call(this,a,3)};
var Px=function(a,b,c){z.Ex.call(this,a,b,c)};z.Qx=function(a,b){a.Ho=b||null};var Rx=function(a,b){if(a.zw&&a.zw.contains(b)||a.tt(b))return!0;var c=a.vl;return!!c&&c.tt(b)};z.Sx=function(a,b,c,d){z.Ex.call(this,null,null,c);z.qa(a)?this.Iz=a:this.VD=a;this.xO=0!=b;this.lC=[];this.Pa=d||(c?c.va():window.document);z.G(this.Pa,"mouseover",this.UG,!1,this)};
var Tx=function(a,b,c){if(b==a.ag)a.xj();else if(b!=a.anchor){1!=a.getState()&&4!=a.getState()||Ux(a);var d=new Vx("trigger",a,b,void 0);a.xi().contains(b)||(a.attach(b),a.lC.push(b));a.anchor=b;a.ku(d)?Nx(a,b,c||a.xu):Wx(a)}};var Xx=function(a,b){var c=z.kb(a.lC,b);-1!=c&&(a.detach(b),a.lC.splice(c,1))};var Ux=function(a){Ox(a);Wx(a)};var Wx=function(a){a.dispatchEvent(new Vx("canceltrigger",a,a.anchor||null));Xx(a,a.anchor);delete a.anchor};
var Vx=function(a,b,c,d){z.Kc.call(this,a,b);this.anchor=c;this.data=d};var Yx=function(a,b,c){z.Ax.call(this,a,b);this.MD=c};var Zx=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var $x=function(){z.I.call(this);this.cX=this.ZR=250;this.wb="tooltip";this.$r="data-"+this.wb};
var ay=function(a,b){return'\n    \x3cdiv class\x3d"popover-content no-hovercard"\x3e'+a+"\x3c/div\x3e"+('\n    \x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"arrow2'+(b?" loading":"")+'"\x3e\x3c/div\x3e\n  ')+"\n  "};var by=function(a){var b=void 0;switch(a.Al){case "t":b=5;break;case "r":b=4;break;case "b":b=4;break;case "l":b=6}a=a.jb;a.cB=b;a.X()&&a.ha()};var cy=function(a,b){a.jb.Yd(b);a.jb.setPosition(a.cF)};var dy=function(){$x.call(this);this.wb="hovercard";this.ei={}};
var ey=function(a,b,c,d){var f=a.ei[b]&&a.ei[b][c];if(f)cy(a,ay(f));else if(f=fy[b])window.$.get("/node/"+f,{params:{url_token:c}},(0,z.t)(function(a){gy(this,a,b,c)},a)),cy(a,a.Uw(d))};var gy=function(a,b,c,d){a.Bl===c&&a.Yn===d&&gy(a,b);a.ei[c]=a.ei[c]||{};a.ei[c][d]=b;by(a);cy(a,ay(b));Tx(a.jb,a.iF,a.Al)};var hy=function(a){z.R.call(this);this.options=window.$.extend({stopPropagation:!0,iO:"#000",Hw:.5,OO:"#666",NE:.2,top:2,width:6,right:2,fO:!0},a);this.tA=0;this.os=!1};
var iy=function(a){a.Rm&&(a.Ae.stop().css({opacity:a.options.Hw}).show(),a.An&&((0,window.clearTimeout)(a.An),a.An=!1))};var jy=function(a,b){b=b||0;a.An=(0,window.setTimeout)((0,z.t)(function(){this.Ae.stop().fadeOut();this.An=!1},a),b)};var ky=function(a,b){var c=a.qd.height()-2*a.options.top-a.Ae.height(),d=a.bf.height()-a.qd.height();return b/c*d};var ly=function(a,b,c){z.Kc.call(this,"scroll",a);this.scrollTop=b;this.BK=c};
z.my=function(a){z.R.call(this);this.J=window.$.extend({},this.defaults,a||{})};var ny=function(){z.I.call(this);this.$f=[0,0,0];this.YI=[0,0,0];this.types=["default","follow","vote_thank"];this.GF=!z.tm.Ab;this.ML=z.tm.Ab||null!=window.navigator.userAgent.match(/iPad/i);this.cache=[!1,!1,!1];this.Rj=[null,null,null];this.xp=[0,0,0];this.Sm=[!1,!1,!1]};
var oy=function(a){a.tab=new z.my({NI:".zm-noti7-popup-tab-item",HJ:".zm-noti7-content",Rg:"current"});a.o().g(a.tab,"action",function(a){this.gF=a=a.data.index;py(this,a);var c=this.Dg&&this.Dg[a];c&&((0,window.setTimeout)(function(){c.update()}),this.tab.index()===a&&c.scrollTop())}).g(a.tab,"select",function(a){this.gF=a=a.data.index;qy(this,a);z.Y.yb({type:"ga_click_top_nav_noti_tab",data:{tab:+a}});this.be||z.Rh.set("noti7-tab",a)});a.tab.w(a.Oi)};
var ry=function(a){var b=void 0,c=void 0,d=z.Sr(100,function(c,d){var h=d.target;200>("number"===typeof d.BK?d.BK:h.scrollHeight-h.offsetHeight-h.scrollTop)&&a.cA(c).then(function(a){a||z.md(b[c])},window.$.noop)}),c=a.ML?a.contents:a.Dg,b=z.mb(c,function(a,b){return z.G(a,"scroll",(0,z.t)(d,void 0,b))})};var qy=function(a,b){a.Dg&&z.A(a.Dg,function(a,d){b===d?a.enter():a.Tx&&(a.o().removeAll(),a.Zd&&a.Zd.stop(),a.Tx=!1)})};var sy=function(a){a=z.ep(a.$f,Vn);return-1===a?0:a};
var ty=function(a){if(!z.xm){var b=uy(a.be);a=uy(a.mH);var c="";b&&a?c="("+a+" 封私信 / "+b+" 条消息) ":b?c="("+b+" 条消息) ":a&&(c="("+a+" 封私信) ");window.document.title=c+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")}};var vy=function(a,b){a.be-=a.$f[b];a.Vv.eq(b).removeClass("withdot");0>a.be&&(a.be=0);z.Q(a.Rn,!!a.be);a.Rn.innerHTML=a.be};
var py=function(a,b){a.GF?a.visible&&(a.cache[b]?("$$used$$"!==a.cache[b]&&(a.kx[b].innerHTML=a.cache[b],a.cache[b]="$$used$$"),a.$f[b]&&wy(a.types[b]),vy(a,b),a.Dg&&a.Dg[b].update().scrollTop(),a.be||z.Rh.set("noti7-tab",b)):(a.Sm[b]=!0,a.Xl(b))):a.cache[b]?("$$used$$"!==a.cache[b]&&(a.kx[b].innerHTML=a.cache[b],a.cache[b]="$$used$$"),a.$f[b]&&wy(a.types[b]),vy(a,b)):(a.Sm[b]=!0,a.Xl(b),wy(a.types[b]))};
var xy=function(a,b){b?a.gD.fadeIn(50):a.gD.fadeOut(50);a.visible=b;z.W.enable(a.Oi,"open",a.visible);z.W.enable(a.Bq,"open",a.visible);if(b){a.Oi.focus();z.A(a.cache,function(a,b){a||this.Xl(b)},a);a.o().g(window.document,"click",a.Rs);var c;a.be?(c=sy(a),a.tab.select(c),a.Sm[c]=!0):(c=yy(),a.px||(a.tab.select(c),a.Sm[c]=!0));qy(a,c);z.Y.yb({type:"ga_click_top_nav_noti",data:{tab:a.gF,CL:+(a.be||0)}})}else a.o().sa(window.document,"click",a.Rs),qy(a,-1)};
var wy=function(a){(new z.Z(!1)).ajax("/noti7/readall","tab\x3d"+a,"POST")};var yy=function(){var a=z.Rh.get("noti7-tab");return a?+a:0};var uy=function(a){return 99<a?"99+":a};var zy=function(a){z.R.call(this);window.$.extend(this.J={},this.defaults,a||{})};
var Ay=function(a){var b=a.Mg,c=a.pd,d=c.attr("id");d||(d=z.Xg(z.Wg.aa()),c.attr("id",d),b.attr("aria-labelledby",d));c.attr("role")||c.attr("role","button");a.pd.attr("aria-haspopup","true").attr("aria-activedescendant","");a.Mg.children().find("a").attr("tabindex",-1).attr("id",(0,z.t)(function(a,b){return b||z.Xg(z.Wg.aa())},a))};var By=function(a,b){var c=a.Mg.children().find("a"),d=c.size();b>=d?b=0:-1>=b&&(b=d-1);c=c.eq(b);a.pd.attr("aria-activedescendant",c.attr("id"));c.focus();a.index=b};
var Cy=function(a){z.R.apply(this,arguments)};var Dy=function(a,b){if(!a.metaKey)try{z.Rh.set("query",a.S.bc)}catch(c){b+="?q\x3d"+(0,window.encodeURIComponent)(a.S.bc)}return b};var Ey=function(){z.I.call(this)};
var Fy=function(){var a=(0,window.$)("#js-top-nav-link-profile"),b=(0,window.$)("#mobile-top-nav-profile-popup");if(z.Vj&&b.length&&b.children("ul").length){var c=function(c){c=c.target;b[0].contains(c)||c.contains(a[0])||d()},d=function(){a.parent().removeClass("open");b.hide();(0,window.$)(window.document.body).off("mousedown",c)};a.click(function(f){f.preventDefault();b.is(":visible")?d():(a.parent().addClass("open"),b.show(),(0,window.$)(window.document.body).mousedown(c))}).attr("href","javascript:;");
b.find(".slide-up").click(d)}};var Gy=function(){z.R.call(this)};var Hy=function(){z.Cj.call(this,null,!1);this.pE="zh-lightbox-showing";this.BX="zh-lightbox-thumb";this.nc()};
var Iy=function(){(0,window.$)(window.document).on("click",".OrgIcon,.icon-badge",function(a){a=(0,window.$)(a.target);a.hasClass("no-badge-explain")||a.closest("a").length||(a.hasClass("OrgIcon")?window.open("/question/48510028/answer/111228381"):a.hasClass("icon-badge-identity")||a.hasClass("icon-badge-id-an")?window.open("/question/48510028/answer/111228381"):a.hasClass("icon-badge-best_answerer")&&window.open("/question/48509984/answer/111228361"))})};
var Kr=function(){if(window.console){var a=Array.from(arguments);a.unshift("["+(new Date).toLocaleTimeString()+"]:\t");window.console.log.apply?window.console.log.apply(window.console,a):window.console.log(a[0],a.slice(1).join(","))}};
z.Jy=function(a){a=void 0===a?{}:a;z.R.call(this);if(void 0===typeof a.Fa)throw Error("$form option is required.");var b=Object.assign({cp:"FormItem",Iw:function(){return window.Promise.resolve()},pr:window.$.noop,LL:!0,hQ:{RH:!0},ys:[],validator:function(a){for(var d=b,f=d.Fa,g={},d=z.ha(d.ys),h=d.next();!h.done;h=d.next()){var k=h.value,h=k.name,l=k.length,k=k.Ta,p=f.find('input[name\x3d"'+h+'"]'),r=p.val();r&&r.length!==l&&(g[h]=k||p.attr("placeholder"))}Object.assign(g,Ky(f,a));return window.$.isEmptyObject(g)?
null:g}},a);this.Gf=b;this.Fa=b.Fa;this.w(b.Fa[0])};
var Ly=function(a,b){var c=a.Gf,d=c.Fa,f=c.cp;b&&(z.sa(b)?Object.entries(b).forEach(function(a){var b=z.ha(a);a=b.next().value;var b=b.next().value,c=d.find("[name\x3d"+a+"]").first().addClass("is-error");a='\x3cp class\x3d"'+f+'-error"\x3e'+b+"\x3c/p\x3e";b=c.parents("\n          ."+f+", ."+f+"-section,\n          ."+f+"-uploader, ."+f+"-radio-group\n        ").first().addClass("is-error");c=b.find("."+f+"-error-container");c.length?c.html(a):(b.hasClass(""+f)&&(b=b.find("."+f+"-content")),b.append(a))}):
d.find('[type\x3d"submit"]').after('\x3cspan class\x3d"'+f+'-error is-inline"\x3e\n          '+(b||"服务器错误，请稍后重试...")+"\n        \x3c/span\x3e").parents("."+f).addClass("is-error"))};
var Ky=function(a,b){b=void 0===b?{}:b;for(var c=window.$.unique(a.find("input, select").filter(function(){return(0,window.$)(this).data("required")}).map(function(){return(0,window.$)(this).attr("name")}).get()),d={},c=z.ha(c),f=c.next();!f.done;f=c.next()){var f=f.value,g=b[f];if(z.ma(g)&&0===g.length||!g){d[f]="必填项";var g=a.find("[name\x3d"+f+"]"),h=g.data("empty-tip");h&&(d[f]="placeholder"===h?g.attr("placeholder"):h)}}return window.$.isEmptyObject(d)?null:d};
var My=function(a,b){function c(a){a=a.val();d.RH&&(a=window.$.trim(a));d.TS&&window.$.isNumeric(a)&&(a=Number(a));return a}var d=Object.assign({RH:!1,TS:!1,iQ:function(a){return a.attr("name")}},b),f={};a.find("select, textarea, input").not("\n      input[type\x3dcheckbox]:not(:checkbox),\n      input[type\x3dradio]:not(:checked),\n      input[name^\x3d_]\n    ").each(function(){var b=(0,window.$)(this);if(!b.is(":disabled")&&b.parents("form").first().is(a)){var h=d.iQ(b);if(h)if(b.is('[type\x3d"checkbox"]'))"undefined"===
typeof f[h]&&(f[h]=[]),f[h].push(c(b));else if(b.is('[type\x3d"file"]')){if("undefined"===typeof f[h]&&(f[h]=[]),b=b.data("file")||b.val()){try{b=JSON.parse(b)}catch(k){}f[h].push(b)}}else f[h]=c(b)}});return f};var Ny=function(a,b){z.I.call(this);this.h=a;var c=z.kf(this.h)?this.h:this.h?this.h.body:null;this.RS=!!c&&z.Ng(c);this.jI=z.G(this.h,z.C?"DOMMouseScroll":"mousewheel",this,b)};var Oy=function(a,b){return z.E&&(z.Tc||z.Ll)&&0!=a%b?a:a/b};
var Py=function(a,b,c,d){z.Oc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};var Qy=function(){z.I.call(this)};var Ry=function(a,b){return null==a.Pk?b:a.tp+Math.round((b-a.tp)/a.Pk)*a.Pk};var Sy=function(a,b){z.R.call(this,a);this.LD=null;this.Hb=new Qy;this.YS=b||z.Hl;z.G(this.Hb,"change",this.NG,!1,this)};
var Ty=function(a,b){b?(a.o().g(a.ye,"beforedrag",a.Ps).g(a.fg,"beforedrag",a.Ps).g(a.ye,["start","end"],a.$s).g(a.fg,["start","end"],a.$s).g(a.Cb,"key",a.uf).g(a.m(),"click",a.Ws).g(a.m(),"mousedown",a.Ws),a.EH&&Uy(a,!0)):(a.o().sa(a.ye,"beforedrag",a.Ps).sa(a.fg,"beforedrag",a.Ps).sa(a.ye,["start","end"],a.$s).sa(a.fg,["start","end"],a.$s).sa(a.Cb,"key",a.uf).sa(a.m(),"click",a.Ws).sa(a.m(),"mousedown",a.Ws),a.EH&&Uy(a,!1))};
var Vy=function(a,b){var c=z.Dg(b,a.m());return"vertical"==a.Sb?c.y:a.me&&a.Bd()?a.m().clientWidth-c.x:c.x};var Wy=function(a,b){var c=a.Mc(),d=a.cd();if("vertical"==a.Sb){var f=a.hb.offsetHeight,g=a.m().clientHeight-f,f=Vy(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.hb.offsetWidth;g=a.m().clientWidth-f;f=Vy(a,b)-f/2;return(d-c)*f/g+c};var Xy=function(a,b){if(b==a.hb)return a.Hb.Y();if(b==a.Pd)return a.Hb.Y()+a.Hb.yi();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");};
var Yy=function(a,b){Math.abs(b)<a.uo()&&(b=(0,z.Rl)(b)*a.uo());var c=Xy(a,a.hb)+b,d=Xy(a,a.Pd)+b,c=ap(c,a.Mc(),a.cd()-a.Xt),d=ap(d,a.Mc()+a.Xt,a.cd());Zy(a,c,d-c)};var $y=function(a,b,c){var d=Ry(a.Hb,c);c=b==a.hb?d:a.Hb.Y();b=b==a.Pd?d:a.Hb.Y()+a.Hb.yi();c>=a.Mc()&&b>=c+a.Xt&&a.cd()>=b&&Zy(a,c,b-c)};var Zy=function(a,b,c){a.Mc()<=b&&b<=a.cd()-c&&a.Xt<=c&&c<=a.cd()-b&&(b!=a.Y()||c!=a.yi())&&(a.Hb.Zt=!0,a.Hb.Yu(0),a.Hb.Da(b),a.Hb.Yu(c),a.Hb.Zt=!1,a.NG())};
var az=function(a,b){return b<=a.Hb.Y()+a.Hb.yi()/2?a.hb:a.Pd};var bz=function(a){if(a.hb&&!a.Uo){var b=cz(a,Xy(a,a.hb)),c=cz(a,Xy(a,a.Pd));if("vertical"==a.Sb)a.hb.style.top=b.y+"px",a.Pd.style.top=c.y+"px",a.Xb&&(b=dz(c.y,b.y,a.hb.offsetHeight),a.Xb.style.top=b.offset+"px",a.Xb.style.height=b.size+"px");else{var d=a.me&&a.Bd()?"right":"left";a.hb.style[d]=b.x+"px";a.Pd.style[d]=c.x+"px";a.Xb&&(b=dz(b.x,c.x,a.hb.offsetWidth),a.Xb.style[d]=b.offset+"px",a.Xb.style.width=b.size+"px")}}};
var dz=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}};var cz=function(a,b){var c=new z.Fe;if(a.hb){var d=a.Mc(),f=a.cd(),f=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.Sb?(d=a.m().clientHeight-a.hb.offsetHeight,f=Math.round(f*d),c.x=ez(a,a.hb),c.y=d-f):(c.x=Math.round(f*(a.m().clientWidth-a.hb.offsetWidth)),c.y=a.hb.offsetTop)}return c};
var fz=function(a,b){b=ap(b,a.Mc(),a.cd());a.Uo&&(a.Wn.stop(!0),a.Wn.H());var c=new kx,d,f=az(a,b),g=a.Y(),h=a.yi(),k=Xy(a,f),l=cz(a,k);d=a.uo();Math.abs(b-k)<d&&(b=ap(k+(b>k?d:-d),a.Mc(),a.cd()));$y(a,f,b);k=cz(a,Xy(a,f));d="vertical"==a.Sb?[ez(a,f),k.y]:[k.x,f.offsetTop];l=new hr(f,[l.x,l.y],d,100);l.ah(a.me);c.add(l);a.Xb&&gz(a,f,g,h,k,c);a.LD&&(f=a.LD.HZ(g,b,100),z.A(f,function(a){c.add(a)}));a.Wn=c;a.o().g(c,"end",a.KP);a.Uo=!0;c.play(!1)};
var gz=function(a,b,c,d,f,g){var h=cz(a,c),k=cz(a,c+d);c=h;d=k;b==a.hb?c=f:d=f;"vertical"==a.Sb?(b=dz(k.y,h.y,a.hb.offsetHeight),h=dz(d.y,c.y,a.hb.offsetHeight),f=new hr(a.Xb,[ez(a,a.Xb),b.offset],[ez(a,a.Xb),h.offset],100),b=new kr(a.Xb,b.size,h.size,100)):(b=dz(h.x,k.x,a.hb.offsetWidth),h=dz(c.x,d.x,a.hb.offsetWidth),f=new hr(a.Xb,[b.offset,a.Xb.offsetTop],[h.offset,a.Xb.offsetTop],100),b=new jr(a.Xb,b.size,h.size,100));f.ah(a.me);b.ah(a.me);g.add(f);g.add(b)};
var hz=function(a){var b=a.m();b&&(z.jj(b,"valuemin",a.Mc()),z.jj(b,"valuemax",a.cd()),z.jj(b,"valuenow",a.Y()),z.jj(b,"valuetext",a.YS(a.Y())||""))};var Uy=function(a,b){b?(a.tk||(a.tk=new Ny(a.m())),a.o().g(a.tk,"mousewheel",a.JG)):a.o().sa(a.tk,"mousewheel",a.JG)};var ez=function(a,b){return a.me?z.oj(b):b.offsetLeft};var iz=function(a,b){Sy.call(this,a,b);this.Hb.Yu(0)};var jz=function(a){z.R.call(this);this.options=window.$.extend({},this.defaults,a)};
var kz=function(a,b){a.zoom=b;lz(a,a.We.Qq/2+a.We.x,a.We.vo/2+a.We.y)};var lz=function(a,b,c){var d=a.zoom;a.We={Qq:a.options.Lg/d,vo:a.options.Kg/d,x:b-a.options.Lg/d/2,y:c-a.options.Kg/d/2};mz(a)};var mz=function(a){var b=a.zoom,c=ap(a.options.gn-a.We.x*b,a.options.Lg+a.options.gn-a.ht*b,a.options.gn),d=ap(a.options.hn-a.We.y*b,a.options.Kg+a.options.hn-a.gt*b,a.options.hn),f={width:b*a.ht,height:b*a.gt,left:c,top:d};a.Xq.css(f);a.Tv.css(f);a.We.x=(a.options.gn-c)/b;a.We.y=(a.options.hn-d)/b};
z.nz=function(a,b,c){z.R.call(this);this.Ar=a||z.oz;this.MF=b;this.sK=c||"l"};var pz=function(){return!!window.FileReader};
var qz=function(a){a.km=a.kz=a.$j="";if(a.dialog)a.dialog.ha();else{a.dialog=new z.V(null);a.dialog.Sa("修改图片");var b=z.Nm.df,c=z.Nm.Pg,d=new z.Pj;d.set(b,"取消",!1,!0).set(c,"确定",!0);z.Mj(a.dialog,d);a.o().g(a.dialog,z.Oj,function(a){if(a.key===c){if(pz()){var b=this.qx;a=(0,window.$)("\x3ccanvas\x3e\x3c/canvas\x3e");a.attr("width",b.options.Lg);a.attr("height",b.options.Kg);var d=a[0];(0,window.$)(window.document.body).append(d);var k=a[0].getContext("2d"),l=b.We;k.drawImage(b.it,l.x,l.y,l.Qq,l.vo,
0,0,b.options.Lg,b.options.Kg);b=d.toDataURL("image/png");a.remove();a=b}else a=this.qx.We;this.$j=a;rz(this);this.dialog.G(!1);return!1}})}sz(a.dialog.T());a.dialog.G(!0);z.W.add(a.dialog.h,"avatar-edit-dialog")};var tz=function(a){var b=a.input.cloneNode();z.Ro(b,a.input);a.input=b;a.o().g(a.input,"change",a.Oc)};
var rz=function(a){if(a.$j&&(pz()||a.kz)){a.dispatchEvent("beforepost");var b={type:a.Ar,dest_id:a.Ar===z.oz?z.T[3]:a.MF,return_size:a.sK};if(pz()){var c=new window.FormData;c.append("handle_mode","upload");c.append("picture",uz(a.$j.replace(/data\:image\/\w{3,4};base64,/,"")),a.file.name);window.$.each(b,function(a,b){c.append(a,b)});window.$.ajax({url:a.FC,data:c,method:"post",processData:!1,contentType:!1,success:window.$.proxy(a.ZE,a),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})}else{var b=
window.$.extend(b,{handle_mode:"resize",x:Math.round(a.$j.x),y:Math.round(a.$j.y),height:Math.round(a.$j.vo),width:Math.round(a.$j.Qq),hashval:a.kz}),d='\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" action\x3d"'+a.FC+'"\x3e';window.$.each(b,function(a,b){d+='\x3cinput type\x3d"hidden" name\x3d"'+a+'" value\x3d"'+b+'" /\x3e'});d+="\x3c/form\x3e";b=(0,window.$)(d);b.appendTo(a.h);b[0].submit()}}};
var sz=function(a){var b=(0,window.$)("\x3cdiv class\x3d'new-avatar-editor-loading'\x3e\x3cdiv\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e正在上传...\x3c/div\x3e\x3c/div\x3e");a=(0,window.$)(a);a.html("");a.append(b)};var uz=function(a){var b,c;c="image/png";b=b||512;a=(0,window.atob)(a);for(var d=[],f=0;f<a.length;f+=b){for(var g=a.slice(f,f+b),h=Array(g.length),k=0;k<g.length;k++)h[k]=g.charCodeAt(k);g=new window.Uint8Array(h);d.push(g)}return new window.Blob(d,{type:c})};
z.vz=function(a){z.R.call(this);this.iV=Object.assign({Li:window.$.noop},a)};z.wz=function(a,b,c,d){z.Ax.call(this,a,b);this.fp=c?5:0;this.QA=d||void 0};var xz=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var yz=function(){};var zz=function(a,b,c){Xp.call(this,a,c||yz.aa(),b);this.Yb(1,!1);this.Yb(2,!1);this.Yb(4,!1);this.Yb(32,!1);this.M=1};var Az=function(){this.bx=[]};
var Bz=function(a,b){var c=a.bx[b];if(!c){switch(b){case 0:c=a.V()+"-highlight";break;case 1:c=a.V()+"-checkbox";break;case 2:c=a.V()+"-content"}a.bx[b]=c}return c};var Cz=function(a,b,c){a=Bz(a,2);return c.B("DIV",a,b)};var Dz=function(a,b){var c=a.T(b);if(c){var c=c.firstChild,d=Bz(a,1);return!!c&&z.kf(c)&&z.Ei(c,d)}return!1};var Ez=function(a,b,c,d){Pp(a,c,b.Bi());Qp(a,b,c);d!=Dz(a,c)&&(z.zo(c,"goog-option",d),c=a.T(c),d?(a=Bz(a,1),c.insertBefore(b.K().B("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))};
z.Fz=function(a,b,c,d){Xp.call(this,a,d||Az.aa(),c);this.Da(b)};var Gz=function(){};z.Hz=function(a,b){Xp.call(this,null,a||Gz.aa(),b);this.Yb(1,!1);this.Yb(2,!1);this.Yb(4,!1);this.Yb(32,!1);this.M=1};var Iz=function(a){this.Ew=a||"menu"};z.Jz=function(a){z.Hz.call(this,Gz.aa(),a)};z.Kz=function(a,b){z.$r.call(this,Lz,b||Iz.aa(),a);this.Ze(!1)};var Mz=function(a,b,c,d){z.wz.call(this,a,b,c||d);(c||d)&&this.Nm(65|(d?32:132))};var Nz=function(){};
var Oz=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==(0,z.$a)(f))a.removeChild(c);else{c.nodeValue=b?z.np(f):z.mp(f);break}}else break;c=d}};var Pz=function(){};var Qz=function(a,b,c){return c.B("DIV","goog-inline-block "+(b+"-caption"),a)};
z.Rz=function(a,b,c,d,f){z.dq.call(this,a,c||Pz.aa(),d);this.Yb(64,!0);this.rk=new Mz(null,5);b&&this.Jh(b);this.AI=null;this.la=new z.sd(500);!z.aj&&!z.Wj||z.F("533.17.9")||(this.vt=!0);this.wT=f||Iz.aa()};var Sz=function(a){a.AI=new z.qg(7,0,7,0)};z.Tz=function(a){a.rk.Nm&&a.rk.Nm(33)};
var Uz=function(a){if(a.ia.xa){var b=a.rk;a.rk.element=a.xV||a.m();var c=a.ia.m();a.ia.X()||(c.style.visibility="hidden",z.Q(c,!0));!a.qu&&a.rk.so&&a.rk.so()&32&&(a.qu=z.Ig(c));b.ha(c,b.jf^1,a.AI,a.qu);a.ia.X()||(z.Q(c,!1),c.style.visibility="visible")}};var Vz=function(a,b,c){var d=a.o();c=c?d.g:d.sa;c.call(d,b,"action",a.Bo);c.call(d,b,"close",a.Ky);c.call(d,b,"highlight",a.Qy);c.call(d,b,"unhighlight",a.Zy)};var Wz=function(a,b){var c=a.o();(b?c.g:c.sa).call(c,a.m(),"keydown",a.eR)};
var Xz=function(a,b){var c=a.m(),d=z.lj(b,"activedescendant"),d=z.Je(b).getElementById(d)||b;if(!d.id){var f=z.Wg.aa();d.id=z.Xg(f)}xo(c,d);z.jj(c,"owns",d.id)};var Yz=function(a,b){this.mi=a instanceof z.Fe?a:new z.Fe(a,b)};var Zz=function(a,b){Yz.call(this,a,b)};z.$z=function(a,b){z.Kz.call(this,a,b);this.un=!0;this.Ze(!0);this.G(!1,!0);this.Qf=new z.Pd};
z.aA=function(a,b,c,d,f){var g=a.X();a.IH()&&a.IX?a.hide():(a.ag=f||null,a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,g||(a.m().style.visibility="hidden"),z.Q(a.m(),!0),b.ha(a.m(),c,d),g||(a.m().style.visibility="visible"),a.Eb(-1),a.G(!0)))};var bA=function(a,b){for(var c=a.Qf.wd(),d=0;d<c.length;d++){var f=a.Qf.get(c[d]);if(f.h==b.currentTarget){a.SK(f,b.clientX,b.clientY);b.preventDefault();b.stopPropagation();break}}};var cA=function(){this.bx=[]};
var dA=function(a,b,c){var d=b.K().B("SPAN");d.className="goog-submenu-arrow";eA(b,d);a.T(c).appendChild(d)};var eA=function(a,b){a.Bd()?(z.Fi(b,"goog-submenu-arrow-rtl"),z.nf(b,a.qr?"◄":"►")):(z.Hi(b,"goog-submenu-arrow-rtl"),z.nf(b,a.qr?"►":"◄"))};var fA=function(a,b,c,d){z.Fz.call(this,a,b,c,d||cA.aa())};var gA=function(a){a.ge&&z.vd(a.ge);a.RB&&z.vd(a.RB)};var hA=function(a){z.ch(a.getParent(),function(a){a!=this&&"function"==typeof a.Yg&&(a.Yg(),gA(a))},a)};
var iA=function(a,b){!b&&a.cb()&&a.cb().Eb(-1);a.dispatchEvent(Ao(64,b));var c=a.cb();b!=a.mA&&z.zo(a.m(),"goog-submenu-open",b);if(b!=c.X()&&(b&&(c.xa||c.render(),c.Eb(-1)),c.G(b),b)){var c=new z.wz(a.m(),a.qr?6:4,a.PS),d=a.cb(),f=d.m();d.X()||(f.style.visibility="hidden",z.Q(f,!0));c.ha(f,a.qr?4:6);d.X()||(z.Q(f,!1),f.style.visibility="visible")}a.mA=b};var jA=function(a,b,c){var d=a.o();(c?d.g:d.sa).call(d,b,"enter",a.ZT)};
z.kA=function(){z.I.call(this);this.ta=null;this.bb=0;this.aA=[];this.Lt=[];this.sC="最多输入 20 字";this.Fx="最多输入 256 字"};var lA=function(a,b,c){a.ta||(a.ta=new z.V(null),z.Mj(a.ta,null),a.ta.Sa(b||""),c&&(a.ta.T().innerHTML=c),a.o().g(a.ta,"afterhide",a.pi))};
var mA=function(a,b,c){var d=z.L("zh-fav-list-item-place-holder");d&&z.Q(d,!1);a.gB=b[5]?"":z.O("span","zm-fav-list-item-lock",[z.O("i","icon icon-lock")]);d=z.O("span","zm-favo-list-item-title");z.nf(d,b[1]);d=z.O("a",{"class":"zg-r5px zm-favo-list-item-link",href:"javascript:;"},[a.gB,d,z.O("span",{className:"meta zg-gray",innerHTML:'\x3cspan class\x3d"num"\x3e'+b[3]+'\x3c/span\x3e 条答案 \x3cspan class\x3d"zg-bull"\x3e•\x3c/span\x3e '+b[4]+" 人关注"})]);a.gB&&a.gB.setAttribute("data-tooltip","s$t$私密收藏夹");
d.setAttribute("data-lid",b[0]);z.B(a.Lt,b[0])&&z.W.add(d,"zm-favo-list-item-link-active");b=z.N("zm-favo-list-item-link",a.rh);c&&b?z.bf(d,b):a.rh.appendChild(d)};var nA=function(a,b){if(a.bb!==b&&a.rh){var c=z.So("zm-favo-list-item-link",a.rh);z.A(c,function(a){z.W.remove(a,"zm-favo-list-item-link-active")},a)}a.bb=b};
z.oA=function(a,b,c,d){var f=z.L("zh-fav-head-title"),g=z.L("zh-fav-head-description-source");b=b||(f?z.pf(f):"");c=c||(g?z.pf(g):"");a.eF=d||z.lh;pA(a);a.cc();qA(a,1);z.Q(a.cC,!1);a.Mr.innerHTML="取消";a.ow.innerHTML="保存";a.ta.Sa("编辑收藏夹");a.Ii.value=to(b);a.mk.value=to(c);a.eF[1]?(z.Q(a.UJ,!1),z.Q(a.SJ,!1),z.Q(a.WH,!1)):(z.Q(a.UJ,!0),z.Q(a.SJ,!0),z.Q(a.WH,!0),a.MH.setAttribute("checked",!0));a.pS=rA(a);a.ta.G(!0);a.om=!0};
var sA=function(a){var b=z.So("zm-favo-list-item-link",a.rh);z.A(b,function(a){var b=a.getAttribute("data-lid");z.W.remove(a,"zm-favo-list-item-link-active");z.B(this.Lt,+b)&&z.W.add(a,"zm-favo-list-item-link-active")},a)};var pA=function(a){a.wP?sA(a):a.B()};
var qA=function(a,b){var c=!!b;a.ta.Sa(0===b?"添加到收藏夹":"创建新收藏夹");z.Q(a.eT,!c);z.Q(a.py,c);(0,window.$)(a.Ux).text("").hide();new z.wk(a.Ii,a.sC);new z.wk(a.mk,a.Fx);if(1===b)(0,window.$)(a.py).on("change.FavoDiag","input, textarea, select",function(){a.bh()});else(0,window.$)(a.py).off("change.FavoDiag"),a.pi()};var rA=function(a){var b=new z.Hr,c=z.ur(a.Ii.value),d=z.Ma(a.mk.value===a.Fx?"":a.mk.value);d||(d=-1);b.add("title",c);b.add("description",d);b.add("is_public",a.NH.checked?1:0);return b};
var tA=function(a){a.ta.G(!1);a.dispatchEvent(uA);z.Y.yb({type:"ga_click_collect_answer",data:{count:(0,window.$)(".zm-favo-list-item-link-active",a.rh).length}})};var vA=function(a,b,c,d){(0,window.$)(c).addClass("btn-pending").text(d?"保存中":"创建中");a.o().Aa(b,"complete",function(){(0,window.$)(c).removeClass("btn-pending").text(d?"保存":"确认创建")})};var wA=function(a,b,c){c=c||(b?"保存失败，请重试":"创建失败，请重试");(0,window.$)(a).text(c).show()};
var xA=function(a,b){z.yi({category:"collect",action:a,label:-1<window.location.pathname.indexOf("collection")?"collections_sidebar_create_collection":"collect_answer_box",attributes:b})};z.yA=function(a,b,c){z.Fz.call(this,a,b,c);this.cq(!0)};var zA=function(a){z.R.call(this);this.$h=a;this.wl=null;this.WE=[];this.ZA=[]};var AA=function(a,b,c){(z.T.AH||2===c?["1","2","0"]:["1","0"]).forEach(function(d){var f=new z.yA(BA[d]);f.Da(d);f.Cc(Number(d)===c);a.WE.push(f);b.Ha(f)})};
var CA=function(a,b){z.Cb(DA,function(a,d){var f=new z.yA(a);f.Da(d);f.Cc(d===this.wl);this.ZA.push(f);b.Ha(f)},a)};var EA=function(a){z.X.confirm("你确定要删除自己的答案吗？","答案内容不会被永久删除，你还可以撤消本次删除操作。",function(b){b&&window.$.post("/answer/remove",{aid:a.$h.sb}).then(function(){return a.$h.Xj()})})};var FA=function(a){a.ZA.forEach(function(b){b.Cc(b.Y()===a.wl)})};var GA=function(a,b){window.$.post("/answer/comment_permission",{answer_id:a.$h.sb,permission:b}).then(function(c){c&&!c.r&&(a.wl=b,FA(a),a.dispatchEvent(HA))})};
var IA=function(a){var b=null;try{b=a.cssRules||a.rules}catch(c){if(15==c.code)throw c.styleSheet=a,c;}return b};
var JA=function(a){var b=[];a=a||window.document.styleSheets;var c=z.ja(void 0)?void 0:!1;if(a.imports&&a.imports.length)for(var d=0,f=a.imports.length;d<f;d++)z.vb(b,JA(a.imports[d]));else if(a.length)for(d=0,f=a.length;d<f;d++)z.vb(b,JA(a[d]));else{var g=IA(a);if(g&&g.length)for(var d=0,f=g.length,h;d<f;d++)h=g[d],h.styleSheet&&z.vb(b,JA(h.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled&&!c||b.push(a);return b};var KA=function(){this.ao="";this.Hh=[]};
var LA=function(a,b,c){var d=[],f;for(f in b){var g=b[f];g&&d.push(f,":",g,c?" !important":"",";")}a.ao=d.join("")};var MA=function(a){this.yw={};if(a){var b=[];a=a.split(/\s+/gm);for(var c=0;c<a.length;c++)if(a[c]){var d=new NA(a[c]);b.push(d)}this.Ni=b}};
var NA=function(a){var b=OA[a];if(b)return b;for(var b=a.match(/[#\.]/)?a.split(/(?=[#\.])/):[a],c={},d=0;d<b.length;d++){var f=b[d];"."==f.charAt(0)?c.className=f.substring(1,f.length):"#"==f.charAt(0)?c.id=f.substring(1,f.length):c.tagName=f.toUpperCase()}this.uH=a;this.rT=c;this.fL={};OA[a]=this};
var PA=function(a,b){var c=b.uid,d=a.fL[c];if("undefined"!=typeof d)return d;var f=a.rT,d=f.tagName,g=f.className,f=f.id,h=!0;d&&"*"!=d&&d!=b.nodeName?h=!1:f&&f!=b.id?h=!1:g&&!b.CO[g]&&(h=!1);return a.fL[c]=h};var QA=function(a){var b=z.ta(a),c=RA[b];if(c)return c;c=[];do{var d={id:a.id,nodeName:a.nodeName};d.uid=z.ta(d);var f={};if(a.className)for(var g=z.Di(a),h=0;h<g.length;h++)f[g[h]]=1;d.CO=f;c.unshift(d)}while(a=a.parentNode);this.UI=c;this.uid=z.ta(this);RA[b]=this};
z.SA=function(){z.I.call(this);this.jc=this.kr()};z.TA=function(a){return a.F&&a.F.nb};var UA=function(a){return a.F&&z.Fc?(a=a.F.nb.$a(),a.scrollTo.bind(a,a.scrollX,a.scrollY)):function(){}};var VA=function(a,b,c,d,f){this.TF=a;this.YB=b;this.Fr=c;this.XF=d;this.cy=f||{}};var WA=function(a,b){this.uY=a;this.$E=b};
var XA=function(a,b,c,d){var f=[];a.Fr&&a.YB&&f.push("\x3c!DOCTYPE HTML\x3e");f.push('\x3chtml style\x3d"background:none transparent;min-width:0;');a.Fr&&f.push("height:",a.XF?"100%":"auto");f.push('"\x3e');f.push("\x3chead\x3e\x3cstyle\x3e");c&&c.$E&&f.push(c.$E);z.C&&a.YB&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("\x3c/style\x3e\x3c/head\x3e");f.push('\x3cbody g_editable\x3d"true" hidefocus\x3d"true" ');z.YA&&f.push("contentEditable ");f.push('class\x3d"editable ');f.push('" id\x3d"',
a.TF,'" style\x3d"min-width:0;');z.C&&a.Fr&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",a.YB?"100%":"auto"),a.XF?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));z.vg&&f.push(";outline:hidden");for(var g in a.cy)f.push(";"+g+":"+a.cy[g]);f.push('"\x3e',b,"\x3c/body\x3e\x3c/html\x3e");a=f.join("");d=d.contentDocument||d.contentWindow.document;d.open();d.write(a);d.close()};
var ZA=function(a,b){z.I.call(this);this.jh=this.id=a;this.nb=null;this.Wb={};this.dk={};for(var c in z.$A)this.dk[c]=[];this.yl="";this.Qk={};this.Qk[aB]=1;this.Qk[z.bB]=1;this.es=new Oq(this.wF,cB,this);this.cs={};for(var d in dB)this.cs[dB[d]]=0;z.C&&(this.Je=new Oq(this.zo,eB,this));this.kc=new z.wd(this);this.vY=[];this.rm=z.fB;this.Am=z.He(b||window.document);this.Pc=this.Am.m(this.id);this.ZP=gB;this.il=this.Am.$a()};
var hB=function(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in iB;return(a.ctrlKey||a.metaKey)&&a.keyCode in jB||b};var kB=function(a,b){a.rm=2;a.Ja=b;a.nb=z.He(b);b.setAttribute("g_editable","true");z.ij(b,"textbox")};
var lB=function(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||z.C&&b.metaKey&&!z.F(29)&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),!1;var c;(c=b.charCode)||(c=hB(b)?!0:!(!z.C||b.ctrlKey||b.metaKey||z.C&&!b.charCode));a.Gy=c;a.Gy&&a.ri();return!0};var mB=function(a,b,c){var d={};a=a.Fu(8,b||"",d);z.sg(c,d);z.Zu(c,a)};
var nB=function(a,b){!oB(a,"selectionchange")&&(pB[b.keyCode]||(b.ctrlKey||b.metaKey)&&qB[b.keyCode])&&(a.dispatchEvent("beforeselectionchange"),a.EK.start())};var rB=function(a,b){if(!b.altKey){var c=z.Tc?b.metaKey:b.ctrlKey;if(c||sB[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&(d=String.fromCharCode(d).toLowerCase(),z.Tc&&z.C&&"`"==d&&" "==b.lc.key&&(d=" "),a.So(5,b,d,c)&&b.preventDefault())}}};var tB=function(a){var b;return a.uc()&&(b=a.nb)?(a=b.$a())&&a.frameElement:null};
z.uB=function(a){return(a=a.nb&&a.nb.$a())&&z.Ju(a)};z.vB=function(a,b,c){if(!oB(a,"selectionchange")){var d=z.uB(a),d=d&&d.Vb();a.Bf=!!d&&z.mf(a.m(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",c_:b&&b.type});a.So(4,b,c)}};z.wB=function(a,b,c){b&&(a.Je&&Pq(a.Je),a.Qk[aB]=1);c&&(z.xB(a),a.Qk[z.bB]=1)};var yB=function(a,b,c){!b&&a.Je&&Pq(a.Je);a.Qk[aB]=0;a.Qk[z.bB]=0;b&&a.zo();c&&a.wF()};var oB=function(a,b){return!!a.Qk[b]||a.cs[b]&&500>=(0,z.J)()-a.cs[b]};
z.xB=function(a){a.Je&&Pq(a.Je);Pq(a.es)};var zB=function(a){z.uf(a.target,"A")&&a.preventDefault()};z.AB=function(a){var b=a.m();if(b){var c=z.Ru(b);b==c?z.Nu(b,0).select():z.dv(c,!0);z.vB(a)}};var BB=function(a){if(!z.ja(a.Lz)&&(a.Lz=!1,z.D&&a.uc())){for(var b=a.Am.$a();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.Lz="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.Lz};z.CB=function(a,b){ZA.call(this,a,b)};
var DB=function(a){if(a.mq?0:a.mq=!0){var b=tB(a),c=a.m(),d=!1;if(b&&c){var f,g=b.parentNode,h=g.offsetWidth;(0,window.parseInt)(Ho(b,"width"),10)!=h&&(f=z.Qg(c),b.style.width=h+"px",c.style.width=h-f.left-f.right+"px",d=!0);g=g.offsetHeight;a.Yo()&&(0,window.parseInt)(Ho(b,"height"),10)!=g&&(f||(f=z.Qg(c)),b.style.height=g+"px",c.style.height=g-f.top-f.bottom+"px",d=!0)}a.mq=!1;d&&a.dispatchEvent("ifrsz")}};var EB=function(a){a.m()&&(DB(a),a.Yo()||a.VB())};
z.FB=function(a,b){var c=a.split("!");this.type=c[0]+"!";this.namespace=c[1];this.Gc=new GB(b)};var GB=function(a){this.category=a.category;this.action=a.action;this.label=a.label;this.value=a.value};var HB=function(){z.I.call(this)};z.IB=function(){z.I.call(this)};var JB=function(a,b,c){window.$.post(a,b).done(function(a){if(a.r)z.X.message(a.msg);else{var b=a.msg;(b=b&&b.redirect)?window.location.href=b:(z.X.message("操作成功！"),c&&c(a))}})};
var KB=function(a,b){var c=window.$.extend({action:"get_member_info",reason:b.value},a.MP);return window.$.post("/manage",c).then(function(a){return z.Ja("用户已被警告 %s 次，禁言 %s 次",a.warn_num,a.ban_num)})};z.LB=function(a){a=void 0===a?{}:a;"post"===a.type&&(a.type="article");this.type=a.type;this.id=a.id;this.mv=a.mv;this.submit=z.Lq(this.submit.bind(this),!0);this.render=z.Lq(this.render.bind(this),!0)};
var MB=function(a){if(a){var b=z.X({title:"举报成功",content:'\x3cp\x3e您的举报正在等待人工审核，我们会在 24 小时内审核完成\x3cbr\x3e处理完成后会「私信」通知您\x3cbr\x3e您也可以进入 \x3ca href\x3d"/community/report"\x3e社区服务中心\x3c/a\x3e 查看实时处理进度\x3c/p\x3e\x3cp style\x3d"margin-top: 1em"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"neverRemind"\x3e不再提醒\x3c/label\x3e\x3c/p\x3e',modal:!0,ha:!0,buttons:{yes:"知道了"}});b.g(z.qk,function(){b.wi().querySelector("[name\x3dneverRemind]").checked&&window.$.post("/community/report/noti",{cancel:!0})})}else{var c=
z.X({title:"举报成功",content:"您的举报正在等待人工审核，我们会在 24 小时内审核完成",modal:!0,buttons:{}});(0,window.setTimeout)(function(){return c.G(!1)},4E3)}};var NB=function(a){z.R.call(this);z.Lb(this.J={},this.defaults,a||{});this.qn=new z.Pd;this.Ge=null};var OB=function(a,b){var c=a.J,d=new z.Sx(c.trigger,!1,null,b);d.lq=c.bX;d.Fo=c.YR;d.Ih(a.uj);z.G(d,"trigger",function(a){d.setPosition(new z.Ax(a.anchor,1))});z.G(d,"beforeshow",function(a){this.Ge=a.target.anchor;this.render()},!1,a);d.className=c.mN;a.bS=d};
var PB=function(a,b){var c=a.J.VS,d=z.ff(a.uj),f=z.pb(d,function(a){return a.getAttribute("data-action")===b});if(!f||z.W.has(f,c))return!1;z.A(d,function(a){z.W.remove(a,c)});z.W.add(f,c);return!0};var QB=function(a,b,c,d){a.qn.set(b,{name:b,pa:c,fi:d||z.q})};z.RB=function(a){z.R.call(this);z.Lb(this.J={},this.defaults,a||{})};var SB=function(a){var b=a.J,c=a.h;TB(c);b=UB(c,b.XG);b.length&&(a.dispatchEvent("willScrape"),window.$.when.apply(window.$,b).always(function(){a.dispatchEvent("didScrape")}))};
var VB=function(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}};var WB=function(a,b){return VB(a,b,function(a){return XB(a)||"CODE"===a.nodeName||"PRE"===a.nodeName})};var XB=function(a){return"A"===a.nodeName};var TB=function(a){var b=z.Lo(a,function(b){return 3===b.nodeType&&!WB(b,a)}),c,d=z.Ju(),f=d&&z.St(d);z.A(b,function(a){var b=a.nodeValue,d=YB(b);d!==b&&(b=z.Xe(d),f===a&&(c=b.lastChild),z.Ro(b,a))});c&&z.dv(c)};
var UB=function(a,b){var c=z.lb(a.getElementsByTagName("A"),function(a){var b=a.getAttribute("href");if(b=!(!b||"#"===b)&&!a.getAttribute("data-editable")&&z.B(ZB,a.protocol))b=z.pf(a),z.Ia(a.href,b)?a=void 0:(a.setAttribute("data-editable",!0),a.setAttribute("data-title",b),a=!0),b=!a;return b});return z.mb(c,function(c){return $B(c.href).done(function(f){aC(a,c,f,b)})})};
var aC=function(a,b,c,d){if(c&&a.contains(b)){d=d||{};var f=function(a,b,c){var d=z.Ju();if(d){var f=d.Z(),r=d.wa(),w=d.ka(),H=d.Qa();z.mf(b,f)&&(f=a,r=0);z.mf(b,w)&&(w=a,H=0);c(function(){f===a&&w===a?z.dv(a):z.uu(f,r,w,H).select()})}else c(z.q)};a={link:function(a,b){a.setAttribute("data-editable",!0);b.title===a.href?a.setAttribute("data-title",bC(a.hostname)):(a.setAttribute("data-title",b.title),f(a,a,function(c){z.nf(a,b.title);c()}))},image:function(a,b){var c=window.document.createElement("img");
c.src=b.src;c.setAttribute("data-rawwidth",b.width);c.setAttribute("data-rawheight",b.height);f(c,a,function(b){z.Ro(c,a);b()})}};(d=d[c.type]||a[c.type])&&d(b,c)}};var bC=function(a){return a.split(".").slice(/(.com|.edu|.gov|.net|.org)$/.test(a)?-2:-3).join(".").replace(/^www\./,"")+" 的页面"};var YB=function(a){return a.replace(cC,function(a){z.Ia(a,"http")||(a="http://"+a);return a.link(a)})};
var dC=function(a){var b=new NB({});QB(b,"link","链接",function(a){z.nf(a,a.href)});QB(b,"text","文本",function(a){z.nf(a,a.getAttribute("data-title"))});b.w(a);var c=b.yy();z.Dx(c,new z.qg(2,0,0,0));z.Qx(c,new z.qg(2,0,0,0));var d=b.o();d.g(c,"beforeshow",function(a){a=a.target.anchor;var c=z.pf(a);c===a.href?PB(b,"link"):(c!==a.getAttribute("data-title")&&a.setAttribute("data-title",c),PB(b,"text"))}).g(c,"beforehide",function(b){if((b=b.target)&&a.contains(b)&&XB(b))return!1});var f;d.g(c,"show",function(a){f=
a.target.anchor;z.W.add(f,"hover")}).g(c,"hide",function(){f&&(z.W.remove(f,"hover"),f=null)});return b};
z.eC=function(a,b,c){z.R.call(this);this.id=a;this.type=b;this.Ja=null;this.dh=this.tu=!1;this.rc="写下你的评论…";this.placeholder='\x3cp style\x3d"color:#999"\x3e'+this.rc+"\x3c/p\x3e";this.lk="";this.Na=-1;this.dA=window.$.Deferred().resolve();this.dB=this.Ot=null;this.FE="zm-comment-box";this.$d=null;a=fC[b];if(!a)throw Error("API not found");this.Sg=window.$.extend({},fC._default_,a);this.yj="";z.Lb(this.J={},this.defaults,c||{})};var gC=function(a){return z.Lq(a,!0,function(){return this.yj})};
var hC=function(a,b,c){if(!z.kf(a)||"TEXTAREA"===a.nodeName)return function(){};var d=new z.RB({XG:{image:z.q}});d.w(a);b=(new z.wh).add("type",b+"_comment").add("resource_id",c);var f=new Gv(a,{nn:{source:"/people/autocomplete?"+b.toString()},Ck:z.N("zu-main")||window.document.body});new zv(a,{rB:Qv});return function(){d.H();f.H()}};z.iC=function(a,b,c){var d=z.N(a.FE,b);c&&(a.$d=c);d?a.w(d):(a.tu=!0,a.render(b))};
var jC=function(a){z.Cb({PD:".load-more",Pn:".zm-comment-list",ME:".zm-comment-form",Ja:".zm-comment-editable"},function(a,c){this[c]=(0,window.$)(a,this.h)[0]},a)};
var kC=function(a){a.Ja&&a.Ja.setAttribute("aria-label",a.rc);if(z.Vm){var b=a.Ja;b.setAttribute("contentEditable",!0);var c=a.Ej={m:function(){return b},Sl:function(){return Mr(b)?"":b.innerHTML},Yd:function(a,c){b.innerHTML=c},hg:function(){z.cv(b)}};z.Ac(a,hC(c.m(),a.type,a.id))}else lC(a);a.o().g(a.Ja,["change","keyup"],function(a){27!==a.keyCode&&(z.Vu(this.Ja)?this.lk="":this.lk=this.Za())}).g(a.Ej.m(),"focus",function(){this.ma({action:"click_add_[type]_comment_box"})});mC(a)};
var lC=function(a){var b=z.O("textarea",{placeholder:a.rc,"class":"zm-comment-textarea"});z.Ro(b,a.Ja);new z.Ur(b);a.Ja=b;a.Ej={m:function(){return b},Sl:function(){return b.value},Yd:function(){b.value="";b.style.height=z.Bg(22,!0)},hg:function(){b.focus()}}};
var nC=function(a){var b=a.Ej,c=b.m();if(b.Sl()!==a.placeholder){b.Yd(!1,a.placeholder);var d=["click","focus","keydown"],f=function(){b.Yd(!1,this.lk||"");this.Ja.lastChild?z.dv(this.Ja.lastChild):b.hg();z.ld(c,d,f,!1,this)};z.G(c,d,f,!1,a);var g;window.getSelection?(g=window.getSelection(),g.anchorNode&&z.mf(a.Ja,g.anchorNode)&&g.removeAllRanges()):window.document.selection&&a.Ja.blur()}};var oC=function(a){a.focus();a=z.Mu(a);a.collapse();a.select()};
var pC=function(a){var b;(b=z.N("zm-comment-reply-hack"))?(b=z.Xe(z.Mo(b)),z.W.rw(b,"zm-comment-reply-hack","zm-comment-reply-hacked"),z.cf(b,a)):(b="",z.T.Lb()&&(b='\x3cimg class\x3d"avatar" src\x3d"'+z.T.Rd("is")+'"\x3e'),b=z.Xe('\x3cdiv class\x3d"zm-comment-form expanded"\x3e\x3cdiv class\x3d"zm-comment-editable-wrap"\x3e'+b+'\x3cdiv class\x3d"zm-comment-editable" aria-label\x3d"写下你的回复"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-submit zg-right zg-btn-blue"\x3e评论\x3c/a\x3e\x3ca href\x3d"javascript:;" class\x3d"zm-comment-close zm-command-cancel"\x3e取消\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),
a.appendChild(b));return b};var qC=function(a,b){return z.pb(rC(a),function(a){return a.getAttribute("data-id")===b})};var rC=function(a){return(0,window.$)(a.Pn).children(".zm-item-comment").get()};
var sC=function(a){a.o().g(a.h,"click",a.Va).g(a.Ja,"keydown",a.kU).g(z.Ep,"anon_change",a.Uj).g(a.Ej.m(),["click","focus"],z.Aa(a.cv,!0)).g(a.Ej.m(),"focus",z.Aa(a.cj,"add_comment_start"));a.Na=Number(a.h.getAttribute("data-count"));(0,window.$)(a.h).on("focusin focusout","."+a.J.Cf,function(a){(0,window.$)(this).toggleClass("focusin","focusin"===a.type)});!z.Vj&&a.PD&&(a.dB=qr().then(window.$.proxy(a.mI,a)))};var tC=function(a){0<a.ob()?(a.lk=a.Za(),a.cv(!1),nC(a)):a.$d?a.collapse():a.cv();a.pi()};
var uC=function(a){if(a.$d){var b=(0,window.$)(a.$d);a.$(a.$D).show().css("left",b.position().left+b.width()/2)}};var vC=function(a){if("pending"!==a.dA.state()){a.zb();a.h.innerHTML=a.Sn();a.expand();var b=a.Sg.Pj(a.id,a.J.iT).done((0,z.t)(a.$V,a));return a.dA=b}};
var mC=function(a){z.T.Lb()?z.T.Ee||wC(a,'\x3cdiv class\x3d"activate-mask-tip-comment"\x3e'+(z.T.eo?"为了正常使用知乎的提问、回答、评论和编辑功能，请验证你的邮箱。":"为了正常使用知乎的提问、回答、评论和编辑功能，请绑定你的手机或邮箱。")+"\x3c/div\x3e",'\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"zg-r3px zg-btn-blue" href\x3d"javascript:;"\x3e我要激活\x3c/a\x3e\x3c/div\x3e'):wC(a,'\x3cdiv class\x3d"signin-mask-tip-comment"\x3e\x3c/div\x3e',null)};
var wC=function(a,b,c){b=(0,window.$)(b);var d=(0,window.$)(c);c?((0,window.$)(".zm-command, .zm-comment-info",a.h).hide(),(0,window.$)(a.Ja).hide().after(d).after(b)):b.insertAfter(a.Ja);a=(0,z.t)(gC(z.q),a);b.on("click",a);d.on("click",a)};var xC=function(a){jC(a);kC(a);nC(a);sC(a);yC(a);uC(a)};var yC=function(a){var b=a.J,c=!a.ob();z.W.enable(a.h,b.Ox,c);c&&a.Ja&&b.autofocus&&a.lo();a.dispatchEvent("change")};
var zC=function(a,b,c){if(!a.Fm||"pending"!==a.Fm.state()){var d;z.sa(b)&&(d=b.fW,b=b.content);b=z.La(b);var f=new z.Pd;f.set(a.type+"_id",a.id);f.set("content",b);d&&f.set("reply",d);b=a.Sg.add(Un(f));b.done(window.$.proxy(a.tQ,a)).done(c);a.Fm=b;a.lk=a.Za();a.cj("add_comment_submit")}};var AC=function(a,b){var c=z.Jo(b,a.J.Cf);(new z.IB).open(b,{id:c.getAttribute("data-id"),type:"comment"},(0,z.t)(function(){z.P(c);--this.Na;yC(this)},a))};
var BC=function(a,b){var c=z.Jo(b,a.J.Cf),d=c.getAttribute("data-id"),f="你确定要删除这条评论吗？",g=(0,window.$)(".zm-item-link-avatar",c).prop("href");g&&(f+='\x3cp class\x3d"js-block" style\x3d"margin-top:.2em;color:#999;visibility:hidden"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e同时将此人屏蔽\x3c/label\x3e\x3c/p\x3e',window.$.get(g+"/block",function(a){a.r||a.msg||(0,window.$)(".js-block",h.m()).css("visibility","visible")}));var h=z.X.confirm("删除评论",f,function(a){a&&(a=(0,window.$)(":checkbox",h.m()).prop("checked"),
CC(this,d,Number(a),z.Aa(z.P,c)))},a)};var DC=function(a,b,c){a.Sg.remove(b).done((0,z.t)(function(){z.qa(c)&&c();--this.Na;yC(this)},a))};var CC=function(a,b,c,d){a.Sg.dO(b,c).done((0,z.t)(function(){z.qa(d)&&d();--this.Na;yC(this)},a))};var EC=function(a,b){return a&&(b.length?EC(a[b.shift()],b):a)};var FC=function(a,b){z.R.call(this);this.sb=a;this.entryType=b;this.ik=!1;this.gE=!0};var GC=function(a){z.T.Lb()&&0===HC(a)&&(0,window.setTimeout)(function(){return a.lo()})};
var IC=function(a){if(!a.Ol&&!z.xm){var b=z.Jo(a.h,"zm-item-meta");if(b){var c=z.N("zm-meta-panel",b);c&&(a.Ol=new wv(null,b),a.Ol.tag="comment",a.Ol.w(c))}}};var JC=function(a,b){a.$d=b;a.cw=(0,window.$)(b);a.jV=z.pf(a.$d);a.cw.on("click",function(){GC(a)})};var KC=function(a){a.ik&&(0,window.$)(".icon-spike",a.h).css("left",a.cw.position().left+a.cw.width()/2).removeClass("hidden")};
var LC=function(a){if(a.$d)if(a.ik)rr(a.$d,"收起评论");else{var b=HC(a),c=void 0,c=z.pa(b)?0<b?b+" 条评论":"添加评论":a.jV;rr(a.$d,c)}};var HC=function(a){var b;if(b=a.vr)a=a.vr.store.getState(),b=EC(a,["commentBox","meta","totalCountPure"]);return b};var MC=function(a,b,c){var d=a.vr;a=d.store;var f=d.actions,d=d.ActionTypes;/[A-Z]/.test(b[0])?a.dispatch({type:d[b],payload:c}):a.dispatch(f[b](c))};
var NC=function(a,b){z.R.call(this);window.$.extend(this.options={},OC,b||{});this.state={pm:!1,ut:!1,wt:!0,To:!1,YA:!1};var c=new z.gl(this.update,17,this);z.zc(this,c);this.jL=(0,z.t)(c.fire,c)};
var PC=function(a){var b=(0,window.$)(a.h),c=(0,window.$)("\x3cdiv\x3e");window.$.each("display position top right bottom left float margin".split(" "),function(a,f){c.css(f,b.css(f))});c.css({visibility:"hidden",width:b.outerWidth(),height:b.outerHeight()}).insertBefore(b);a.rc=c.get(0);b.addClass(a.options.Rg);a.ha();a.options.sJ.call(a)};
var QC=function(a){if(!window.Modernizr.csstransitions)return PC(a);var b=(0,window.$)(a.h);a.state.To=!0;PC(a);b.css({transition:"none",transform:"translateY("+RC(a)+"px)"});(0,window.setTimeout)(function(){b.css({transition:"",transform:""}).onTransitionEnd(function(){a.onAnimationEnd()},200)})};
var SC=function(a){if(!window.Modernizr.csstransitions)return a.restore();var b=(0,window.$)(a.h);a.state.To=!0;b.css("transform","translateY("+RC(a)+"px)").onTransitionEnd(function(){b.css({transition:"none",transform:""});a.restore();a.onAnimationEnd()},200)};var RC=function(a){var b=(0,window.$)(a.h).outerHeight();return null===a.options.bottom?-(b+a.options.top):b+a.options.bottom};
var TC=function(){function a(a,b){a=z.oa(a)?new RegExp(a):a;return a.test(b)}var b;z.Eb({home:"^/$",collection:"^/collection/\\d+$",roundtable:"^/roundtable/[\\w\\.-]+$",answer:"^/question/\\d+/answer/\\d+$",question:"^/question/\\d+$",search:"^/search$",people:"^/people/[\\w\\.-]+$",people_answers:"^/people/[\\w\\.-]+/answers$",explore_recommendations:"^/explore/recommendations$",explore_daily_hot:{path:"^/explore$",hash:"^(?!monthly-hot$)"},explore_monthly_hot:{path:"^/explore$",hash:"^monthly-hot$"}},
function(c,d){c.path&&c.hash?a(c.path,window.location.pathname)&&a(c.hash,window.location.hash.slice(1))&&(b=d):a(c,window.location.pathname)&&(b=d);return!!b});return b};z.UC=function(a){z.R.call(this);this.entryType=a;this.RC=VC[a];this.tb=this.Ij=!1;this.nt=window.setTimeout.bind(window,this.nt.bind(this))};var WC=function(a,b){return z.Lq(a,b,function(){return this.ty()})};var XC=function(a){a.RC&&z.yo(a,{module:a.RC+"Item"},function(){return{card:{card_type:"Content",content:a.Fy()}}})};
var YC=function(a){var b=a.m();a.g("trackRequested",function(c){c.label=a.uG();c.value=(0,window.$)(b).index()+1;z.yi(c)});a.Ij&&z.In(b,function(){a.uI()});0===(0,window.$)(b).parent().closest(".feed-item").length&&z.In(b,function(){(0,z.Im)(a,{element:"Card"})})};
var ZC=function(a){a=(0,window.$)(a);var b={};(0,window.$)("[itemprop]",a).each(function(){var a=(0,window.$)(this);a.is("link, a")?b[a.attr("itemprop")]=a.prop("href"):b[a.attr("itemprop")]=a.attr("content")});(0,window.$)("meta[name]",a).each(function(){var a=(0,window.$)(this);b[a.attr("name")]=a.attr("content")});return b};var $C=function(a){var b=ZC(a.h);a.sb=b[a.entryType+"-id"];a.ti=b[a.entryType+"-url-token"];a.Le=b};
var aD=function(a){if(a.XB)return a.XB;var b=(0,window.$)('meta[itemprop\x3d"ZReactor"]',a.h);b.length||(b=(0,window.$)(a.h).closest(".feed-item").find('meta[itemprop\x3d"ZReactor"]'));b=b.data("meta");a.XB=b&&b.source_type||"";return a.XB};
var bD=function(a){if(a.Uz)return a.Uz;var b=TC();a.Uz=({home:"feed",search:"search_result_question_answer_tab",explore_daily_hot:"daily_trending",explore_monthly_hot:"monthly_trending",people:"people_profile_activities",people_answers:"people_profile_answers",explore_recommendations:"editor_recommendations"}[b]||b)+({collection:"_feed",roundtable:"_feed",answer:"_more"}[b]||"");return a.Uz};
var cD=function(a){return{promotion_answer:"promote",member_voteup_answer:"someone_vote_up",topic_acknowledged_answer:"from_topic",roundtable_add_answer:"from_roundtable",member_answer_question:"someone_add",member_create_article:"someone_add",member_voteup_article:"someone_vote_up"}[aD(a)]};var dD=function(a){return(0,window.$)(a.nN,a.m())[0]};
z.eD=function(a){var b={appkey:"3063806388"};a&&(b.title=a);window.open("http://service.weibo.com/share/share.php?"+window.$.param(b),"_blank","width\x3d615,height\x3d505")||(window.location.href="http://service.weibo.com/share/share.php?"+window.$.param(b))};z.fD=function(a,b,c,d){b=new gD(b,c,d);b.w(a);return b};var gD=function(a,b,c){z.R.call(this);this.wb=a;this.KL=b;this.NK=c};
var hD=function(a){var b=a.qp=new z.Kz,c=[{label:z.Xe('\x3cspan class\x3d"ico z-ico-weibo-share"\x3e\x3c/span\x3e新浪微博'),value:0},{label:z.Xe('\x3cspan class\x3d"ico z-ico-wechat-share"\x3e\x3c/span\x3e微信扫一扫\x3cimg class\x3d"qrcode-image js-qrcode-image"\x3e'),value:1}];"answer"!==a.wb&&"post"!==a.wb||c.push({label:z.Xe('\x3cspan class\x3d"ico z-ico-daily-share"\x3e\x3c/span\x3e读读日报'),value:2});window.$.each(c,function(a,c){var g=new z.Fz(c.label,c.value);b.Ha(g)});z.bh(b,1).ab(!1);c=new z.Rz("share",
b);c.Jk=!0;c.Tb=z.Gl;c.w(a.m());z.zc(c,a);b.g("action",a.sQ.bind(a));(0,window.$)(b.m()).addClass("share-menu")};var iD=function(a,b,c,d){fA.call(this,a,b,c,d)};z.jD=function(a){z.R.call(this);z.Lb(this.options={},kD,a||{});this.content="";this.pd=this.bf=this.dl=null};var lD=function(a){a.getParent()?a.dispatchEvent("expandRequest"):a.expand()};var mD=function(a,b){return window.$.post("/node/PromotionVoteBarV2",{method:b,params:{post_id:a}})};
var nD=function(a,b,c){z.R.call(this);this.sb=a;this.entryType=b||"answer";this.oi=null;this.J=window.$.extend({},this.defaults,c||{})};var oD=function(a,b,c){var d=+a.Tq.text(),f=0;(0,window.isNaN)(d)||(c===z.pD.Og?f=1:b===z.pD.Og&&(f=-1),a.Tq.text(d+f))};
var qD=function(a){var b=a.M,c=a.J,d=b===z.pD.Og,b=b===z.pD.el,f=d?"取消赞同":"赞同",g=b?"取消反对":"反对，不会显示你的姓名";a.ew.toggleClass(c.zu,d).find(".label").text(f).end().attr("aria-pressed",d).attr("title",f);a.Rv.toggleClass(c.zu,b).find(".label").text(g).end().attr("aria-pressed",b).attr("title",g)};var rD=function(a,b){z.R.call(this);this.sb=a;this.entryType=b;this.Fm=null;this.Sg="post"===b?sD:tD};
z.uD=function(a){a.Fm&&"pending"===a.Fm.state()||(a.Fm=a.Sg.wG(a.sb).done((0,z.t)(a.Jf,a)),(0,window.$)(".js-voteCount",a.rb).text(a.ob()))};var vD=function(a){z.R.call(this);this.YL="votebar-mobile";this.Hx="votebar-mobile-dialog";this.Dv=a;this.$L="votebar-"+(["post","promotion"].includes(a.entryType)?"post":"answer");this.ZL=z.O("span","_votebar-holder")};
var wD=function(a){var b=a.Dv;z.Ro(a.ZL,b.m());z.Gi(b.m(),[a.YL,a.$L]);a.o().g(b,"action",function(){this.La&&(0,window.setTimeout)((0,z.t)(function(){this.La.G(!1)},this),150)})};z.xD=function(){z.UC.call(this,"answer");this.lm=window.setTimeout.bind(window,this.lm.bind(this));this.fk=window.setTimeout.bind(window,this.fk.bind(this))};
var yD=function(a){var b=(0,window.$)(".js-administer",dD(a))[0];if(b){a.yN=b;zD=0;var c=new z.$z;a.L(c);c.attach(b,5);var d=a.Gi?new z.Fz("取消折叠"):new iD("折叠");d.Da("collapse");var f=function(a,b){var c=new z.Fz(b+1+" "+a.label);c.Da(a.value);d.Ha(c)};a.Gi||AD("answer","collapse").then(function(a){z.A(a,f);z.W.add(d.cb().m(),"manage-menu")});b=new z.Fz("删除");b.Da("delete");c.Ha(d);c.Ha(b);c.render(a.h);z.W.add(c.m(),"manage-menu");return c}};
var BD=function(a,b){a.o().g(b,"action",function(a){var b=a.target;a=b.Y();var b=b.m(),f=new z.wh;"collapse"===a?(f.add("answer_id",this.bb).add("action","collapse2").add("collapse",this.Gi?"cancel":"done"),b.setAttribute("data-op",this.Gi?"uncollapse-answer":"collapse-answer"),b.setAttribute("data-action","/manage?"+f.toString()),CD(this,b)):"delete"===a?(f.add("answer_id",this.bb).add("action","remove_answer2"),b.setAttribute("data-op","remove-answer"),b.setAttribute("data-action","/manage?"+f.toString()),
CD(this,b)):z.pa(a)&&(b=new z.wh,b.add("answer_id",this.bb).add("action","collapse2").add("collapse",this.Gi?"cancel":"done").add("reason",a),JB("/manage",b.toString(),(0,z.t)(this.Xj,this)))});a.o().g(b,"show",function(){z.W.add(dD(this),"zm-item-meta-has-menu")}).g(b,"hide",function(a){a.currentTarget===a.target&&z.W.remove(dD(this),"zm-item-meta-has-menu")})};var CD=function(a,b){(new z.IB).open(b,{id:a.bb,type:"answer"},(0,z.t)(a.Xj,a))};
var DD=function(a){var b=Number(a.Le.copyrightStatus),c=a.Le.own||!1,d=(0,window.$)(".entry-content, .zm-item-rich-text",a.h),f=(0,window.$)(".copyright, .js-copyright",a.h);a=z.ED.gX.bind(z.ED,d,a.Le.disableCopyAvatar);switch(b){case 0:c||a("保留所有权利，禁止转载",!0);break;case 2:c||(a("如需转载，请点击文末的申请转载按钮",!1),f.click(function(a){z.T.gd&&(a.preventDefault(),z.X.message("机构帐号暂不支持该功能"))}))}b=d.data("entryUrl");c=d.data("authorName");z.ED.HD(d,b,c)};z.FD=function(){z.UC.call(this,"post")};
var GD=function(a){var b=(0,window.$)(".Tipjar-entry",a.h);a.o().g(a.cL,"expand",function(){b.show()});a.o().g(a.cL,"collapse",function(){b.hide()});b.on("click",".Tipjar-entryButton",function(){z.U("tipjar","click_tipjar","topstory")})};z.HD=function(){z.UC.call(this,"question")};z.ID=function(){z.UC.call(this,"live")};z.JD=function(a){a=a.getAttribute("data-type");return new ({a:z.xD,Answer:z.xD,p:z.FD,Post:z.FD,q:z.HD,Question:z.HD,l:z.ID}[a]||z.R)};z.KD=function(a,b,c){z.Fz.call(this,a,b,c);this.$i(!0)};
z.LD=function(a,b,c){z.R.call(this);this.offset=this.gv=0;this.WW=c;this.HP=a;this.url=b||window.location.href;this.ph="zm-item";this.params={}};z.MD=function(a,b){b?a.bl.html('\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e正在加载').prop("disabled",!0):a.bl.html("更多").prop("disabled",!1)};var ND=function(a){var b=a.lb();a.offset=a.wA?a.wA(b):b.length;a.at?(b=a.at(),z.Q(a.Vd,b)):a.Vd&&("-1"!==a.bl.attr("data-next")&&b?a.bl.removeClass("hidden").show():a.bl.hide())};
z.OD=function(a){a.dispatchEvent({data:{Vo:a.Vo,HC:a.HC},type:"afterload"})};var PD=function(a){var b=a.lb(),c;if(a.WW)if(a.Vd&&(c=a.Vd.getAttribute("data-next")),c)a.gv=c;else if(b=z.jb(b))a.gv=a.WA(b)};var QD=function(a,b){z.A(b,function(a){var b=this.gu(a);this.dispatchEvent({data:{item:a,WS:b},type:"itemcreated"})},a)};
z.RD=function(a){z.I.call(this);this.la=null;this.h=a;a=z.D||z.Fc||z.E&&!z.F("531")&&"TEXTAREA"==a.tagName;this.U=new z.wd(this);this.U.g(this.h,a?["keydown","paste","cut","drop","input"]:"input",this)};var SD=function(a){null!=a.la&&(z.vd(a.la),a.la=null)};var TD=function(a){a=new z.Oc(a.lc);a.type="input";return a};var UD=function(a,b,c,d){z.I.call(this);this.si=a;this.EF=b;this.Ut=c;this.uP=d||VD;a.removeAttribute("maxlength");this.Dz=new z.RD(a);z.G(this.Dz,"input",this.BA,!1,this);this.ul()};
z.WD=function(a){z.I.call(this);this.ta=null;this.qa=a;this.Qu=0;this.VJ=""};var XD=function(a,b){var c=z.So("zm-menu-item-link",a.BJ);z.A(c,function(a,c){var g=!z.B(b,c);z.Q(a,g)},a)};var YD=function(){z.I.call(this)};
z.ZD=function(a){function b(){var b;$D||($D=new YD,$D.init());b=$D;b.rj=a;b.lN=a.id.split("-")[1];b.show()}function c(b){if(!a.getAttribute("data-disabled")){var c;aE||(aE=new z.WD,aE.init());c=aE;c.rj=a;c.qa=a.id.split("-")[1];"redirect"===b?c.show():(z.up("/question/unredirect",null,"POST","qid\x3d"+c.qa+"\x26rqid\x3d"+c.Qu),c.rj.innerHTML="重定向已撤销",c.rj.setAttribute("data-disabled",1))}}function d(){function b(){var f=d.value,g=a.getAttribute("id").split("-")[1],f=(new z.wh).add("revision",g).add("reason",
f),r=new z.Z(!0);r.on("success",function(){var a=z.Tn(r);c.G(!1);if(!a)return z.X.message("网络异常");if(a.r)return z.X.message(a.msg);a.msg?window.location.href=a.msg:window.location.reload()});r.ajax("/revert",f.toString())}var c=z.X.confirm("撤销",'\x3cdiv class\x3d"zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input content" title\x3d"请输入撤销原因" placeholder\x3d"请输入撤销原因"\x3e\x3c/textarea\x3e\x3c/div\x3e',function(a){if(a)return b(),!1}),d=z.N("content",c.T());new z.wk(d);new z.Ur(d);new UD(d,
null,200)}var f=a&&a.name;if(f)switch(f){case "adminflag":b();break;case "redirect":case "cancel_redirect":c(f);break;case "revert":d()}};z.bE=function(a){(0,window.$)(a).on("click",'a[name\x3d"revert"]',function(){z.ZD(this)})};
z.cE=function(a){var b={Dq:!1,f_:!1};return function(c){if(!1===c)return!1;c={};z.Lb(c,b,a||{});if(c.Dq&&!z.T.ct)return z.X.alert('\x3ca href\x3d"/question/23261456" target\x3d"_blank"\x3e如何参与知乎话题的公共编辑？\x3c/a\x3e'),!1;if(c.Np){if(!z.S.AP)return z.X.alert('\x3cp\x3e创建较久或已有较多讨论的问题限制公共编辑\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e如何参与知乎问题的公共编辑？\x3c/a\x3e\x3c/p\x3e'),!1;if(z.S.Xo)return z.X.alert('\x3cp\x3e创建较久或编辑次数较多的问题锁定公共编辑\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"/question/24501563" target\x3d"_blank"\x3e如何参与知乎问题的公共编辑？\x3c/a\x3e\x3c/p\x3e'),
!1}}};var dE=function(a){return window.$.post("/settings/account/unlock_with_digits",a)};var eE=function(a){return window.$.post("/settings/account/unlock_with_password",a)};
z.fE=function(a){return new window.Promise(function(b){function c(a,b){return!!z.pb(a,function(a){return a.challenge_type===b})}function d(a){var b={value:a.challenge_type};switch(b.value){case "password":b.label="使用知乎密码验证";break;case "phone_digits":b.label=z.Ja("使用手机 %s 验证",a.hint);break;case "email_digits":b.label=z.Ja("使用邮箱 %s 验证",a.hint)}return b}if(z.hj.get("unlock_ticket"))return b();var f=z.X.async({title:"验证身份",modal:!0,WK:"正在进行安全验证，请稍等",className:"settings-account-unlock-dialog",onload:function(c,
d){function f(a){var b=(0,window.$)(".panel",l),c=a?b.filter(function(){return(0,window.$)(this).data("match")===a}):b.first();b.not(c.show()).hide()}var l=(0,window.$)("form",c),p=(0,window.$)(".submit",l),r=(0,window.$)(".error-label-container",l),w=(0,window.$)(".hint-label-container",l),H=(0,window.$)("select",l).change(function(){f(this.value);r.text("");w.text("")});(0,window.$)(".js-send-digits",l).each(function(){var a=(0,window.$)(this),b=a.closest(".panel");(0,window.$)("input",b);var c=
b.data("match"),a=z.uk(a,60,function(a){return a?"%s 秒后即可重发":"重发验证码"},function(){w.text("");window.$.post("/settings/account/send_unlock_digits",{type:c}).then(function(){w.text("验证码已发送至你的"+("email_digits"===c?"邮箱":"手机"))})});z.zc(d,a)});z.sa(a)&&(a.cancel=function(){d.G(!1)});var K=l.validate({messages:z.gE,ignore:"input.text:hidden",errorLabelContainer:r,submitHandler:z.vk(p,function(){var a="password"===H.val();return(a?eE:dE)((0,window.$)(":input:visible",l).serialize()).then(function(c){if(c.success)d.G(!1),
b();else if(c=c.payload,c.fields)K.showErrors(c.fields);else if(c.message){var f={};f[a?"password":"digits"]=c.message;K.showErrors(f)}})})});H.change();(0,window.$)("input.text:visible",l).focus()},jx:window.$.get("/settings/account/request_unlock").then(function(a){if(a.success)return(0,window.setTimeout)(function(){f.G(!1);b()},3E3),'\x3cp class\x3d"z-text-muted"\x3e验证成功\x3c/p\x3e';var h=a.payload;return window.$.get("/node/SettingsRequestUnlockTemplate").then(function(a){return(0,z.ew)(a,{canUsePanel:z.Aa(c,
h),each:z.A,options:z.mb(h,d)})})})})})};z.hE=function(a,b,c){b=void 0===b?"success":b;c=void 0===c?3E3:c;if(a){var d=(0,window.$)("#zh-message-container");d.length||(d=(0,window.$)('\x3cdiv id\x3d"zh-message-container" style\x3d"display:none"\x3e\x3c/div\x3e').prependTo(".zu-main-content-inner"));d.text(a).attr("class",{success:"zg-info-message",error:"zg-error-message"}[b]).show().delay(c).fadeOut()}};z.iE=function(a,b){z.ma(a)&&z.hE(a[1],a[0]?"error":"success",b)};
z.jE=function(a){z.I.call(this);this.vd=a};z.kE=function(a){this.Gl=a;this.jj=new z.Cj("",!0,this.Gl.vd);this.Kn=new z.Pj(this.Gl.vd);this.Jn={};this.Yh("tr-dialog")};z.lE=function(a,b){var c=z.v("OK");a.Kn.set("ok",b||c,!0);a.Jn.ok=(0,z.t)(a.Gl.rR,a.Gl)};z.mE=function(a,b){var c=z.Mm,d=z.v("Cancel");a.Kn.set(c,b||d,!1,!0);a.Jn[c]=(0,z.t)(a.Gl.yo,a.Gl);return a};
z.nE=function(a){a.Kn.nh()&&(z.lE(a),z.mE(a));z.Mj(a.jj,a.Kn);var b=a.Jn;a.Jn=null;a.jj.g(z.Oj,function(a){if(b[a.key])return b[a.key](a)});a.jj.iq(!0);var c=a.jj;a.jj=null;return c};z.oE=function(a){z.SA.call(this);this.MO=a;this.pK=function(){}};z.pE=function(a){var b=a.F,c=a.yK;c&&c.restore();b.focus();a.yK=null};var qE=function(a){a.La&&!a.Jz&&(a.Jz=!0,a.La.H(),a.La=null,a.Jz=!1)};var rE=function(a){z.jE.call(this,a);this.U=new z.wd(this);this.Mq=z.tm.Lq+"/upload";this.wO=!z.D};
var sE=function(a){z.Kc.call(this,"ok");var b=a[0];this.km=b;this.DJ=b.replace("_m.jpg","_r.jpg");this.bK=a[1];this.aK=a[2]};var tE=function(a,b){function c(a){a.eq(b).addClass("selected").siblings().removeClass("selected")}var d=(0,window.$)(".tab-nav",a.iC),f=(0,window.$)(".tab-content",a.form);z.Q(a.of,!1);var g=f.eq(b);g.find("input").val("");c(d);c(f);g.find(":text").focus()};var uE=function(a,b){z.Q(a.uh,!1);a.of.innerHTML=b;z.Q(a.of,!0)};z.vE=function(){z.oE.call(this,"image");this.U=new z.wd(this)};
var wE=function(a,b,c,d){z.Ot.call(this,a,b,c,null,d)};z.xE=function(){};var yE=function(a,b,c,d){for(var f=[],g=0,h=0;g<c.height;g++){for(var k=[],l=0;l<c.width;l++){var p=b&&b[h++];k.push(zE(a,p,d))}f.push(AE(a,k,d))}return a.ox(f,d)};var AE=function(a,b,c){a=c.B("TR",a.V()+"-row",b);z.ij(a,"row");return a};
var zE=function(a,b,c){a=c.B("TD",{"class":a.V()+"-cell",id:a.V()+"-cell-"+BE++},b);z.ij(a,"gridcell");z.jj(a,"selected",!1);if(!z.pf(a)&&!wo(a)){var d;b=new wE(a);for(c="";!c&&(d=Zo(b));)1==d.nodeType&&(c=wo(d)||d.title);(d=c)&&z.jj(a,"label",d)}return a};var CE=function(a,b,c){for(b=b.m();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&z.Ei(c,a.V()+"-cell"))return c.firstChild;c=c.parentNode}return null};var DE=function(a){z.I.call(this);this.Ve=[];EE(this,a)};
var EE=function(a,b){b&&(z.A(b,function(a){this.Km(a,!1)},a),z.vb(a.Ve,b))};z.FE=function(a,b,c){Xp.call(this,a,b||z.xE.aa(),c);this.tj&=-89;this.Xn=new GE;this.Xn.Jb(this);this.Wz=-1};z.HE=function(a,b){if(a.m())throw Error("Component already rendered");a.Dc=z.pa(b)?new z.Ge(b,void 0):b;IE(a)};var JE=function(a){var b=a.Za();return b&&b[a.Xa]};
var KE=function(a,b,c){if(a.m()){var d=a.Za();if(d&&0<=b&&b<d.length){var f;f=(f=JE(a))?f.parentNode:null;a.Xn.m()!=f&&(a.Xn.h=f);f=a.Xn;f.Sc(c);!!(f.M&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,z.zo(b,a.N.V()+"-cell-hover",c),c?z.jj(a.h,"activedescendant",b.id):b.id==z.lj(a.h,"activedescendant")&&a.h.removeAttribute("aria-activedescendant"))}}};
var IE=function(a){var b=a.Za();if(b)if(a.Dc&&a.Dc.width){if(b=Math.ceil(b.length/a.Dc.width),!z.pa(a.Dc.height)||a.Dc.height<b)a.Dc.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.Dc=new z.Ge(b,b);else a.Dc=new z.Ge(0,0)};var GE=function(){Xp.call(this,null);this.Nk|=2};z.LE=function(){};z.ME=function(){this.Ew="toolbar"};var NE=function(){};z.OE=function(a,b,c){z.dq.call(this,a,b||NE.aa(),c)};var PE=function(){};var QE=function(a,b){return b.B("DIV","goog-color-menu-button-indicator",a)};
var RE=function(a,b){if(a&&a.firstChild){var c;if(c=b)c=!!($q.test("#"==b.charAt(0)?b:"#"+b)||br(b).length||dr&&dr[b.toLowerCase()]);c=c?Zq(b).et:null;a.firstChild.style.borderBottomColor=c||(z.D?"":"transparent")}};var SE=function(a,b,c){this.Pr=a||[];z.FE.call(this,null,b||z.xE.aa(),c);this.Pr=this.Pr;this.bu=this.At=null;this.ea(TE(this))};
var TE=function(a){return z.mb(a.Pr,function(a,c){var d=this.K().B("DIV",{"class":this.N.V()+"-colorswatch",style:"background-color:"+a}),f;this.At&&this.At[c]?f=this.At[c]:"#"==a.charAt(0)?(f=ar(a),f="RGB ("+[(0,window.parseInt)(f.substr(1,2),16),(0,window.parseInt)(f.substr(3,2),16),(0,window.parseInt)(f.substr(5,2),16)].join(", ")+")"):f=a;d.title=f;return d},a)};var UE=function(a){if(a)try{return Zq(a).et}catch(b){}return null};var VE=function(a,b,c,d){z.Rz.call(this,a,b,c||PE.aa(),d)};
var WE=function(a){var b=new z.Kz(a);z.Cb(XE,function(c){c=new SE(c,null,a);z.HE(c,8);b.L(c,!0)});return b};var YE=function(){};var ZE=function(){};var $E=function(a,b,c,d){VE.call(this,a,b,c||ZE.aa(),d)};var aF=function(a,b,c,d){z.Rz.call(this,a,b,c||YE.aa(),d)};var bF=function(a,b,c,d,f){z.Rz.call(this,a,b,c,d,f||new Iz("listbox"));this.Cx=this.Za();this.Cz=null;this.$u("listbox")};var cF=function(a,b){a.Cx=b;dF(a)};
var eF=function(a,b){a.na=new DE;b&&z.ch(b,function(a){fF(a);this.na.Ha(a)},a);gF(a)};var gF=function(a){a.na&&a.o().g(a.na,"select",a.Yj)};var dF=function(a){var b=a.tf();a.ea(b?b.fh():a.Cx);var c=a.N.T(a.m());c&&a.K().isElement(c)&&(null==a.Cz&&(a.Cz=wo(c)),b=(b=b?b.m():null)?wo(b):a.Cz,z.jj(c,"label",b),hF(a))};
var hF=function(a){var b=a.N;if(b&&(b=b.T(a.m()))){var c=a.h;b.id||(b.id=z.Xg(z.Wg.aa()));z.ij(b,"option");z.jj(c,"activedescendant",b.id);a.na&&(c=a.na.lb(),z.jj(b,"setsize",iF(c)),a=a.na.Sj(),z.jj(b,"posinset",0<=a?iF(z.xb(c,0,a+1)):0))}};var iF=function(a){return fp(a,function(a){return a instanceof z.Fz})};var fF=function(a){a.$u(a instanceof z.Fz?"option":"separator")};var jF=function(a,b,c,d){bF.call(this,a,b,c||YE.aa(),d)};
var kF=function(a){var b=a.indexOf(",");a:for(a=(-1!=b?a.substring(0,b):a).toLowerCase(),b=0;2>b;b++){var c="\"'".charAt(b);if(a.charAt(0)==c&&a.charAt(a.length-1)==c){a=a.substring(1,a.length-1);break a}}return a};var lF=function(a,b){z.A(b,function(b){var d=b.value,f=kF(d);b=new z.KD(b.caption,d,a.K());Qn(b,f);a.Ha(b);b.T().style.fontFamily=d})};
var mF=function(a){z.A(nF,function(b){var c=b.value;b=new z.KD(b.caption,c,a.K());a.Ha(b);b=b.T();b.style.fontSize=(oF[c]||10)+"px";b.firstChild.style.height="1.1em"})};var pF=function(a){z.A(qF,function(b){var c=b.caption;b=b.Ba;var d=a.K(),c=new z.KD(d.B("DIV",null,c),b,d);Qn(c,b);a.Ha(c)})};z.rF=function(a,b,c,d,f,g){c=new z.OE(sF(c,d,g),f,g);Qn(c,a);c.Hd(b);return c};z.tF=function(a,b,c,d,f,g){a=z.rF(a,b,c,d,f,g);a.Yb(16,!0);return a};
var uF=function(a,b,c,d,f,g){f=new jF(null,null,f,g);d&&z.A(d.split(/\s+/),f.Yh,f);f.Yh("goog-toolbar-select");cF(f,c);Qn(f,a);f.Hd(b);return f};var vF=function(a,b,c,d,f,g){c=new $E(sF(c,d,g),null,f,g);Qn(c,a);c.Hd(b);return c};var sF=function(a,b,c){a&&""!=a||!z.C||z.F("1.9a")||(a=" ");return(c||z.He()).B("DIV",b?{"class":b}:null,a)};var wF=function(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in xF&&(c=xF[b]);c.length&&lF(a,c);lF(a,yF)};
var zF=function(a,b,c,d,f,g){var h=z.rF(a,b,c,d,f,g);h.fj=function(a){h.ab(a)};return h};var AF=function(a,b){var c=b;try{if(z.D)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c="#"+f.substring(4,6)+f.substring(2,4)+f.substring(0,2);c!=a.Y()&&a.Da(c)}catch(g){}};z.BF=function(a){z.SA.call(this);this.ga=new z.wd(this);this.eH=z.O("div",{style:"display:none"});this.h=this.xc=null;this.J={};z.Lb(this.J,this.defaults,a||{})};
var CF=function(a){a.dispatchEvent("willEnterFullScreen")&&(a.LF||(a.aS=window.history.length),a.LF=!0,DF(a,"writing"),a.gM=z.wf(z.He((z.u||window).document)),z.Ro(a.eH,a.J.Tk),a.xc.appendChild(a.J.Tk),z.W.add(window.document.body,a.J.no),a.Kb=z.N(a.J.LX,a.h),a.Kb.appendChild(a.Cq),EF(a),(0,z.$a)(z.pf(a.F.Ja))||a.F.hg(),a.dispatchEvent("enterFullScreen"))};
var FF=function(a){!z.Wj&&a.LF&&a.aS!==window.history.length?window.history.back():DF(a,"");a.Kb.removeChild(a.Cq);a.JK(!1);a.h.onscroll=null;a.ga.sa(window.document,"keydown",a.Ep);z.Ro(a.J.Tk,a.eH);z.W.remove(window.document.body,a.J.no);window.scrollTo(a.gM.x,a.gM.y);a.dispatchEvent("exitFullScreen")};var DF=function(a,b){a.ga.sa(window,"hashchange",a.iJ);window.location.hash=b||"";(0,window.setTimeout)((0,z.t)(function(){this.ga.g(window,"hashchange",this.iJ)},a))};
var EF=function(a){var b=a.h;b.scrollTop=0;var c=a.Kb.getBoundingClientRect().top;b.onscroll=z.jp((0,z.t)(a.JK,a),function(){return b.scrollTop>c});a.ga.g(window.document,"keydown",a.Ep)};z.GF=function(){this.my=["zg-btn-follow","zg-btn-unfollow"];this.ny="people"};z.Wk.prototype.fq=z.Hn(27,function(a){this.yj=a});z.Yj.prototype.eh=z.Hn(26,function(a,b){if(!this.h)return null;for(var c=b||"A",d=a;null!=d&&d!==this.h;){if(d.tagName===c)return d;d=d.parentNode}return null});
z.V.prototype.Lm=z.Hn(25,function(a){this.ll=a;this.xa&&z.Tj(this)});z.Cj.prototype.$u=z.Hn(22,function(a){this.Kp=a});z.Cj.prototype.Za=z.Hn(21,function(){return null!=this.xc?z.Ed(this.xc):""});z.pj.prototype.ab=z.Hn(20,function(a){this.jc=a});z.pj.prototype.JB=z.Hn(19,function(a){this.dz=Math.pow(a,2)});z.pj.prototype.ah=z.Hn(18,function(a){this.gj=a});z.R.prototype.Kh=z.Hn(17,function(a){if(this.xa)throw Error("Component already rendered");this.Cg=a});
z.R.prototype.Bd=z.Hn(16,function(){null==this.Cg&&(this.Cg=z.Ng(this.xa?this.h:this.ca.va().body));return this.Cg});z.rg.prototype.gh=z.Hn(15,function(){return new z.Ge(this.width,this.height)});z.rg.prototype.Gz=z.Hn(14,function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1});
z.Sf.prototype.lr=z.Hn(13,function(a,b,c){var d=(0,z.J)(),f=c?c:d,g=Dn(this.rs);g.ts=2;g.ss=f;g.type=b;g.LE=a;a=(a=this.NZ)&&a.isTracing()?a.totalVarAlloc:-1;g.qL=a;this.hx++;if(c){c=this.dg.length;for(a=0;a<c;a++)if(this.dg[a].ss>f){z.wb(this.dg,a,0,g);break}a==c&&this.dg.push(g)}else this.dg.push(g);if(f=g.type)g=this.Ok.get(f),g||(g=Dn(this.aC),g.type=f,this.Ok.set(f,g)),g.count++;this.vv+=(0,z.J)()-d});
z.Ie.prototype.pg=z.Hn(12,function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!An(a)||zn(a)):Fn(a))&&z.D?(a=z.qa(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a});z.R.prototype.Sp=z.Hn(11,function(a){for(var b=[];this.Yc&&0!=this.Yc.length;)b.push(this.removeChild(z.bh(this,0),a));return b});
z.Ie.prototype.Rl=z.Hn(10,function(a){return En(a||this.Pa)});z.Ie.prototype.ox=z.Hn(9,function(a,b,c){var d=this.Pa;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var k=d.createElement("TR"),l=0;l<b;l++){var p=d.createElement("TD");c&&z.nf(p," ");k.appendChild(p)}g.appendChild(k)}return f});z.Ie.prototype.jg=z.Hn(8,function(a,b){return z.N(a,b||this.Pa)});z.R.prototype.jg=z.Hn(7,function(a){return this.h?this.ca.jg(a,this.h):null});
z.Pd.prototype.li=z.Hn(6,function(a){for(var b=0;b<this.eb.length;b++){var c=this.eb[b];if(z.Td(this.Nb,c)&&this.Nb[c]==a)return!0}return!1});z.wh.prototype.li=z.Hn(5,function(a){var b=this.dd();return z.B(b,a)});z.dj.prototype.li=z.Hn(4,function(a){for(var b=z.ej(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1});z.Oc.prototype.iG=z.Hn(0,function(){return this.lc});z.y(z.Nn,z.I);z.e=z.Nn.prototype;z.e.h=null;z.e.ll=!0;z.e.cE=null;z.e.dE=null;z.e.kk=!1;z.e.VW=!1;z.e.Yz=-1;z.e.Vz=-1;
z.e.cH=!1;z.e.JP=!0;z.e.wb="toggle_display";z.e.Ci=function(){return this.wb};z.e.m=function(){return this.h};z.e.Ih=function(a){Cn(this);this.h=a};z.e.Lm=function(a){Cn(this);this.ll=a};z.e.KK=function(a,b){this.Um=a;this.hm=b};z.e.o=function(){return this.ga};z.e.X=function(){return this.kk};z.e.IH=function(){return this.kk||150>(0,z.J)()-this.Vz};z.e.G=function(a){this.Um&&this.Um.stop();this.hm&&this.hm.stop();a?this.SB():this.im()};z.e.ha=z.q;
z.e.SB=function(){if(!this.kk&&this.yp()){if(!this.h)throw Error("Caller must call setElement before trying to show the popup");this.ha();var a=z.Je(this.h);this.cH&&this.ga.g(a,"keydown",this.dU,!0);if(this.ll)if(this.ga.g(a,"mousedown",this.gJ,!0),z.D){var b;try{b=a.activeElement}catch(d){}for(;b&&"IFRAME"==b.nodeName;){try{var c=b.contentDocument||b.contentWindow.document}catch(d){break}a=c;b=a.activeElement}this.ga.g(a,"mousedown",this.gJ,!0);this.ga.g(a,"deactivate",this.eJ)}else this.ga.g(a,
"blur",this.eJ);"toggle_display"==this.wb?(this.h.style.visibility="visible",z.Q(this.h,!0)):"move_offscreen"==this.wb&&this.ha();this.kk=!0;this.Yz=(0,z.J)();this.Vz=-1;this.Um?(z.kd(this.Um,"end",this.Bk,!1,this),this.Um.play()):this.Bk()}};z.e.im=function(a){if(!this.kk||!this.dispatchEvent({type:"beforehide",target:a}))return!1;this.ga&&this.ga.removeAll();this.kk=!1;this.Vz=(0,z.J)();this.hm?(z.kd(this.hm,"end",z.Aa(this.UE,a),!1,this),this.hm.play()):this.UE(a);return!0};
z.e.UE=function(a){"toggle_display"==this.wb?this.VW?z.ud(this.dH,0,this):this.dH():"move_offscreen"==this.wb&&(this.h.style.top="-10000px");this.Ak(a)};z.e.dH=function(){this.h.style.visibility="hidden";z.Q(this.h,!1)};z.e.yp=function(){return this.dispatchEvent("beforeshow")};z.e.Bk=function(){this.dispatchEvent("show")};z.e.Ak=function(a){this.dispatchEvent({type:"hide",target:a})};z.e.gJ=function(a){a=a.target;z.mf(this.h,a)||Bn(this,a)||this.dE&&!z.mf(this.dE,a)||150>(0,z.J)()-this.Yz||this.im(a)};
z.e.dU=function(a){27==a.keyCode&&this.im(a.target)&&(a.preventDefault(),a.stopPropagation())};z.e.eJ=function(a){if(this.JP){var b=z.Je(this.h);if("undefined"!=typeof window.document.activeElement){if(a=b.activeElement,!a||z.mf(this.h,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>(0,z.J)()-this.Yz||this.im()}};z.e.D=function(){z.Nn.v.D.call(this);this.ga.H();z.Bc(this.Um);z.Bc(this.hm);delete this.h;delete this.ga;delete this.cE};
var fo=/&([^;\s<&]+);?/g,po={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},HF=/[^\d]+$/;mo.prototype.serialize=function(a){var b=[];no(this,a,b);return b.join("")};mo.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",f=0;f<c;f++)b.push(d),d=a[f],no(this,this.Lu?this.Lu.call(a,String(f),d):d,b),d=",";b.push("]")};z.e=Xo.prototype;z.e.ob=function(){return this.Nb.ob()};z.e.add=function(a){this.Nb.set(qo(a),a)};
z.e.addAll=function(a){a=z.Gd(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};z.e.removeAll=function(a){a=z.Gd(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};z.e.remove=function(a){return this.Nb.remove(qo(a))};z.e.clear=function(){this.Nb.clear()};z.e.nh=function(){return this.Nb.nh()};z.e.contains=function(a){return this.Nb.Zf(qo(a))};z.e.Gz=function(a){var b=new Xo;a=z.Gd(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};z.e.dd=function(){return this.Nb.dd()};
z.e.clone=function(){return new Xo(this)};z.e.equals=function(a){return this.ob()==so(a)&&Yo(this,a)};z.e.rd=function(){return this.Nb.rd(!1)};var Ap;z.y(z.Z,z.ce);var IF=/#.*$/,yp={"*":"*","text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},wp=[];z.Z.prototype.CQ=function(){if(this.PL){var a=zp();z.Q(a,!1)}xp(this)};
z.Z.prototype.ajax=function(a,b,c){a=(0,window.encodeURI)((0,window.decodeURI)(a));a=a.replace(IF,"");if(!this.da){if(this.PL){var d=zp();z.Q(d,!0)}c=c||"POST";"POST"===c.toUpperCase()&&(d=z.hj.get("_xsrf"))&&(b=(b?b+"\x26_xsrf\x3d":"_xsrf\x3d")+d);return this.send(a,c,b,this.headers)}};z.y(Bp,z.I);Bp.prototype.o=function(){return this.xf||(this.xf=new z.wd(this))};z.y(z.Dp,z.Kc);z.Ep=new Bp;z.I.prototype.on=function(){z.I.prototype.addEventListener.apply(this,arguments);return this};z.I.prototype.off=function(){z.I.prototype.removeEventListener.apply(this,arguments);return this};z.I.prototype.yb=z.I.prototype.dispatchEvent;z.y(Fp,z.I);Fp.prototype.nc=function(){var a=(0,z.t)(function(a){var c=this.Qr.section;(c=c&&c["home-topstory"])&&(c.content=a)},this);Lp(this).always((0,z.t)(function(b){this.Ab||(b&&b.bn&&b.bn.length&&a("这里是根据你关注的话题和人定制的内容精选"),this.J.xk(),Hp(this),Jp(this))},this));this.Ab||Kp()};z.y(Mp,z.I);z.e=Mp.prototype;z.e.h=null;z.e.yt=null;z.e.Pz=null;z.e.zt=null;z.e.se=-1;z.e.Hi=-1;z.e.xw=!1;
var JF={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},KF={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},LF=z.D||z.Fc||z.E&&z.F("525"),MF=z.Tc&&z.C;z.e=Mp.prototype;
z.e.uf=function(a){if(z.E||z.Fc)if(17==this.se&&!a.ctrlKey||18==this.se&&!a.altKey||z.Tc&&91==this.se&&!a.metaKey)this.Hi=this.se=-1;-1==this.se&&(a.ctrlKey&&17!=a.keyCode?this.se=17:a.altKey&&18!=a.keyCode?this.se=18:a.metaKey&&91!=a.keyCode&&(this.se=91));LF&&!uo(a.keyCode,this.se,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Hi=z.mj(a.keyCode),MF&&(this.xw=a.altKey))};z.e.iR=function(a){this.Hi=this.se=-1;this.xw=a.altKey};
z.e.handleEvent=function(a){var b=a.lc,c,d,f=b.altKey;z.D&&"keypress"==a.type?(c=this.Hi,d=13!=c&&27!=c?b.keyCode:0):(z.E||z.Fc)&&"keypress"==a.type?(c=this.Hi,d=0<=b.charCode&&63232>b.charCode&&z.go(c)?b.charCode:0):z.vg&&!z.E?(c=this.Hi,d=z.go(c)?b.keyCode:0):(c=b.keyCode||this.Hi,d=b.charCode||0,MF&&(f=this.xw),z.Tc&&63==d&&224==c&&(c=191));var g=c=z.mj(c),h=b.keyIdentifier;c?63232<=c&&c in JF?g=JF[c]:25==c&&a.shiftKey&&(g=9):h&&h in KF&&(g=KF[h]);a=g==this.se;this.se=g;b=new Np(g,d,a,b);b.altKey=
f;this.dispatchEvent(b)};z.e.m=function(){return this.h};z.e.attach=function(a,b){this.zt&&this.detach();this.h=a;this.yt=z.G(this.h,"keypress",this,b);this.Pz=z.G(this.h,"keydown",this.uf,b,this);this.zt=z.G(this.h,"keyup",this.iR,b,this)};z.e.detach=function(){this.yt&&(z.md(this.yt),z.md(this.Pz),z.md(this.zt),this.zt=this.Pz=this.yt=null);this.h=null;this.Hi=this.se=-1};z.e.D=function(){Mp.v.D.call(this);this.detach()};z.y(Np,z.Oc);var NF;z.ka(Op);var OF={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};z.e=Op.prototype;z.e.rf=function(){};z.e.B=function(a){return a.K().B("DIV",this.ig(a).join(" "),a.Za())};z.e.T=function(a){return a};z.e.Hj=function(a,b,c){if(a=a.m?a.m():a){var d=[b];z.D&&!z.F("7")&&(d=Sp(z.Di(a),b),d.push(b));(c?z.Gi:z.Ii)(a,d)}};z.e.Tb=function(){return!0};
z.e.w=function(a,b){b.id&&Qn(a,b.id);var c=this.T(b);c&&c.firstChild?a.Mm(c.firstChild.nextSibling?z.ub(c.childNodes):c.firstChild):a.Mm(null);var d=0,f=this.V(),g=this.V(),h=!1,k=!1,l=!1,p=z.ub(z.Di(b));z.A(p,function(a){h||a!=f?k||a!=g?d|=this.Ns(a):k=!0:(h=!0,g==f&&(k=!0));1==this.Ns(a)&&Fn(c)&&z.of(c,!1)},this);a.M=d;h||(p.push(f),g==f&&(k=!0));k||p.push(g);var r=a.qf;r&&p.push.apply(p,r);if(z.D&&!z.F("7")){var w=Sp(p);0<w.length&&(p.push.apply(p,w),l=!0)}if(!h||!k||r||l)b.className=p.join(" ");
return b};z.e.Re=function(a){a.Bd()&&this.Kh(a.m(),!0);a.isEnabled()&&this.Ze(a,a.X())};z.e.EB=function(a,b){z.jj(a,"label",b)};z.e.aq=function(a,b){z.Bo(a,!b,!z.D&&!z.vg)};z.e.Kh=function(a,b){this.Hj(a,this.V()+"-rtl",b)};z.e.pg=function(a){var b;return Rp(a,32)&&(b=a.dc())?Fn(b):!1};z.e.Ze=function(a,b){var c;if(Rp(a,32)&&(c=a.dc())){if(!b&&a.M&32){try{c.blur()}catch(d){}a.M&32&&a.ed(null)}Fn(c)!=b&&z.of(c,b)}};z.e.G=function(a,b){z.Q(a,b);a&&z.jj(a,"hidden",!b)};
z.e.sc=function(a,b,c){var d=a.m();if(d){var f=this.oo(b);f&&this.Hj(a,f,c);this.Jg(d,b,c)}};z.e.Jg=function(a,b,c){NF||(NF={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=NF[b];var d=a.getAttribute("role")||null;d&&(d=OF[d]||b,b="checked"==b||"selected"==b?d:b);b&&z.jj(a,b,c)};
z.e.ea=function(a,b){var c=this.T(a);if(c&&(z.af(c),b))if(z.oa(b))z.nf(c,b);else{var d=function(a){if(a){var b=z.Je(c);c.appendChild(z.oa(a)?b.createTextNode(a):a)}};z.ma(b)?z.A(b,d):!z.na(b)||"nodeType"in b?d(b):z.A(z.ub(b),d)}};z.e.dc=function(a){return a.m()};z.e.V=function(){return"goog-control"};
z.e.ig=function(a){var b=this.V(),c=[b],d=this.V();d!=b&&c.push(d);b=a.getState();for(d=[];b;){var f=b&-b;d.push(this.oo(f));b&=~f}c.push.apply(c,d);(a=a.qf)&&c.push.apply(c,a);z.D&&!z.F("7")&&c.push.apply(c,Sp(c));return c};z.e.oo=function(a){this.Kr||Tp(this);return this.Kr[a]};z.e.Ns=function(a){this.$K||(this.Kr||Tp(this),this.$K=z.bp(this.Kr));a=(0,window.parseInt)(this.$K[a],10);return(0,window.isNaN)(a)?0:a};z.y(z.Up,Op);z.ka(z.Up);z.e=z.Up.prototype;z.e.rf=function(){return"button"};z.e.Jg=function(a,b,c){switch(b){case 8:case 16:z.jj(a,"pressed",c);break;default:case 64:case 1:z.Up.v.Jg.call(this,a,b,c)}};z.e.B=function(a){var b=z.Up.v.B.call(this,a);this.Hd(b,a.Yl());var c=a.Y();c&&this.Da(b,c);Rp(a,16)&&this.Jg(b,16,a.og());return b};z.e.w=function(a,b){b=z.Up.v.w.call(this,a,b);var c=this.Y(b);a.ze=c;a.wC=this.Yl(b);Rp(a,16)&&this.Jg(b,16,a.og());return b};z.e.Y=z.q;z.e.Da=z.q;z.e.Yl=function(a){return a.title};
z.e.Hd=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};z.e.Xi=z.m(29);z.e.V=function(){return"goog-button"};var Yp={},Wp={};z.y(Xp,z.R);z.e=Xp.prototype;z.e.xc=null;z.e.M=0;z.e.vq=39;z.e.tj=255;z.e.Nk=0;z.e.xb=!0;z.e.qf=null;z.e.Vj=!0;z.e.rr=!1;z.e.Kp=null;z.e.hq=function(a){this.xa&&a!=this.Vj&&Zp(this,a);this.Vj=a};z.e.dc=function(){return this.N.dc(this)};z.e.Ks=function(){return this.Cb||(this.Cb=new Mp)};z.e.Yh=function(a){a&&(this.qf?z.B(this.qf,a)||this.qf.push(a):this.qf=[a],this.N.Hj(this,a,!0))};
z.e.Hj=function(a,b){b?this.Yh(a):a&&this.qf&&z.sb(this.qf,a)&&(0==this.qf.length&&(this.qf=null),this.N.Hj(this,a,!1))};z.e.B=function(){var a=this.N.B(this);this.h=a;Pp(this.N,a,this.Bi());this.rr||this.N.aq(a,!1);this.X()||this.N.G(a,!1)};z.e.Bi=function(){return this.Kp};z.e.$u=function(a){this.Kp=a};z.e.EB=function(a){this.ZD=a;var b=this.m();b&&this.N.EB(b,a)};z.e.T=function(){return this.N.T(this.m())};z.e.Tb=function(a){return this.N.Tb(a)};
z.e.W=function(a){this.h=a=this.N.w(this,a);Pp(this.N,a,this.Bi());this.rr||this.N.aq(a,!1);this.xb="none"!=a.style.display};z.e.C=function(){Xp.v.C.call(this);Qp(this.N,this,this.h);this.N.Re(this);if(this.vq&-2&&(this.Vj&&Zp(this,!0),Rp(this,32))){var a=this.dc();if(a){var b=this.Ks();b.attach(a);this.o().g(b,"key",this.ec).g(a,"focus",this.qe).g(a,"blur",this.ed)}}};z.e.zb=function(){Xp.v.zb.call(this);this.Cb&&this.Cb.detach();this.X()&&this.isEnabled()&&this.N.Ze(this,!1)};
z.e.D=function(){Xp.v.D.call(this);this.Cb&&(this.Cb.H(),delete this.Cb);delete this.N;this.Io=this.qf=this.xc=null};z.e.Za=function(){return this.xc};z.e.ea=function(a){this.N.ea(this.m(),a);this.Mm(a)};z.e.Mm=function(a){this.xc=a};z.e.fh=function(){var a=this.Za();if(!a)return"";a=z.oa(a)?a:z.ma(a)?z.mb(a,z.Ko).join(""):z.pf(a);return op(a)};z.e.bq=function(a){this.ea(a)};z.e.Kh=function(a){Xp.v.Kh.call(this,a);var b=this.m();b&&this.N.Kh(b,a)};
z.e.aq=function(a){this.rr=a;var b=this.m();b&&this.N.aq(b,a)};z.e.X=function(){return this.xb};z.e.G=function(a,b){if(b||this.xb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.m();c&&this.N.G(c,a);this.isEnabled()&&this.N.Ze(this,a);this.xb=a;return!0}return!1};z.e.isEnabled=function(){return!(this.M&1)};z.e.ab=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!bq(this,1,!a)||(a||(this.setActive(!1),this.Sc(!1)),this.X()&&this.N.Ze(this,a),this.sc(1,!a,!0))};
z.e.Sc=function(a){bq(this,2,a)&&this.sc(2,a)};z.e.Ac=function(){return!!(this.M&4)};z.e.setActive=function(a){bq(this,4,a)&&this.sc(4,a)};z.e.MB=function(a){bq(this,8,a)&&this.sc(8,a)};z.e.og=function(){return!!(this.M&16)};z.e.Cc=function(a){bq(this,16,a)&&this.sc(16,a)};z.e.Bb=function(){return!!(this.M&64)};z.e.Ib=function(a){bq(this,64,a)&&this.sc(64,a)};z.e.getState=function(){return this.M};
z.e.sc=function(a,b,c){c||1!=a?Rp(this,a)&&b!=!!(this.M&a)&&(this.N.sc(this,a,b),this.M=b?this.M|a:this.M&~a):this.ab(!b)};z.e.Yb=function(a,b){if(this.xa&&this.M&a&&!b)throw Error("Component already rendered");!b&&this.M&a&&this.sc(a,!1);this.vq=b?this.vq|a:this.vq&~a};z.e.yd=function(a){(!a.relatedTarget||!z.mf(this.m(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&aq(this,2)&&this.Sc(!0)};
z.e.bm=function(a){a.relatedTarget&&z.mf(this.m(),a.relatedTarget)||!this.dispatchEvent("leave")||(aq(this,4)&&this.setActive(!1),aq(this,2)&&this.Sc(!1))};z.e.Ao=z.q;z.e.re=function(a){this.isEnabled()&&(aq(this,2)&&this.Sc(!0),z.Sc(a)&&(aq(this,4)&&this.setActive(!0),this.N&&this.N.pg(this)&&this.dc().focus()));!this.rr&&z.Sc(a)&&a.preventDefault()};z.e.wf=function(a){this.isEnabled()&&(aq(this,2)&&this.Sc(!0),this.Ac()&&this.Wd(a)&&aq(this,4)&&this.setActive(!1))};
z.e.AG=function(a){this.isEnabled()&&this.Wd(a)};z.e.Wd=function(a){aq(this,16)&&this.Cc(!this.og());aq(this,8)&&this.MB(!0);aq(this,64)&&this.Ib(!this.Bb());var b=new z.Kc("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.$A=a.$A);return this.dispatchEvent(b)};z.e.qe=function(){aq(this,32)&&bq(this,32,!0)&&this.sc(32,!0)};z.e.ed=function(){aq(this,4)&&this.setActive(!1);aq(this,32)&&bq(this,32,!1)&&this.sc(32,!1)};
z.e.ec=function(a){return this.X()&&this.isEnabled()&&this.vf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};z.e.vf=function(a){return 13==a.keyCode&&this.Wd(a)};if(!z.qa(Xp))throw Error("Invalid component class "+Xp);if(!z.qa(Op))throw Error("Invalid renderer class "+Op);var PF=z.ta(Xp);Yp[PF]=Op;z.Vp("goog-control",function(){return new Xp(null)});z.y($p,z.wc);$p.prototype.$l=function(){this.Lr=!1};$p.prototype.Xs=function(){this.Lr=!0};
$p.prototype.Zl=function(a){if(this.Lr)this.Lr=!1;else{var b=a.lc,c=b.button,d=b.type;b.button=0;b.type="mousedown";this.Ur.re(new z.Oc(b,a.currentTarget));b.type="mouseup";this.Ur.wf(new z.Oc(b,a.currentTarget));b.button=c;b.type=d}};$p.prototype.D=function(){this.Ur=null;$p.v.D.call(this)};z.y(cq,z.Up);z.ka(cq);z.e=cq.prototype;z.e.rf=function(){};z.e.B=function(a){a.hq(!1);a.tj&=-256;a.Yb(32,!1);return a.K().B("BUTTON",{"class":this.ig(a).join(" "),disabled:!a.isEnabled(),title:a.Yl()||"",value:a.Y()||""},a.fh()||"")};z.e.Tb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};z.e.w=function(a,b){a.hq(!1);a.tj&=-256;a.Yb(32,!1);if(b.disabled){var c=this.oo(1);z.Fi(b,c)}return cq.v.w.call(this,a,b)};
z.e.Re=function(a){a.o().g(a.m(),"click",a.Wd)};z.e.aq=z.q;z.e.Kh=z.q;z.e.pg=function(a){return a.isEnabled()};z.e.Ze=z.q;z.e.sc=function(a,b,c){cq.v.sc.call(this,a,b,c);(a=a.m())&&1==b&&(a.disabled=c)};z.e.Y=function(a){return a.value};z.e.Da=function(a,b){a&&(a.value=b)};z.e.Jg=z.q;z.y(z.dq,Xp);z.e=z.dq.prototype;z.e.Y=function(){return this.ze};z.e.Da=function(a){this.ze=a;this.N.Da(this.m(),a)};z.e.Yl=function(){return this.wC};z.e.Hd=function(a){this.wC=a;this.N.Hd(this.m(),a)};z.e.Xi=z.m(28);z.e.D=function(){z.dq.v.D.call(this);delete this.ze;delete this.wC};z.e.C=function(){z.dq.v.C.call(this);if(Rp(this,32)){var a=this.dc();a&&this.o().g(a,"keyup",this.vf)}};z.e.vf=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Wd(a):32==a.keyCode};
z.Vp("goog-button",function(){return new z.dq(null)});z.y(eq,Op);z.ka(eq);eq.prototype.B=function(a){var b=a.K().B("SPAN",this.ig(a).join(" "));fq(this,b,a.ii);return b};eq.prototype.w=function(a,b){b=eq.v.w.call(this,a,b);var c=z.Di(b),d=kq;z.B(c,gq(this,iq))?d=iq:z.B(c,gq(this,jq))?d=jq:z.B(c,gq(this,kq))&&(d=kq);a.ii=d;z.jj(b,"checked",d==iq?"mixed":d==jq?"true":"false");return b};eq.prototype.rf=function(){return"checkbox"};eq.prototype.V=function(){return"goog-checkbox"};z.y(lq,Xp);var jq=!0,kq=!1,iq=null,hq={HY:jq,sZ:kq,uZ:iq};z.e=lq.prototype;z.e.Rb=null;z.e.og=function(){return this.ii==jq};z.e.Cc=function(a){a!=this.ii&&(this.ii=a,fq(this.N,this.m(),this.ii))};z.e.toggle=function(){this.Cc(this.ii?kq:jq)};
z.e.C=function(){lq.v.C.call(this);if(this.Vj){var a=this.o();this.Rb&&a.g(this.Rb,"click",this.Jy).g(this.Rb,"mouseover",this.yd).g(this.Rb,"mouseout",this.bm).g(this.Rb,"mousedown",this.re).g(this.Rb,"mouseup",this.wf);a.g(this.m(),"click",this.Jy)}a=this.h;if(this.Rb&&a!=this.Rb&&z.rp(wo(a))){if(!this.Rb.id){var b=this.Rb,c;c=this.oe()+".lbl";b.id=c}z.jj(a,"labelledby",this.Rb.id)}};z.e.ab=function(a){lq.v.ab.call(this,a);if(a=this.m())a.tabIndex=this.isEnabled()?0:-1};
z.e.Jy=function(a){a.stopPropagation();var b=this.ii?"uncheck":"check";this.isEnabled()&&!a.target.href&&this.dispatchEvent(b)&&(a.preventDefault(),this.toggle(),this.dispatchEvent("change"))};z.e.vf=function(a){32==a.keyCode&&(this.Wd(a),this.Jy(a));return!1};z.Vp("goog-checkbox",function(){return new lq});z.y(z.mq,z.Up);z.ka(z.mq);z.e=z.mq.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.ig(a).join(" ")},b=a.K().B("DIV",b,a.Za());this.Hd(b,a.Yl());return b};z.e.rf=function(){return"button"};z.e.Tb=function(a){return"DIV"==a.tagName};z.e.w=function(a,b){z.Fi(b,"goog-inline-block");return z.mq.v.w.call(this,a,b)};z.e.Y=function(){return""};z.e.V=function(){return"goog-flat-button"};z.Vp("goog-flat-button",function(){return new z.dq(null,z.mq.aa())});z.y(nq,z.mq);z.ka(nq);nq.prototype.V=function(){return"goog-link-button"};z.Vp("goog-link-button",function(){return new z.dq(null,nq.aa())});z.y(z.oq,z.I);z.e=z.oq.prototype;z.e.Vj=!0;z.e.D=function(){z.oq.v.D.call(this);z.Bc(this.VH);z.Bc(this.sA)};z.e.rf=function(){return"tab"};z.e.T=function(){return this.Il};z.e.expand=function(){this.Rc(!0)};z.e.collapse=function(){this.Rc(!1)};z.e.toggle=function(){this.Rc(!this.tb)};
z.e.Rc=function(a){this.Il?z.Q(this.Il,a):a&&this.Ft&&(this.Il=this.Ft());this.Il&&z.Fi(this.Il,"goog-zippy-content");this.Gj?(z.Q(this.bg,!a),z.Q(this.Gj,a)):this.bg&&(z.zo(this.bg,"goog-zippy-expanded",a),z.zo(this.bg,"goog-zippy-collapsed",!a),z.jj(this.bg,"expanded",a));this.tb=a;this.dispatchEvent(new rq("toggle",this,this.tb))};z.e.fd=function(){return this.tb};z.e.hq=function(a){this.Vj!=a&&((this.Vj=a)?(pq(this,this.bg),pq(this,this.Gj)):this.sA.removeAll())};
z.e.jU=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new z.Kc("action",this)),a.preventDefault(),a.stopPropagation()};z.e.iU=function(){this.toggle();this.dispatchEvent(new z.Kc("action",this))};z.y(rq,z.Kc);z.y(z.sq,z.V);z.e=z.sq.prototype;z.e.B=function(){z.sq.v.B.call(this);var a=(0,window.$)(".activate-dialog-template").html();this.ea(a)};z.e.C=function(){z.sq.v.C.call(this);z.Uj(this,420);this.Sa("激活帐号");this.Ga=(0,window.$)(this.wi()).addClass("activate-dialog");this.nc()};z.e.nc=function(){this.dD=(0,window.$)(".link-activate-view",this.Ga);this.VC=(0,window.$)(".code-activate-view",this.Ga);this.dD.length?tq(this):vq(this)};
z.e.KU=function(a){var b=this,c=(0,window.$)(a);a=c.we();var d=a.account,f=this.zf(d),g=f?"/settings/account/send_new_email_digits":"/settings/account/send_new_phone_digits";f?this.Db(a,"account","email"):this.Db(a,"account","phone_no");return window.$.post(g,a,function(a){a.success?(c.hide(),(0,window.$)('input[name\x3d"account"]',b.SC).val(d),b.SC.show(),xq(b,f)):(a=a.payload.fields,f?b.Db(a,"email","account"):b.Db(a,"phone_no","account"),c.data("validator").showErrors(a))})};
z.e.MT=function(a){var b=this,c=(0,window.$)(a);a=c.we();var d=this.zf(a.account),f=d?"/settings/account/update_email":"/settings/account/update_phone";d?this.Db(a,"account","email"):this.Db(a,"account","phone_no");return window.$.post(f,a,function(a){a.success?(b.ea("激活成功。你可以正常使用提问、回答、评论等功能啦！"),(0,window.setTimeout)(function(){window.location.reload()},1E3)):(a=a.payload.fields,d?b.Db(a,"email","account"):b.Db(a,"phone_no","account"),c.data("validator").showErrors(a))})};
z.e.Db=function(a,b,c){a[b]&&(a[c]=a[b],delete a[b])};z.e.zf=function(a){return!/^\+?[0-9]+$/.test(a)};var wq={onkeyup:!1,onfocusout:!1,validClass:"",focusInvalid:!1,highlight:z.q,messages:{account:{required:"请填写手机号或邮箱"},digits:{required:"请填写验证码"}},errorPlacement:function(a,b){var c=b.parent(".input-wrapper");a.appendTo(c).click(function(){b.focus()});b.focus(function(){a.remove()})}};z.n(zq,z.I);zq.prototype.D=function(){z.I.prototype.D.call(this);this.ov&&((0,window.clearTimeout)(this.ov),this.ov=null)};zq.prototype.vu=function(){if(!this.promise||"pending"!==this.promise.state()){var a=this.JN;this.promise=(window.$.support.cors?window.$.ajax(a):yq(a)).done(this.onMessage.bind(this)).fail(this.CA.bind(this))}};zq.prototype.onMessage=function(a){try{this.dispatchEvent({type:"message",data:a})}catch(b){}this.ov=(0,window.setTimeout)(this.vu.bind(this),this.vV)};
zq.prototype.CA=function(){this.dispatchEvent("error");this.Pu<this.yI&&(this.Pu=Math.min(this.Pu*this.hS,this.yI));this.ov=(0,window.setTimeout)(this.vu.bind(this),this.Pu)};var Aq={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:!0}};z.n(z.Bq,z.R);z.Bq.prototype.B=function(){this.h=z.O("div",{innerHTML:(0,window.$)(".unblock-dialog-template").html()})};z.Bq.prototype.C=function(){z.R.prototype.C.call(this);this.$k=(0,window.$)(".unblock-dialog-loading",this.h);this.YC=(0,window.$)(".unblock-dialog-error",this.h);this.fw=(0,window.$)(".unblock-dialog-view",this.h);Cq(this);this.qz();this.Bn();Jq(this)};z.Bq.prototype.qz=function(){this.Jc=new z.ek("antispam");this.Jc.w((0,window.$)(".unblock-dialog-captcha",this.h).get(0))};
z.Bq.prototype.Bn=function(){Dq(this);Hq(this);Iq(this)};z.n(Kq,z.V);Kq.prototype.B=function(){z.V.prototype.B.call(this);this.Sa("帐号解封");z.Mj(this,null);this.Ye(!0)};Kq.prototype.C=function(){var a=this;z.V.prototype.C.call(this);this.BC=new z.Bq(function(b){return a.Sa(b)},!0);z.zc(this,this.BC);this.BC.render(this.T());this.BC.g("complete",function(){return a.G(!1)})};z.y(Mq,z.I);var Nq=0;Mq.prototype.wg=function(){this.ud("begin")};Mq.prototype.xg=function(){this.ud("end")};Mq.prototype.ud=function(a){this.dispatchEvent(a)};z.y(Oq,z.wc);z.e=Oq.prototype;z.e.ub=0;z.e.D=function(){Oq.v.D.call(this);this.stop();delete this.nk;delete this.ga};z.e.start=function(a){this.stop();this.ub=z.ud(this.sl,z.ja(a)?a:this.mh)};z.e.stop=function(){this.Ac()&&z.vd(this.ub);this.ub=0};z.e.fire=function(){this.stop();this.Zg()};z.e.Ac=function(){return 0!=this.ub};z.e.Zg=function(){this.ub=0;this.nk&&this.nk.call(this.ga)};var Rq={},Sq=null;z.y(Wq,Mq);z.e=Wq.prototype;z.e.ah=function(a){this.gj=a};z.e.play=function(a){if(a||this.M==Nq)this.progress=0,this.coords=this.rq;else if(1==this.M)return!1;Qq(this);this.startTime=a=(0,z.J)();-1==this.M&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.progress||this.wg();this.ud("play");-1==this.M&&this.ud("resume");this.M=1;var b=z.ta(this);b in Rq||(Rq[b]=this);Tq();Vq(this,a);return!0};
z.e.stop=function(a){Qq(this);this.M=Nq;a&&(this.progress=1);Xq(this,this.progress);this.ud("stop");this.xg()};z.e.pause=function(){1==this.M&&(Qq(this),this.M=-1,this.ud("pause"))};z.e.D=function(){this.M==Nq||this.stop(!1);this.ud("destroy");Wq.v.D.call(this)};z.e.destroy=function(){this.H()};z.e.yA=function(){this.ud("animate")};z.e.ud=function(a){this.dispatchEvent(new Yq(a,this))};z.y(Yq,z.Kc);var dr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var er=/#(.)(.)(.)/,$q=/^#(?:[0-9a-f]{3}){1,2}$/i,fr=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;z.y(gr,Wq);z.e=gr.prototype;z.e.Rh=z.q;z.e.Bd=function(){z.ja(this.Cg)||(this.Cg=z.Ng(this.element));return this.Cg};z.e.yA=function(){this.Rh();gr.v.yA.call(this)};z.e.xg=function(){this.Rh();gr.v.xg.call(this)};z.e.wg=function(){this.Rh();gr.v.wg.call(this)};z.y(hr,gr);hr.prototype.Rh=function(){var a=this.gj&&this.Bd()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};z.y(ir,gr);
ir.prototype.Rh=function(){if(this.gj){var a=this.element,b=Math.round(this.coords[0]),b=Math.max(b,0);z.Ng(a)?z.C?a.scrollLeft=-b:z.Kl&&z.F("8")?a.scrollLeft=b:a.scrollLeft=a.scrollWidth-b-a.clientWidth:a.scrollLeft=b}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};z.y(jr,gr);jr.prototype.Rh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};z.y(kr,gr);
kr.prototype.Rh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};z.y(lr,gr);var QF=1/1024,mr=-1;z.e=lr.prototype;z.e.Rh=function(){var a=this.coords[0];Math.abs(a-this.Dt)>=QF&&(z.Kg(this.element,a),this.Dt=a)};z.e.wg=function(){this.Dt=mr;lr.v.wg.call(this)};z.e.xg=function(){this.Dt=mr;lr.v.xg.call(this)};z.e.show=function(){this.element.style.display=""};z.e.hide=function(){this.element.style.display="none"};z.y(nr,lr);nr.prototype.wg=function(){this.show();nr.v.wg.call(this)};
nr.prototype.xg=function(){this.hide();nr.v.xg.call(this)};z.y(or,lr);or.prototype.wg=function(){this.show();or.v.wg.call(this)};z.y(pr,gr);pr.prototype.Rh=function(){for(var a=[],b=0;b<this.coords.length;b++)a[b]=Math.round(this.coords[b]);this.element.style.backgroundColor="rgb("+a.join(",")+")"};var RF={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},Br;a:{var SF=function(a,b){return b in window.document},TF;for(TF in RF)if(SF.call(void 0,0,TF)){Br=TF;break a}Br=void 0}var Cr=RF[Br],Ar=z.ja(Br);z.Nr=function(a){return function(b){return b.replace(a,"")}}(/^⁠+|⁠+$/);z.Hr.prototype.add=function(a,b){!1===this.LS?this.data.set(a,b):this.data.set((0,window.encodeURIComponent)(a),(0,window.encodeURIComponent)(b))};z.Hr.prototype.pe=function(){var a=[];z.A(this.data.wd(),function(b){a.push(b+"\x3d"+this.data.get(b))},this);return a.join("\x26")};
z.ew=function(){function a(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")}var b={vX:{evaluate:/<%([\s\S]+?)%>/g,ES:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(a){return(""+a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#x27;").replace(/\//g,"\x26#x2F;")}},c=/.^/;return function(d,f){var g=b.vX,g="var __p\x3d[],print\x3dfunction(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+d.replace(/\\/g,
"\\\\").replace(/'/g,"\\'").replace(g.escape||c,function(b,c){return"',_.escape("+a(c)+"),'"}).replace(g.ES||c,function(b,c){return"',"+a(c)+",'"}).replace(g.evaluate||c,function(b,c){return"');"+a(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",h=new Function("data","_",g);return f?h(f,b):function(a){return h.call(this,a,b)}}}();z.Or.defaults={paddingTop:0};var Qr={offsetTop:0,paddingTop:0,Aw:!1};
(0,window.$)(function(){Qr.paddingTop=z.Qg(window.document.body).top});z.UF=z.Rj(function(){return(+new Date).toString(32).slice(-5)+Math.random().toString(32).slice(-3)});z.y(z.Ur,z.Yj);z.Ur.prototype.GL=function(){return Vr(this)};z.ka(Xr);z.e=Xr.prototype;z.e.rf=function(){return this.Ew};z.e.B=function(a){return a.K().B("DIV",this.ig(a).join(" "))};z.e.T=function(a){return a};z.e.Tb=function(a){return"DIV"==a.tagName};z.e.w=function(a,b){b.id&&Qn(a,b.id);var c=this.V(),d=!1,f=z.Di(b);f&&z.A(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.ab(!1):b==c+"-horizontal"?a.setOrientation(z.VF):b==c+"-vertical"&&a.setOrientation(Lz))},this);d||z.Fi(b,c);Zr(this,a,this.T(b));return b};
z.e.po=function(a){a:{var b;a=z.Di(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in Wp?Wp[b]():null){a=b;break a}a=null}return a};z.e.Re=function(a){a=a.m();z.Bo(a,!0,z.C);z.D&&(a.hideFocus=!0);var b=this.rf();b&&z.ij(a,b)};z.e.dc=function(a){return a.m()};z.e.V=function(){return"goog-container"};z.e.ig=function(a){var b=this.V(),c=[b,a.Sb==z.VF?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};z.e.lG=function(){return Lz};var Lz;z.y(z.$r,z.R);z.VF="horizontal";Lz="vertical";z.e=z.$r.prototype;z.e.Qz=null;z.e.Cb=null;z.e.N=null;z.e.Sb=null;z.e.xb=!0;z.e.jc=!0;z.e.ky=!0;z.e.Xa=-1;z.e.qc=null;z.e.Df=!1;z.e.LN=!1;z.e.aV=!0;z.e.Tg=null;z.e.dc=function(){return this.Qz||this.N.dc(this)};z.e.Ks=function(){return this.Cb||(this.Cb=new Mp(this.dc()))};z.e.B=function(){this.h=this.N.B(this)};z.e.T=function(){return this.N.T(this.m())};z.e.Tb=function(a){return this.N.Tb(a)};
z.e.W=function(a){this.h=this.N.w(this,a);"none"==a.style.display&&(this.xb=!1)};z.e.C=function(){z.$r.v.C.call(this);z.ch(this,function(a){a.xa&&bs(this,a)},this);var a=this.m();this.N.Re(this);this.G(this.xb,!0);this.o().g(this,"enter",this.Ny).g(this,"highlight",this.Qy).g(this,"unhighlight",this.Zy).g(this,"open",this.sR).g(this,"close",this.Ky).g(a,"mousedown",this.re).g(z.Je(a),"mouseup",this.HQ).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.AQ);this.pg()&&as(this,!0)};
z.e.zb=function(){this.Eb(-1);this.qc&&this.qc.Ib(!1);this.Df=!1;z.$r.v.zb.call(this)};z.e.D=function(){z.$r.v.D.call(this);this.Cb&&(this.Cb.H(),this.Cb=null);this.N=this.qc=this.Tg=this.Qz=null};z.e.Ny=function(){return!0};z.e.Qy=function(a){var b=Pn(this,a.target);if(-1<b&&b!=this.Xa){var c=cs(this);c&&c.Sc(!1);this.Xa=b;c=cs(this);this.Df&&c.setActive(!0);this.aV&&this.qc&&c!=this.qc&&(Rp(c,64)?c.Ib(!0):this.qc.Ib(!1))}b=this.m();null!=a.target.m()&&z.jj(b,"activedescendant",a.target.m().id)};
z.e.Zy=function(a){a.target==cs(this)&&(this.Xa=-1);this.m().removeAttribute("aria-activedescendant")};z.e.sR=function(a){(a=a.target)&&a!=this.qc&&a.getParent()==this&&(this.qc&&this.qc.Ib(!1),this.qc=a)};z.e.Ky=function(a){a.target==this.qc&&(this.qc=null);var b=this.m(),c=a.target.m();b&&a.target.M&2&&c&&xo(b,c)};z.e.re=function(a){this.jc&&(this.Df=!0);var b=this.dc();b&&Fn(b)?b.focus():a.preventDefault()};z.e.HQ=function(){this.Df=!1};
z.e.AQ=function(a){var b;a:{b=a.target;if(this.Tg)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.Tg){b=this.Tg[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.re(a);break;case "mouseup":b.wf(a);break;case "mouseover":b.yd(a);break;case "mouseout":b.bm(a);break;case "contextmenu":b.Ao(a)}};z.e.qe=function(){};z.e.ed=function(){this.Eb(-1);this.Df=!1;this.qc&&this.qc.Ib(!1)};
z.e.ec=function(a){return this.isEnabled()&&this.X()&&(0!=z.ah(this)||this.Qz)&&this.vf(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
z.e.vf=function(a){var b=cs(this);if(b&&"function"==typeof b.ec&&b.ec(a)||this.qc&&this.qc!=b&&"function"==typeof this.qc.ec&&this.qc.ec(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.pg())this.dc().blur();else return!1;break;case 36:z.ds(this);break;case 35:fs(this);break;case 38:if(this.Sb==Lz)hs(this);else return!1;break;case 37:if(this.Sb==z.VF)this.Bd()?gs(this):hs(this);else return!1;break;case 40:if(this.Sb==Lz)gs(this);else return!1;break;
case 39:if(this.Sb==z.VF)this.Bd()?hs(this):gs(this);else return!1;break;default:return!1}return!0};z.e.L=function(a,b){z.$r.v.L.call(this,a,b)};z.e.fl=function(a,b,c){a.Nk|=2;a.Nk|=64;!this.pg()&&this.LN||a.Yb(32,!1);a.hq(!1);var d=a.getParent()==this?Pn(this,a):-1;z.$r.v.fl.call(this,a,b,c);a.xa&&this.xa&&bs(this,a);a=d;-1==a&&(a=z.ah(this));a==this.Xa?this.Xa=Math.min(z.ah(this)-1,b):a>this.Xa&&b<=this.Xa?this.Xa++:a<this.Xa&&b>this.Xa&&this.Xa--};
z.e.removeChild=function(a,b){if(a=z.oa(a)?z.$g(this,a):a){var c=Pn(this,a);-1!=c&&(c==this.Xa?(a.Sc(!1),this.Xa=-1):c<this.Xa&&this.Xa--);(c=a.m())&&c.id&&this.Tg&&z.Jb(this.Tg,c.id)}a=z.$r.v.removeChild.call(this,a,b);a.hq(!0);return a};z.e.setOrientation=function(a){if(this.m())throw Error("Component already rendered");this.Sb=a};z.e.X=function(){return this.xb};
z.e.G=function(a,b){if(b||this.xb!=a&&this.dispatchEvent(a?"show":"hide")){this.xb=a;var c=this.m();c&&(z.Q(c,a),this.pg()&&Yr(this.dc(),this.jc&&this.xb),b||this.dispatchEvent(this.xb?"aftershow":"afterhide"));return!0}return!1};z.e.isEnabled=function(){return this.jc};
z.e.ab=function(a){this.jc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.jc=!0,z.ch(this,function(a){a.cM?delete a.cM:a.ab(!0)})):(z.ch(this,function(a){a.isEnabled()?a.ab(!1):a.cM=!0}),this.Df=this.jc=!1),this.pg()&&Yr(this.dc(),a&&this.xb))};z.e.pg=function(){return this.ky};z.e.Ze=function(a){a!=this.ky&&this.xa&&as(this,a);this.ky=a;this.jc&&this.xb&&Yr(this.dc(),a)};z.e.Eb=function(a){(a=z.bh(this,a))?a.Sc(!0):-1<this.Xa&&cs(this).Sc(!1)};z.e.Sc=function(a){this.Eb(Pn(this,a))};
z.e.uE=function(a){return a.X()&&a.isEnabled()&&Rp(a,2)};z.y(is,z.R);is.prototype.Ha=function(a){this.Jv.push(a);a.Jb(this)};is.prototype.C=function(){is.v.C.call(this);this.o().g(this,"toggle",this.IR)};is.prototype.IR=function(a){z.A(this.Jv,function(b){a.target!==b&&b.fd()&&b.Rc(!1,!0)},this)};is.prototype.D=function(){is.v.D.call(this);z.A(this.Jv,function(a){a.H()},this);this.Jv=[]};z.js.prototype.Ri=function(a,b,c){if(this.LC){var d=this.Ma,f=ks(a,b,d);0==f.length&&(f=ls(a,b,d));b=f}else b=ks(a,b,this.Ma);c(a,b)};var ns,ps;z.y(z.ms,z.I);z.e=z.ms.prototype;z.e.qk=10;z.e.yn=!0;z.e.QD=!1;z.e.iM=!1;z.e.xL=!1;ns="hilite";z.os="select";z.qs="dismiss";ps="canceldismiss";z.e=z.ms.prototype;z.e.getToken=function(){return this.bc};z.e.handleEvent=function(a){var b=this.Td;if(a.target==this.N)switch(a.type){case ns:this.ng(a.Si);break;case z.os:var c=!1;if(z.pa(a.Si)){a=a.Si;var d=this.Ma[us(this,a)],c=!!d&&b.Oz&&b.Oz(d);d&&!c&&this.kh!=a&&this.ng(a)}c||this.Vi();break;case ps:z.ts(this);break;case z.qs:this.Aj()}};
z.e.av=function(a,b){this.bc!=a&&(this.bc=a,this.Td.Ri(this.bc,this.qk,(0,z.t)(this.qT,this),b),z.ts(this))};z.e.Ey=function(){return this.Fc};z.e.Bb=function(){return this.N.X()};z.e.ng=function(a){var b=us(this,a),c=this.Ma[b];return c&&this.Td.Oz&&this.Td.Oz(c)?!1:(this.kh=a,this.N.ng(a),-1!=b)};
z.e.Vi=function(){var a=us(this,this.kh);if(-1!=a){var b=this.Ma[a],c=this.Mf.Wi(b);this.xL?(this.bc=null,this.Aj()):this.Kc();c||(this.dispatchEvent({type:"update",Si:b,index:a}),this.xL&&this.Mf.update(!0));return!0}this.Kc();this.dispatchEvent({type:"update",Si:null,index:null});return!1};z.e.Kc=function(){this.kh=-1;this.bc=null;this.bd+=this.Ma.length;this.Ma=[];window.clearTimeout(this.ge);this.ge=null;this.N.Kc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(z.qs)};
z.e.Aj=function(){this.ge||(this.ge=window.setTimeout((0,z.t)(this.Kc,this),100))};z.e.lH=function(){return this.ge?(window.clearTimeout(this.ge),this.ge=null,!0):!1};z.e.D=function(){z.ms.v.D.call(this);delete this.vH;this.N.H();this.Mf.H();this.Td=null};z.e.qT=function(a,b,c){this.bc==a&&this.Im(b,c)};
z.e.Im=function(a,b){var c="object"==z.la(b)&&b,d=(c?c.RZ():b)?us(this,this.kh):-1;this.bd+=this.Ma.length;this.Ma=a;for(var f=[],g=0;g<a.length;++g)f.push({id:this.bd+g,data:a[g]});g=null;this.Fc&&(g=this.vH[z.ta(this.Fc)]||this.Fc);this.N.SD=g;this.N.Im(f,this.bc,this.Fc);g=this.yn;c&&void 0!==c.fQ()&&(g=c.fQ());this.kh=-1;(g||0<=d)&&0!=f.length&&this.bc&&(0<=d?this.ng(this.bd+d):z.rs(this));this.dispatchEvent("suggestionsupdate")};z.e.jl=function(a){var b=this.Mf;b.jl.apply(b,arguments)};
z.e.update=function(a){this.Mf.update(a)};z.y(z.As,z.wc);var WF=(z.aj||z.Wj)&&!z.F("533.17.9");z.e=z.As.prototype;z.e.rY=!0;z.e.dQ=!0;z.e.JL=!1;z.e.QW=!0;z.e.PW=!0;z.e.nw=null;z.e.ib=null;z.e.hp="";z.e.ij=!1;z.e.wB=!1;z.e.FL=!0;z.e.Gs=function(){return this.ba};z.e.Rl=function(){return this.ib};z.e.Y=function(){return this.ib.value};z.e.Da=function(a){this.ib.value=a};
z.e.xr=function(a){z.kf(a)&&(z.ij(a,"combobox"),z.jj(a,"autocomplete","list"));this.ic.g(a,"focus",this.qe);this.ic.g(a,"blur",this.ed);this.ib||(this.kw.g(a,"keydown",this.lU),z.kf(a)&&En(z.Je(a))==a&&Gs(this,a))};z.e.jl=function(a){for(var b=0;b<arguments.length;b++)this.xr(arguments[b])};z.e.Wi=function(a,b){this.ib&&Bs(this,a.toString(),b);return!1};z.e.D=function(){z.As.v.D.call(this);null!=this.nw&&window.clearTimeout(this.nw);this.ic.H();delete this.ic;this.kw.H();this.Cb.H();z.Bc(this.la)};
z.e.ec=function(a){switch(a.keyCode){case 40:if(this.ba.Bb())return this.JL?ss(this.ba):z.rs(this.ba),a.preventDefault(),!0;if(!this.um)return this.update(!0),a.preventDefault(),!0;break;case 38:if(this.ba.Bb())return this.JL?z.rs(this.ba):ss(this.ba),a.preventDefault(),!0;break;case 9:if(!this.ba.Bb()||a.shiftKey||this.FV)this.ba.Kc();else if(this.update(),this.ba.Vi()&&this.EV)return a.preventDefault(),!0;break;case 13:if(this.ba.Bb()){if(this.update(),this.ba.Vi())return a.preventDefault(),a.stopPropagation(),
!0}else this.ba.Kc();break;case 27:if(this.ba.Bb())return this.ba.Kc(),a.preventDefault(),a.stopPropagation(),!0;break;case 229:if(!this.ij)return this.ij||(this.ic.g(this.ib,"keyup",this.mJ),this.ic.g(this.ib,"keypress",this.lJ),this.ij=!0),!0;break;default:this.la&&!this.FL&&(this.la.stop(),this.la.start())}return Es(this,a)};z.e.Us=function(){return!1};z.e.qe=function(a){Gs(this,a.target||null)};z.e.ed=function(){WF?this.nw=window.setTimeout((0,z.t)(this.TJ,this),0):this.TJ()};
z.e.TJ=function(){this.ib&&(this.ic.sa(this.Cb,"key",this.Fp),this.Cb.detach(),this.ic.sa(this.ib,"keyup",this.Us),this.ic.sa(this.ib,"mousedown",this.nJ),z.D&&this.ic.sa(this.ib,"keypress",this.kJ),this.ij&&Hs(this),this.ib=null,this.la&&(this.la.stop(),this.ic.sa(this.la,"tick",this.Ip)),this.ba&&this.ba.Aj())};z.e.Ip=function(){this.update()};z.e.lU=function(a){this.qe(a)};z.e.Fp=function(a){this.bI=a.keyCode;this.ba&&this.ec(a)};z.e.lJ=function(){this.ij&&229!=this.bI&&Hs(this)};
z.e.mJ=function(a){this.ij&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Hs(this)};z.e.nJ=function(a){this.ba&&this.re(a)};z.e.re=function(){};z.e.kJ=function(a){Es(this,a)};z.e.update=function(a){if(this.ib&&(a||this.Y()!=this.hp)){if(a||!this.wB){a=z.vs(this.ib)[0];var b=this.Y();a=Ds(this,b)[Cs(this,b,a)];a=this.yL?String(a).replace(this.yL,""):a;this.ba&&(this.ba.Fc=this.ib,this.ba.av(a,this.Y()))}this.hp=this.Y()}this.wB=!1};z.y(z.Is,z.wc);z.e=z.Is.prototype;z.e.FI="GET";z.e.xc=void 0;z.e.WR=null;z.e.Xz=null;z.e.LB=function(a){this.FI=a};z.e.ea=function(a){this.xc=a};z.e.wY=function(a,b,c){c=z.re(c.target);var d=[];if(c)try{d=Wo(c)}catch(f){}b(a,d)};
z.e.Ri=function(a,b,c){var d,f=this.LC;d=new z.qh(this.GC);z.sh(d);d.ve.set("token",a);b=String(b);z.sh(d);d.ve.set("max_matches",b);f=String(Number(f));z.sh(d);d.ve.set("use_similar",f);if(d=d.toString())a=(0,z.t)(this.wY,this,a,c),this.da.Ac()&&this.da.abort(),this.Xz&&z.md(this.Xz),this.Xz=z.kd(this.da,"success",a),this.da.send(d,this.FI,this.xc,this.WR)};z.e.D=function(){this.da.H();z.Is.v.D.call(this)};z.y(z.Ns,z.I);z.e=z.Ns.prototype;z.e.m=function(){return this.h};z.e.Eg=function(a){this.QL=a};z.e.Fs=function(){return this.SD};z.e.Im=function(a,b,c){this.bc=b;this.Ma=a;this.jm=-1;this.YK=(0,z.J)();this.Fc=c;this.Kf=[];Rs(this)};z.e.Kc=function(){this.xb&&(this.xb=!1,Os(this,!1),0<this.sp?(z.Bc(this.hl),this.hl=new nr(this.h,this.sp),this.hl.play()):z.Q(this.h,!1))};
z.e.show=function(){this.xb||(this.xb=!0,Os(this,!0),0<this.sp?(z.Bc(this.hl),this.hl=new or(this.h,this.sp),this.hl.play()):z.Q(this.h,!0))};z.e.X=function(){return this.xb};z.e.ng=function(a){if(-1==a)Ps(this,-1);else for(var b=0;b<this.Ma.length;b++)if(this.Ma[b].id==a){Ps(this,b);break}};
z.e.ha=function(){if(this.Fc&&this.Tp){var a=this.SD||this.Fc,b;b=this.pW?3:1;this.uv&&(b^=1);var c=65;this.TK&&(this.h.style.height="",c|=32);z.Js(a,b,this.h,b^1,null,null,c);this.uv&&(this.h.style.visibility="visible")}};z.e.Ey=function(){return this.Fc||null};z.e.D=function(){this.h&&(z.ld(this.h,"click",this.Zl,!1,this),z.ld(this.h,"mousedown",this.$l,!1,this),z.ld(this.h,"mouseover",this.IG,!1,this),this.ca.removeNode(this.h),this.h=null,this.xb=!1);z.Bc(this.hl);this.Wa=null;z.Ns.v.D.call(this)};
z.e.kK=function(a,b,c){z.nf(c,a.data.toString())};z.e.Zl=function(a){var b=Vs(this,a.target);0<=b&&this.dispatchEvent({type:z.os,Si:this.Ma[b].id});a.stopPropagation()};z.e.$l=function(a){a.stopPropagation();a.preventDefault()};z.e.IG=function(a){a=Vs(this,a.target);0<=a&&!(300>(0,z.J)()-this.YK)&&this.dispatchEvent({type:ns,Si:this.Ma[a].id})};z.y(z.Ws,z.ms);z.Ws.prototype.Eg=function(a){this.N.Eg(a)};z.Ws.prototype.LB=function(a){this.Td.LB(a)};z.Ws.prototype.ea=function(a){this.Td.ea(a)};z.y(z.Xs,z.Ws);z.Xs.prototype.defaults={source:"",ue:10,kY:!1,filter:null,format:null,Ez:null,delay:300,separator:null,oP:null,multiple:!1,Pi:null,g_:null,placeholder:"",kd:null,render:null};z.Xs.prototype.defaults.format=function(a){return function(b,c){return(0,z.$a)(c)&&z.ma(b)?z.ma(b[0])?z.mb(b[0].slice(1),a,this):b:[]}}(function(a){var b;return(b=XF[this.J.source])||(b=XF[YF][a[0]])?b(a):a});var YF="/autocomplete",XF={};
XF[YF]={topic:function(a){return{type:a[0],name:a[1],url_token:a[2],avatar:a[3],id:a[4],answers:a[6],alias:a[7],raw:a,value:a[4],label:a[1]}},question:function(a){return{type:a[0],title:a[1],id:a[2],url_token:a[3],answers:a[4],is_star:!!a[5],raw:a,label:a[1],value:a[2]}},people:function(a){return{type:a[0],fullname:a[1],url_token:a[2],avatar:a[3],id:a[4],headline:a[5],raw:a,label:a[1],value:a[4]}},search_link:function(a){return{type:a[0],raw:a,label:a[1],value:a[1]}}};
XF["/topic/autocomplete"]=function(a){return{type:a[0],name:a[1],url_token:a[2],avatar:a[3],id:a[4],followers:a[5],alias:a[6],label:a[1]}};XF["/question/autocomplete"]=function(a){return{type:a[0],title:a[1],id:a[2],url_token:a[3],is_duplicated:Boolean(+a[4]),answer_count:a[5],raw:a,label:a[1],value:a[2]}};z.y(Ys,z.As);Ys.prototype.ed=z.q;Ys.prototype.ec=z.q;Ys.prototype.Wi=function(){return!1};z.y(z.Zs,z.I);z.e=z.Zs.prototype;z.e.JB=function(a){this.gH=a};z.e.GK=z.m(30);z.e.init=function(){if(!this.FH){for(var a=0,b=this.$c.length;a<b;a++)for(var c=z.ff(this.$c[a]),d=0,f=c.length;d<f;++d){var g=c[d],h=g,k=z.ta(h);this.Kx[k]=g;this.Lx&&(this.U.g(g,"mouseover",this.OQ),this.U.g(g,"mouseout",this.NQ));this.CF&&(this.U.g(h,"mouseover",this.MQ),this.U.g(h,"mouseout",this.LQ));this.Fl.push(g);this.U.g(h,["mousedown","touchstart"],this.xR)}this.FH=!0}};
z.e.D=function(){this.U.H();for(var a=0,b=this.$c.length;a<b;a++){var c=this.$c[a];c.AF=void 0;c.Bj=void 0}this.$c.length=0;this.Fl.length=0;this.Kx=null;bt(this);z.Zs.v.D.call(this)};
z.e.xR=function(a){var b=z.ta(a.currentTarget);this.Oa=this.Kx[b];a:{for(var b=this.Oa,c=b.cloneNode(!0),d=b.getElementsByTagName("TEXTAREA"),f=c.getElementsByTagName("TEXTAREA"),g=0;g<d.length;g++)f[g].value=d[g].value;switch(b.tagName){case "TR":b=z.O("TABLE",null,z.O("TBODY",null,c));break a;case "TD":case "TH":b=z.O("TABLE",null,z.O("TBODY",null,z.O("TR",null,c)));break a;case "TEXTAREA":c.value=b.value;default:b=c}}this.Lc=b;this.ns&&z.Gi(this.Lc,this.ns||[]);this.Lc.style.margin="0";this.Lc.style.position=
"absolute";this.Lc.style.visibility="hidden";z.Je(this.Oa).body.appendChild(this.Lc);b=z.Yn(this.Oa);Do(this.Lc,b);this.Ob=new z.pj(this.Lc);this.Ob.JB(this.gH);z.G(this.Ob,"start",this.My,!1,this);z.G(this.Ob,"end",this.JQ,!1,this);z.G(this.Ob,"earlycancel",this.cx,!1,this);this.Ob.Xm(a)};
z.e.My=function(a){if(this.dispatchEvent(new jt("beforedragstart",0,a.rE,this.Oa,0,null))){this.ou=this.Oa.parentNode;this.aF=this.NA=Qo(this.Oa);this.tx=this.ou;this.sx?z.Gi(this.Oa,this.sx||[]):this.Oa.style.visibility="hidden";var b=z.Ig(this.Lc);this.Lc.qQ=b.width/2;this.Lc.pQ=b.height/2;this.Lc.style.visibility="";this.EC&&(this.Oa.style.display="none");at(this,this.Oa);this.Oa.style.display="";z.G(this.Ob,"drag",this.PQ,!1,this);this.dispatchEvent(new jt("dragstart",0,a.rE,this.Oa,0,this.Ob))}else a.preventDefault(),
this.cx()};
z.e.PQ=function(a){var b=z.Yn(this.Lc),b=new z.Fe(b.x+this.Lc.qQ,b.y+this.Lc.pQ),c;a:{c=null;if("none"!=this.Oa.style.display){c=this.Oa.parentNode;var d=Co(c);if(ct(b,d))break a}for(var d=0,f=this.$c.length;d<f;d++){var g=this.$c[d];if(g!=c&&ct(b,g.El)){c=g;break a}}c=null}var h;if(c){if(null==c)throw Error("getHoverNextItem_ called with null hoverList.");var k,l,d=!1,f=void 0;switch(c.AF){case 0:h=b.y;k=et;l=ht;break;case 4:d=!0;case 2:h=b.x;k=ft;l=ht;break;case 5:d=!0;case 3:h=b.x,k=gt,l=it}for(var g=
null,p,r=z.ff(c),w=0,H=r.length;w<H;w++){var K=r[w];if(K!=this.Oa){var M=k(K.El);if(d){var ea=dt(K,b);z.ja(f)||(f=ea);l(h,M)&&(void 0==p||ea<f||ea==f&&(l(M,p)||M==p))&&(g=K,p=M);ea<f&&(f=ea)}else l(h,M)&&(void 0==p||l(M,p))&&(g=K,p=M)}}h=null!==g&&dt(g,b)>f?null:g}else h=null;if(!this.dispatchEvent(new jt("beforedragmove",0,a,this.Oa,0,this.Ob)))return!1;if(c)this.EC?this.Oa.parentNode==c&&Qo(this.Oa)==h||c.insertBefore(this.Oa,h):h&&(this.aF=h),this.Oa.style.display="",c.Bj&&z.Fi(c,c.Bj);else for(this.HS||
(this.Oa.style.display="none"),h=0,k=this.$c.length;h<k;h++)l=this.$c[h],l.Bj&&z.Hi(l,l.Bj);c!=this.tx&&(this.tx=c,at(this,this.Oa));this.dispatchEvent(new jt("dragmove",0,a,this.Oa,0,this.Ob));return!1};z.e.cx=function(){bt(this);this.Ob=this.Lc=this.NA=this.ou=this.tx=this.Oa=null;for(var a=0,b=this.$c.length;a<b;a++)this.$c[a].El=null;a=0;for(b=this.Fl.length;a<b;a++)this.Fl[a].El=null};
z.e.JQ=function(a){if(!this.dispatchEvent(new jt("beforedragend",0,a,this.Oa,0,this.Ob)))return!1;this.EC||this.ou.insertBefore(this.Oa,this.aF);bt(this);this.dispatchEvent(new jt("dragend",0,a,this.Oa,0,this.Ob));this.cx();return!0};z.e.OQ=function(a){z.Gi(a.currentTarget,this.Lx||[])};z.e.NQ=function(a){z.Ii(a.currentTarget,this.Lx||[])};z.e.MQ=function(a){z.Gi(a.currentTarget,this.CF||[])};z.e.LQ=function(a){z.Ii(a.currentTarget,this.CF||[])};z.y(jt,z.Kc);var mt;z.y(z.kt,z.R);z.e=z.kt.prototype;z.e.gg=null;z.e.$S=10;z.e.dm=!1;z.e.B=function(){this.h=this.K().B("INPUT",{type:"text"})};z.e.W=function(a){z.kt.v.W.call(this,a);this.Rb||(this.Rb=a.getAttribute("label")||"");En(z.Je(a))==a&&(this.dm=!0,z.Hi(this.m(),this.ep));lt()&&(this.m().placeholder=this.Rb);z.jj(this.m(),"label",this.Rb)};
z.e.C=function(){z.kt.v.C.call(this);var a=new z.wd(this);a.g(this.m(),"focus",this.FG);a.g(this.m(),"blur",this.Hy);lt()?this.U=a:(z.C&&a.g(this.m(),["keypress","keydown","keyup"],this.VQ),a.g(z.Se(z.Je(this.m())),"load",this.PR),this.U=a,nt(this));this.hi();this.m().ZS=this};z.e.zb=function(){z.kt.v.zb.call(this);this.U&&(this.U.H(),this.U=null);this.m().ZS=null};z.e.D=function(){z.kt.v.D.call(this);this.U&&(this.U.H(),this.U=null)};z.e.ep="label-input-label";
z.e.FG=function(){this.dm=!0;z.Hi(this.m(),this.ep);if(!lt()&&!ot(this)&&!this.gS){var a=this,b=function(){a.m()&&(a.m().value="")};z.D?z.ud(b,10):b()}};z.e.Hy=function(){lt()||(this.U.sa(this.m(),"click",this.FG),this.gg=null);this.dm=!1;this.hi()};z.e.VQ=function(a){27==a.keyCode&&("keydown"==a.type?this.gg=this.m().value:"keypress"==a.type?this.m().value=this.gg:"keyup"==a.type&&(this.gg=null),a.preventDefault())};z.e.ZQ=function(){ot(this)||(this.m().value="",z.ud(this.vQ,10,this))};
z.e.vQ=function(){ot(this)||(this.m().value=this.Rb)};z.e.PR=function(){this.hi()};z.e.hasFocus=function(){return this.dm};z.e.clear=function(){this.m().value="";null!=this.gg&&(this.gg="")};z.e.reset=function(){ot(this)&&(this.clear(),this.hi())};z.e.Da=function(a){null!=this.gg&&(this.gg=a);this.m().value=a;this.hi()};z.e.Y=function(){return null!=this.gg?this.gg:ot(this)?this.m().value:""};
z.e.hi=function(){var a=this.m();lt()?this.m().placeholder!=this.Rb&&(this.m().placeholder=this.Rb):nt(this);z.jj(a,"label",this.Rb);ot(this)?(a=this.m(),z.Hi(a,this.ep)):(this.gS||this.dm||(a=this.m(),z.Fi(a,this.ep)),lt()||z.ud(this.kW,this.$S,this))};z.e.ab=function(a){this.m().disabled=!a;z.zo(this.m(),this.ep+"-disabled",!a)};z.e.isEnabled=function(){return!this.m().disabled};z.e.kW=function(){!this.m()||ot(this)||this.dm||(this.m().value=this.Rb)};var tD={wG:function(a,b){return window.$.get(b?"/node/AnswerFullVoteInfoV2":"/node/AnswerVoteInfoV2",{params:{answer_id:a}})},QC:function(a,b){return window.$.post("/node/AnswerVoteBarV2",{method:b,params:{answer_id:a}},function(a){a&&a.r&&z.X.alert("\x3cp\x3e"+a.msg+"\x3c/p\x3e")})},GB:function(a,b){return window.$.post("/node/AnswerMetaV2",{method:"set_copyright",params:{answer_id:a,copyright_status:Number(b)}})}};z.y(ut,z.As);ut.prototype.Wi=function(a){var b=ut.v.Wi.call(this,a);a.select(this.ba.Ey());return b};z.y(vt,z.Is);vt.prototype.HV=["根话题","未归类话题"];vt.prototype.Om=function(a){this.vB=a};vt.prototype.Ri=function(a,b,c){var d=(0,z.t)(function(a,b){for(var d=[],k,l=0;l<b.length;l++)for(var p=1;p<b[l].length;p++){k=b[l][p];var r=!0;this.UF&&z.A(this.HV,function(a){k[2]===a&&(r=!1)});r&&d.push(k)}this.vB&&(d=this.vB(d,a));c(a,d)},this);vt.v.Ri.call(this,a,b,d)};z.y(wt,z.As);z.e=wt.prototype;
z.e.Wi=function(a){var b=ut.v.Wi.call(this,a),c=this.ba.Ey(),d=this.Gs();d.CK=a;d.dispatchEvent("select");c.value="";return b};z.e.Da=function(){};z.e.update=function(a){var b=z.ur(this.Y());!b||"搜索用户"===b||"搜索话题"===b||"在这里输入问题"===b||z.B(this.ba.Yx||[],b)||(b?(0,window.unescape)((0,window.encodeURIComponent)(b)).length:0)<this.GI||b===this.qI?(this.ba.Aj(),this.hp=b):(this.qI=null,this.ba.dispatchEvent({type:ZF}),wt.v.update.call(this,a))};
z.e.qe=function(a){this.ba&&z.ts(this.ba);a.target!==this.ib&&(this.ib=a.target||null,this.la&&(this.la.start(),this.ic.g(this.la,"tick",this.Ip)),this.hp=this.Y(),Fs(this));this.la&&this.la.start();this.update(!0)};z.e.ed=function(){this.la&&this.la.stop();this.ba&&this.ba.Aj()};
z.e.ec=function(a){if(13===a.keyCode){if(this.ba.Bb()){if(this.ba.Vi())return a.preventDefault(),a.stopPropagation(),!0;a.preventDefault();a.stopPropagation();this.ba.bc="";this.ba.Kc();this.update(!0);return!1}a.stopPropagation();a.preventDefault();return!1}wt.v.ec.call(this,a)};z.e.xr=function(a){wt.v.xr.call(this,a);this.ic.g(a,"mousedown",function(a){a.stopPropagation();return!0})};z.y(xt,wt);xt.prototype.Wi=function(a){var b=this.Gs();b.CK=a;b.dispatchEvent("select");return!1};z.y(z.yt,z.Ws);
var ZF="before_update";z.e=z.yt.prototype;z.e.uF=!0;z.e.cW=function(a,b,c){z.Nd(c,function(a){a=Ss(this,a,this.bc);this.ca.appendChild(this.h,a)},a);z.df(a.h,a.ca.B("div","zh-question-suggest-info",[a=a.ca.B("a",{href:"javascript:;",title:"关闭",name:"close",id:"zh-question-suggest-info-close"},[a.ca.B("span","x-m"),"不是"]),"您想问的是不是下面的问题？"]),0);z.G(a,"click",function(){var a=this.Mf;a.ed();this.Kc();a.qI=a.Y()},!1,this)};
z.e.eW=function(a,b,c){0===c.length?this.Kc():(z.Nd(c,function(a){a=Ss(this,a,this.bc);this.ca.appendChild(this.h,a)},a),b=a.ca.B("div","zh-question-topic-autocomplete-plaintext",["建议添加的话题",a.ca.B("span","x-m")]),z.df(a.h,b,0),z.tm.Ab&&z.G(b,"click",function(){this.Mf.ed();this.Kc()},!1,this))};z.e.lg=function(){return this.CK};z.e.Om=function(a){this.Td.Om(a)};z.e.Kc=function(){if(this.uF)return z.yt.v.Kc.call(this)};z.e.Vi=function(){return-1===us(this,this.kh)?!1:z.yt.v.Vi.call(this)};
z.e.Aj=function(){z.tm.Ab?z.kd(window.document,"click",(0,z.t)(this.Kc,this)):z.yt.v.Aj.call(this)};z.y(z.zt,z.Yj);var At="view",$F="零一二三四五六七八九十".split("");z.e=z.zt.prototype;z.e.w=function(a){this.h=a;this.Hg=z.N("zm-tag-editor-labels",this.h);this.au&&(this.data=Bt(this));z.Ct(this);this.fe();this.cc()};
z.e.Jl=function(){this.yc||(this.yc=z.O("div","zm-tag-editor-editor",[this.bo=z.O("div","zg-section zg-clear"),this.ie=z.O("div","zg-section zm-tag-editor-command-buttons-wrap",[this.Ya=z.O("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),z.O("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"添加"),this.WF=z.O("a",{href:"#",name:"close"},"完成")]),this.Tt=z.O("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[z.O("span",{},"最多只能为一个问题绑定 "+
this.kp+" 个话题"),z.O("a",{href:"#",name:"close"},"完成")])]),z.cf(this.yc,this.Hg),this.Se&&(this.Tz=new z.kt(this.Se),this.Tz.w(this.Ya),this.Ya.title=this.Se),this.yf(this.ie))};z.e.yf=function(a,b){this.S=new z.yt(b||"/topic/autocomplete",this.Ya,null,null,a,!0);this.S.Eg(!0);this.S.qk=this.ue;this.S.Om(this.Lf());this.S.Yx=[this.Se];this.o().g(this.S,"select",this.Ef);this.o().g(this.S,"suggestionsupdate",this.tn)};z.e.ay=function(a){return z.ob(this.data,function(b){return b[0]===a[1]})};
z.e.Lf=function(){return(0,z.t)(function(a,b){return Et(this,Dt(this,a),b)},this)};z.e.tn=function(){1<this.S.Ma.length&&!this.S.Ma[0][4]&&z.rs(this.S)};z.e.cc=function(){this.o().g(this.h,"click",this.Va);z.Ep&&this.o().g(z.Ep,"anon_change",this.Uj)};z.e.Uj=function(a){a.vb?z.W.add(this.h,"zm-tag-editor-disabled"):z.W.remove(this.h,"zm-tag-editor-disabled")};
z.e.Va=function(a){var b=this.eh(a.target);if(b&&b.name)switch(a.preventDefault(),b.name){case "edit":this.te(!0);break;case "add":(a=z.ur(vr(this.Ya.value)))&&a!==this.Ya.title&&this.Fe("",a);break;case "close":this.te(!1);break;case "remove":this.HA(b)}};z.e.te=z.Lq(function(a){if(a&&(this.dispatchEvent("start_editing"),!1===this.dispatchEvent("beforeedit")))return;this.status=a?"edit":At;this.Jl();this.Ed();this.fe();z.Ft(this)},!0);
z.e.HA=function(a){var b=a.id.split("-")[1],c=z.Po(a).innerHTML;this.Wt&&this.data.length<=this.Wt?z.X.message("请至少绑定"+$F[this.Wt]+"个话题"):(this.data=z.lb(this.data,function(a){return b?String(a[3])!==b:a[1]!==c}),this.ym(b))};z.e.ym=function(a){if(!this.Ju||!this.Ju.Ac()){this.Ju=new z.Z(!0);var b=new z.wh;b.add("qid",this.qa).add("question_id",this.qa).add("topic_id",a);this.o().Aa(this.Ju,"complete",this.yR);this.Ju.ajax(this.ZV,b.toString())}};
z.e.yR=function(a){a=z.Tn(a.target);a.r?z.X.message(a.msg):(this.dispatchEvent("remove_tag"),z.Ct(this),this.Ed(),z.Ft(this))};z.e.fe=function(){this.status===At?(z.Q(this.Hg,!0),this.yc&&z.Q(this.yc,!1)):(z.Q(this.Hg,!1),this.yc&&this.isEnabled&&z.Q(this.yc,!0),this.Tt&&z.Q(this.Tt,!1))};
z.e.Fe=function(a,b){this.pc||(this.dispatchEvent("add_tag"),this.pc=!0,this.xhr=new z.Z(!0),this.o().Aa(this.xhr,"complete",this.sw),this.xhr.ajax(this.rN,"qid\x3d"+this.qa+"\x26question_id\x3d"+this.qa+"\x26topic_id\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.Ef=function(){var a="",b="",c=this.S.lg().slice(1);3<c.length?(a=c[3],b=c[0]):b=c[1];z.ob(this.data,function(c){return c[3]&&String(c[3])===a||c[0]===b})||(a||b)&&this.Fe(a,b,c)};
z.e.sw=function(){this.pc=!1;var a=z.Tn(this.xhr);this.Zi(a);z.Ft(this)};z.e.gl=z.m(32);z.e.Zi=function(a){var b=null;a&&a.r?a.notify?z.Ln(a.notify):z.X.message(a.msg):(4<a.length&&z.Ln(a[4]),this.BB=b=a,this.data.push(b),z.Gt(this),z.Ct(this),this.Ed(),this.Ya.value="",this.dispatchEvent("select"))};z.e.eG=function(a){return z.tr(a,"nor",!1)};
z.e.Ed=function(){var a=z.mb(this.data,function(a){return['\x3cspan class\x3d"zm-tag-editor-edit-item"\x3e',this.eG(a),a.VX?"":'\x3ca id\x3d"rmid-'+a[3]+'" href\x3d"#" class\x3d"zg-r3px zm-tag-editor-remove-button" name\x3d"remove"\x3e\x3c/a\x3e',"\x3c/span\x3e"].join("")},this);this.bo.innerHTML=a.join("")};z.e.lg=function(){return this.BB};z.e.ab=function(a){this.isEnabled=a;this.status=At;this.fe()};z.y(z.Ht,z.zt);z.e=z.Ht.prototype;
z.e.w=function(a){if(this.isEnabled=!a.getAttribute("data-disabled"))z.Ht.v.w.call(this,a),this.te(!0),z.Q(this.WF,!1)};z.e.yf=function(a){var b;this.Nz&&(b="/topic/autocomplete?no_create\x3dtrue");z.Ht.v.yf.call(this,a,b);this.S.Td.UF=!1};z.e.Lf=function(){return(0,z.t)(function(a,b){return z.lb(a,function(a){return 3>=a.length?!1:z.bo(this.data,function(d){return d[1]===a[2]?b===a[1]?(a[0]="plain_text",a[1]='"'+b+'"已在现有列表中',!0):!1:!0})},this)},this)};
z.e.Fe=function(a,b){this.pc||(this.pc=!0,this.xhr=new z.Z(!0),this.o().Aa(this.xhr,"complete",this.sw),a||(a=-1),this.Nz?this.xhr.ajax("/topic/add","tid\x3d"+this.Rf+"\x26pid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)):this.xhr.ajax("/topic/add","tid\x3d"+this.Rf+"\x26cid\x3d"+a+"\x26topic_text\x3d"+(0,window.encodeURIComponent)(b)))};z.e.eG=function(a){return'\x3ca class\x3d"nor" href\x3d"/topic/'+a[1]+'/organize"\x3e'+a[0]+"\x3c/a\x3e"};
z.e.ym=function(a){if(!this.da||!this.da.Ac()){var b=new z.Z(!0);this.o().g(b,"success",function(){var c=z.Tn(b);c.r?z.X.message(c.msg):(z.Ct(this),this.Ed(),this.dispatchEvent({type:"remove_tag",data:{id:a}}))});this.Nz?b.ajax(this.jK,"cid\x3d"+this.Rf+"\x26pid\x3d"+a):b.ajax(this.jK,"pid\x3d"+this.Rf+"\x26cid\x3d"+a);this.da=b}};z.y(It,z.zt);z.e=It.prototype;
z.e.w=function(a){It.v.w.call(this,a);this.te(!0);z.A(z.Le("a",null,a),function(a){z.Q(a,!1)});this.o().g(this.Ya,"focus",function(){this.$q.val()&&!this.HF&&(this.HF=!0,this.Av());this.placeholder&&(this.placeholder.Lk("搜索话题"),Kn(this.placeholder))});this.UH=new Mp;this.UH.attach(this.Ya);this.o().g(this.UH,"key",function(a){8===a.keyCode&&(1===this.Ya.value.length&&(this.kE=!0,this.hO=(0,window.setTimeout)((0,z.t)(function(){this.kE=!1;(0,window.clearTimeout)(this.hO)},this))),this.Ya.value.length||
this.kE||(this.data.pop(),this.Ed(),this.dispatchEvent("remove_tag")))});this.pX=new z.gl(this.Av,2E3,this);this.o().g(this.$q[0],"keyup",function(){var a=this.$q.val();this.kv!==a&&(this.pX.fire(),this.kv=a)});this.o().g(this,["remove_tag","add_tag"],function(){Jt(this);0<this.data.length&&this.placeholder&&(this.placeholder.Lk("搜索话题"),Kn(this.placeholder));5<=this.data.length?(this.ab(!1),this.Vq.show(),this.placeholder&&this.placeholder.hide(),this.Yv.hide()):(this.ab(!0),this.Vq.hide(),this.placeholder&&
this.placeholder.show(),this.Yv.show(),this.Vq.removeClass("light"))})};z.e.ay=function(a){return z.ob(this.data,function(b){return b[1]===a[1]})};z.e.ym=function(){this.dispatchEvent("remove_tag");z.Ct(this);this.Ed()};
z.e.Jl=function(){this.yc||(It.v.Jl.call(this),z.W.add(this.yc,"zg-clear"),z.W.set(this.bo,"zg-inline"),z.W.add(this.ie,"zg-left"),z.W.remove(this.ie,"zg-section"),z.W.set(this.Ya,"zu-question-suggest-topic-input"),z.W.add(this.Ya,"label-input-label"),this.dr=(0,window.$)("\x3cdiv class\x3d'sug-con zg-clear' style\x3d'display:none;'\x3e\x3c/div\x3e").append("\x3cspan class\x3d'zg-gray-normal zg-left tip'\x3e推荐添加\x3c/span\x3e").append(this.DM=(0,window.$)("\x3cspan class\x3d'sugs zg-clear zg-inline'\x3e\x3c/span\x3e")).append(this.Zv=
(0,window.$)('\x3cimg data-src\x3d"'+z.tm.bC+'/img/spinner2.gif"\x3e')),this.dr.insertAfter(this.h),this.dr.on("click","a[name\x3d'add']",(0,z.t)(function(a){a=a.currentTarget;5>this.data.length?this.Fe((0,window.$)(a).attr("data-id"),(0,window.$)(a).attr("data-text")):this.Vq.addClass("light")},this)),this.Yv=(0,window.$)('\x3clabel for\x3d"topic" class\x3d"zg-icon icon-magnify"\x3e\x3c/label\x3e'),(0,window.$)(this.ie).prepend(this.Yv),this.placeholder=new z.wk(this.Ya,{text:"搜索话题",fE:!0}),(0,window.$)(this.ie).append(this.Vq=
(0,window.$)("\x3clabel class\x3d'err-tip' style\x3d'display:none;'\x3e最多添加五个话题\x3c/label\x3e")),this.o().g(this.yc,"click",this.QX))};z.e.QX=function(a){z.Gr(this.h,a.target)||(a=z.N("zu-question-suggest-topic-input",this.yc),z.Lg(a)&&a.focus())};
z.e.Av=function(){this.HF&&(this.kv=this.$q.val(),8>this.kv.length?(this.tq=[],Jt(this)):(this.uq&&this.uq.abort(),this.uq=new z.Z(!1),this.o().g(this.uq,"success",this.LU),this.uq.ajax("/topic-question/autocomplete?token\x3d"+this.kv+"\x26max_matches\x3d5\x26use_similar\x3d0","GET"),this.Zv.attr("src",this.Zv.attr("data-src")).show()))};z.e.LU=function(){this.tq=z.Tn(this.uq)[0].slice(1);Jt(this)};
z.e.Ed=function(){var a=[];z.A(this.data,function(b){a.push(['\x3cdiv class\x3d"zm-tag-editor-edit-item"\x3e\x3cspan\x3e',b[0],'\x3c/span\x3e\x3ca id\x3d"rmid-',b[3],'" href\x3d"#" class\x3d"zg-r3px zm-tag-editor-remove-button" name\x3d"remove"\x3e\x3c/a\x3e\x3c/div\x3e'].join(""))},this);this.bo.innerHTML=a.join("")};z.e.reset=function(){this.data=[];z.Ct(this);this.Ed()};
z.e.HA=function(a){var b=a.id.split("-")[1],c=z.Po(a).innerHTML;this.data=z.lb(this.data,function(a){return b?String(a[3])!==b:a[1]!==c});this.ym(b)};z.e.Fe=function(a,b){var c=[b,b,"",a];this.BB=c;this.data.push(c);z.Ct(this);this.Ed();this.Ya.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};z.e.ab=function(a){this.Ya&&z.Q(this.Ya,a)};
z.e.trackEvent=function(){if(this.tq){var a=0,b=this.data.length;z.A(this.data,function(b){z.A(this.tq,function(d){b[1]===d[1]&&a++},this)},this);z.Y.yb({type:"ga_click_add_question",data:{lv:a,total:b}})}};z.y(z.Kt,z.Ht);z.Kt.prototype.Fe=function(a){this.pc||(this.pc=!0,this.xhr=new z.Z(!0),this.o().Aa(this.xhr,"complete",this.sw),this.xhr.ajax(this.oE,"tid\x3d"+a+"\x26method\x3dadd"))};
z.Kt.prototype.ym=function(a){this.pc||(this.pc=!0,this.xhr=new z.Z(!0),this.o().g(this.xhr,"complete",function(){z.Ct(this);this.Ed();this.pc=!1}),this.xhr.ajax(this.oE,"tid\x3d"+a+"\x26method\x3ddel"))};z.y(Lt,z.wc);Lt.prototype.restore=function(a){var b=this.Ou();a||this.H();return b};z.y(z.Mt,Lt);z.Mt.prototype.Rp=function(a){z.P(z.Nt(this,!0));z.P(z.Nt(this,!1));return a};z.Mt.prototype.Ou=function(){var a=null,b=z.Nt(this,!this.uB),c=z.Nt(this,this.uB);if(b&&c){var a=b.parentNode,b=z.kb(a.childNodes,b),d=c.parentNode,c=z.kb(d.childNodes,c);d==a&&(this.uB?b--:c--);a=z.uu(a,b,d,c);a=this.Rp(a);a.select()}else this.Rp();return a};z.Mt.prototype.D=function(){this.Rp();this.ca=null};z.y(z.Ot,z.Kd);z.e=z.Ot.prototype;z.e.setPosition=function(a,b,c){if(this.node=a)this.Zb=z.pa(b)?b:1!=this.node.nodeType?0:this.Qc?-1:1;z.pa(c)&&(this.depth=c)};z.e.Vg=function(a){this.node=a.node;this.Zb=a.Zb;this.depth=a.depth;this.Qc=a.Qc;this.Sr=a.Sr};z.e.clone=function(){return new z.Ot(this.node,this.Qc,!this.Sr,this.Zb,this.depth)};z.e.nq=z.m(34);
z.e.next=function(){var a;if(this.Mk){if(!this.node||this.Sr&&0==this.depth)throw z.Md;a=this.node;var b=this.Qc?-1:1;if(this.Zb==b){var c=this.Qc?a.lastChild:a.firstChild;c?this.setPosition(c):this.setPosition(a,-1*b)}else(c=this.Qc?a.previousSibling:a.nextSibling)?this.setPosition(c):this.setPosition(a.parentNode,-1*b);this.depth+=this.Zb*(this.Qc?-1:1)}else this.Mk=!0;a=this.node;if(!this.node)throw z.Md;return a};z.e.pm=function(){return this.Mk};
z.e.equals=function(a){return a.node==this.node&&(!this.node||a.Zb==this.Zb)};z.e.splice=function(a){var b=this.node,c=this.Qc?1:-1;this.Zb==c&&(this.Zb=-1*c,this.depth+=this.Zb*(this.Qc?-1:1));this.Qc=!this.Qc;z.Ot.prototype.next.call(this);this.Qc=!this.Qc;for(var c=z.na(arguments[0])?arguments[0]:arguments,d=c.length-1;0<=d;d--)z.cf(c[d],b);z.P(b)};z.e=Pt.prototype;z.e.Vb=function(){var a=this.zc();return 1==a.nodeType?a:a.parentNode};z.e.oh=function(){return!1};z.e.va=function(){return z.Je(z.D?this.zc():this.Z())};z.e.$a=function(){return z.Se(this.va())};z.e.containsNode=function(a,b){return this.Ug(z.Mu(a),b)};z.e.Qi=function(a){this.isCollapsed()||this.If();return this.insertNode(a,!0)};z.y(Wt,z.Ot);z.y(Xt,Pt);Xt.prototype.Ug=function(a,b){var c=z.Rt(this),d=z.Rt(a);return(b?z.ob:z.bo)(d,function(a){return z.ob(c,function(c){return c.Ug(a,b)})})};Xt.prototype.insertNode=function(a,b){b?z.bf(a,this.Z()):z.cf(a,this.ka());return a};Xt.prototype.wq=function(a,b){this.insertNode(a,!0);this.insertNode(b,!1)};z.y(z.Yt,Wt);z.e=z.Yt.prototype;z.e.Ms=function(){return 3!=this.node.nodeType?-1:this.node==this.ya?this.Ea:0};z.e.Is=function(){return 3!=this.node.nodeType?-1:this.node==this.ua?this.Ca:this.node.nodeValue.length};z.e.Z=function(){return this.ya};z.e.ka=function(){return this.ua};z.e.Zo=function(){return this.pm()&&this.node==this.ua&&(!this.Ca||1!=this.Zb)};z.e.next=function(){if(this.Zo())throw z.Md;return z.Yt.v.next.call(this)};z.e.nq=z.m(33);
z.e.Vg=function(a){this.ya=a.ya;this.ua=a.ua;this.Ea=a.Ea;this.Ca=a.Ca;this.Af=a.Af;z.Yt.v.Vg.call(this,a)};z.e.clone=function(){var a=new z.Yt(this.ya,this.Ea,this.ua,this.Ca,this.Af);a.Vg(this);return a};z.e=Zt.prototype;z.e.vj="";z.e.set=function(a){this.vj=""+a};z.e.append=function(a,b,c){this.vj+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.vj+=arguments[d];return this};z.e.clear=function(){this.vj=""};z.e.toString=function(){return this.vj};z.e=$t.prototype;z.e.Dy=function(){return au(this,!0)};z.e.uy=function(){return au(this,!1)};z.e.Ug=function(a,b){var c=b&&!a.isCollapsed(),d=a.O;try{return c?0<=this.Ke(d,0,1)&&0>=this.Ke(d,1,0):0<=this.Ke(d,0,0)&&0>=this.Ke(d,1,1)}catch(f){if(!z.D)throw f;return!1}};z.e.containsNode=function(a,b){return this.Ug(ku(a),b)};
z.e.ro=function(){var a=new Zt;z.Nd(this,function(b,c,d){3==b.nodeType?a.append(z.Ma(b.nodeValue.substring(d.Ms(),d.Is()))):1==b.nodeType&&(-1==d.Zb?z.Ze(b)&&a.append("\x3c/"+b.tagName+"\x3e"):(c=b.cloneNode(!1),c=z.Mo(c),z.D&&"LI"==b.tagName?a.append(c):(b=c.lastIndexOf("\x3c"),a.append(b?c.substr(0,b):c))))},this);return a.toString()};z.e.rd=function(){return new z.Yt(this.Z(),this.wa(),this.ka(),this.Qa())};z.y(bu,$t);z.e=bu.prototype;z.e.clone=function(){return new this.constructor(this.O.cloneRange())};z.e.zc=function(){return this.O.commonAncestorContainer};z.e.Z=function(){return this.O.startContainer};z.e.wa=function(){return this.O.startOffset};z.e.ka=function(){return this.O.endContainer};z.e.Qa=function(){return this.O.endOffset};
z.e.Ke=function(a,b,c){return this.O.compareBoundaryPoints(1==c?1==b?z.u.Range.START_TO_START:z.u.Range.START_TO_END:1==b?z.u.Range.END_TO_START:z.u.Range.END_TO_END,a)};z.e.isCollapsed=function(){return this.O.collapsed};z.e.Sd=function(){return this.O.toString()};
z.e.mg=function(){var a=z.He(this.O.startContainer).B("DIV");a.appendChild(this.O.cloneContents());a=a.innerHTML;if(z.Ia(a,"\x3c")||!this.isCollapsed()&&!z.Ua(a,"\x3c"))return a;var b=this.zc(),b=1==b.nodeType?b:b.parentNode;return z.Mo(b.cloneNode(!1)).replace("\x3e","\x3e"+a)};z.e.select=function(a){var b=z.Se(z.Je(this.Z()));this.Zp(b.getSelection(),a)};z.e.Zp=function(a){a.removeAllRanges();a.addRange(this.O)};
z.e.If=function(){var a=this.O;a.extractContents();if(a.startContainer.hasChildNodes()){var b=a.startContainer.childNodes[a.startOffset];if(b){var c=b.previousSibling;""==z.Ko(b)&&z.P(b);c&&""==z.Ko(c)&&z.P(c)}}if(z.Kl){var b=this.Z(),c=this.wa(),d=this.ka(),f=this.Qa(),g=b.nextSibling;b==d&&b.parentNode&&3==b.nodeType&&g&&3==g.nodeType&&(b.nodeValue+=g.nodeValue,z.P(g),a.setStart(b,c),a.setEnd(d,f))}};z.e.surroundContents=function(a){this.O.surroundContents(a);return a};
z.e.insertNode=function(a,b){var c=this.O.cloneRange();c.collapse(b);c.insertNode(a);c.detach();return a};
z.e.wq=function(a,b){var c=z.Se(z.Je(this.Z()));if(c=z.Ju(c))var d=c.Z(),f=c.ka(),g=c.wa(),h=c.Qa();var k=this.O.cloneRange(),l=this.O.cloneRange();k.collapse(!1);l.collapse(!0);k.insertNode(b);l.insertNode(a);k.detach();l.detach();if(c){if(3==d.nodeType)for(;g>d.length;){g-=d.length;do d=d.nextSibling;while(d==a||d==b)}if(3==f.nodeType)for(;h>f.length;){h-=f.length;do f=f.nextSibling;while(f==a||f==b)}z.uu(d,g,f,h).select()}};z.e.collapse=function(a){this.O.collapse(a)};z.y(fu,bu);fu.prototype.Zp=function(a,b){!b||this.isCollapsed()?fu.v.Zp.call(this,a,b):(a.collapse(this.ka(),this.Qa()),a.extend(this.Z(),this.wa()))};z.y(z.gu,$t);z.e=z.gu.prototype;z.e.clone=function(){var a=new z.gu(this.O.duplicate(),this.ks);a.Ag=this.Ag;a.ya=this.ya;a.ua=this.ua;return a};z.e.Md=function(){this.Ag=this.ya=this.ua=null;this.Ea=this.Ca=-1};
z.e.zc=function(){if(!this.Ag){var a=this.O.text,b=this.O.duplicate(),c=a.replace(/ +$/,"");(c=a.length-c.length)&&b.moveEnd("character",-c);c=b.parentElement();b=z.pp(b.htmlText).length;if(this.isCollapsed()&&0<b)return this.Ag=c;for(;b>z.pp(c.outerHTML).length;)c=c.parentNode;for(;1==c.childNodes.length&&c.innerText==mu(c.firstChild)&&du(c.firstChild);)c=c.firstChild;0==a.length&&(c=iu(this,c));this.Ag=c}return this.Ag};
z.e.Z=function(){this.ya||(this.ya=ju(this,1),this.isCollapsed()&&(this.ua=this.ya));return this.ya};z.e.wa=function(){0>this.Ea&&(this.Ea=lu(this,1),this.isCollapsed()&&(this.Ca=this.Ea));return this.Ea};z.e.ka=function(){if(this.isCollapsed())return this.Z();this.ua||(this.ua=ju(this,0));return this.ua};z.e.Qa=function(){if(this.isCollapsed())return this.wa();0>this.Ca&&(this.Ca=lu(this,0),this.isCollapsed()&&(this.Ea=this.Ca));return this.Ca};
z.e.Ke=function(a,b,c){return this.O.compareEndPoints((1==b?"Start":"End")+"To"+(1==c?"Start":"End"),a)};z.e.qg=z.m(38);z.e.isCollapsed=function(){return 0==this.O.compareEndPoints("StartToEnd",this.O)};z.e.Sd=function(){return this.O.text};z.e.mg=function(){return this.O.htmlText};z.e.select=function(){this.O.select()};
z.e.If=function(){if(!this.isCollapsed()&&this.O.htmlText){var a=this.Z(),b=this.ka(),c=this.O.text,d=this.O.duplicate();d.moveStart("character",1);d.moveStart("character",-1);d.text==c&&(this.O=d);this.O.text="";this.Md();c=this.Z();d=this.wa();try{var f=a.nextSibling;a==b&&a.parentNode&&3==a.nodeType&&f&&3==f.nodeType&&(a.nodeValue+=f.nodeValue,z.P(f),this.O=hu(c),this.O.move("character",d),this.Md())}catch(g){}}};
z.e.surroundContents=function(a){z.P(a);a.innerHTML=this.O.htmlText;(a=nu(this.O,a))&&this.O.moveToElementText(a);this.Md();return a};z.e.insertNode=function(a,b){var c=ou(this.O.duplicate(),a,b);this.Md();return c};z.e.wq=function(a,b){var c=this.O.duplicate(),d=this.O.duplicate();ou(c,a,!0);ou(d,b,!1);this.Md()};z.e.collapse=function(a){this.O.collapse(a);a?(this.ua=this.ya,this.Ca=this.Ea):(this.ya=this.ua,this.Ea=this.Ca)};z.y(pu,bu);pu.prototype.Zp=function(a){a.collapse(this.Z(),this.wa());this.ka()==this.Z()&&this.Qa()==this.wa()||a.extend(this.ka(),this.Qa());0==a.rangeCount&&a.addRange(this.O)};z.y(qu,bu);qu.prototype.Ke=function(a,b,c){return z.F("528")?qu.v.Ke.call(this,a,b,c):this.O.compareBoundaryPoints(1==c?1==b?z.u.Range.START_TO_START:z.u.Range.END_TO_START:1==b?z.u.Range.START_TO_END:z.u.Range.END_TO_END,a)};qu.prototype.Zp=function(a,b){b?a.setBaseAndExtent(this.ka(),this.Qa(),this.Z(),this.wa()):a.setBaseAndExtent(this.Z(),this.wa(),this.ka(),this.Qa())};z.y(z.su,Pt);z.e=z.su.prototype;z.e.clone=function(){var a=new z.su;a.di=this.di&&this.di.clone();a.ya=this.ya;a.Ea=this.Ea;a.ua=this.ua;a.Ca=this.Ca;a.Af=this.Af;return a};z.e.Ci=function(){return"text"};z.e.ne=function(){return z.wu(this).O};z.e.Md=function(){this.ya=this.Ea=this.ua=this.Ca=null};z.e.Tj=function(){return 1};z.e.Oe=function(){return this};z.e.zc=function(){return z.wu(this).zc()};z.e.Z=function(){return this.ya||(this.ya=z.wu(this).Z())};
z.e.wa=function(){return null!=this.Ea?this.Ea:this.Ea=z.wu(this).wa()};z.e.Dy=function(){return z.wu(this).Dy()};z.e.ka=function(){return this.ua||(this.ua=z.wu(this).ka())};z.e.Qa=function(){return null!=this.Ca?this.Ca:this.Ca=z.wu(this).Qa()};z.e.uy=function(){return z.wu(this).uy()};z.e.oh=function(){return this.Af};z.e.Ug=function(a,b){var c=a.Ci();return"text"==c?z.wu(this).Ug(z.wu(a),b):"control"==c?(c=a.xi(),(b?z.ob:z.bo)(c,function(a){return this.containsNode(a,b)},this)):!1};z.e.qg=z.m(37);
z.e.isCollapsed=function(){return z.wu(this).isCollapsed()};z.e.Sd=function(){return z.wu(this).Sd()};z.e.ro=function(){return z.wu(this).ro()};z.e.mg=function(){return z.wu(this).mg()};z.e.rd=function(){return new z.Yt(this.Z(),this.wa(),this.ka(),this.Qa())};z.e.select=function(){z.wu(this).select(this.Af)};z.e.If=function(){z.wu(this).If();this.Md()};z.e.surroundContents=function(a){a=z.wu(this).surroundContents(a);this.Md();return a};
z.e.insertNode=function(a,b){var c=z.wu(this).insertNode(a,b);this.Md();return c};z.e.wq=function(a,b){z.wu(this).wq(a,b);this.Md()};z.e.xB=function(){return new xu(this)};z.e.collapse=function(a){a=this.oh()?!a:a;this.di&&this.di.collapse(a);a?(this.ua=this.ya,this.Ca=this.Ea):(this.ya=this.ua,this.Ea=this.Ca);this.Af=!1};z.y(xu,Lt);xu.prototype.Ou=function(){return z.uu(this.UD,this.QN,this.ZF,this.WP)};xu.prototype.D=function(){xu.v.D.call(this);this.ZF=this.UD=null};z.y(z.yu,Xt);z.e=z.yu.prototype;z.e.Md=function(){this.oq=this.kb=null};z.e.clone=function(){return Au.apply(this,this.xi())};z.e.Ci=function(){return"control"};z.e.ne=function(){return this.O||window.document.body.createControlRange()};z.e.Tj=function(){return this.O?this.O.length:0};z.e.Oe=function(a){a=this.O.item(a);return tu(ku(a),void 0)};z.e.zc=function(){return No.apply(null,this.xi())};z.e.Z=function(){return Bu(this)[0]};z.e.wa=function(){return 0};
z.e.ka=function(){var a=Bu(this),b=z.jb(a);return z.pb(a,function(a){return z.mf(a,b)})};z.e.Qa=function(){return this.ka().childNodes.length};z.e.xi=function(){if(!this.kb&&(this.kb=[],this.O))for(var a=0;a<this.O.length;a++)this.kb.push(this.O.item(a));return this.kb};z.e.qg=z.m(36);z.e.isCollapsed=function(){return!this.O||!this.O.length};z.e.Sd=function(){return""};z.e.ro=function(){return z.mb(Bu(this),z.Mo).join("")};z.e.mg=function(){return this.ro()};z.e.rd=function(){return new Du(this)};
z.e.select=function(){this.O&&this.O.select()};z.e.If=function(){if(this.O){for(var a=[],b=0,c=this.O.length;b<c;b++)a.push(this.O.item(b));z.A(a,z.P);this.collapse(!1)}};z.e.Qi=function(a){a=this.insertNode(a,!0);this.isCollapsed()||this.If();return a};z.e.xB=function(){return new Cu(this)};z.e.collapse=function(){this.O=null;this.Md()};z.y(Cu,Lt);
Cu.prototype.Ou=function(){for(var a=(this.kb.length?z.Je(this.kb[0]):window.document).body.createControlRange(),b=0,c=this.kb.length;b<c;b++)a.addElement(this.kb[b]);return zu(a)};Cu.prototype.D=function(){Cu.v.D.call(this);delete this.kb};z.y(Du,Wt);z.e=Du.prototype;z.e.Ms=function(){return 0};z.e.Is=function(){return 0};z.e.Z=function(){return this.ya};z.e.ka=function(){return this.ua};z.e.Zo=function(){return!this.depth&&!this.kb.length};
z.e.next=function(){if(this.Zo())throw z.Md;if(!this.depth){var a=this.kb.shift();this.setPosition(a,1,1);return a}return Du.v.next.call(this)};z.e.Vg=function(a){this.kb=a.kb;this.ya=a.ya;this.ua=a.ua;Du.v.Vg.call(this,a)};z.e.clone=function(){var a=new Du(null);a.Vg(this);return a};z.y(z.Eu,Xt);z.e=z.Eu.prototype;z.e.Md=function(){this.Gm=[];this.Tr=this.Vm=null};z.e.clone=function(){var a=this.Xf,b=new z.Eu;b.Xf=z.ub(a);return b};z.e.Ci=function(){return"mutli"};z.e.ne=function(){return this.Xf[0]};z.e.Tj=function(){return this.Xf.length};z.e.Oe=function(a){this.Gm[a]||(this.Gm[a]=tu(ru(this.Xf[a]),void 0));return this.Gm[a]};z.e.zc=function(){if(!this.Tr){for(var a=[],b=0,c=this.Tj();b<c;b++)a.push(this.Oe(b).zc());this.Tr=No.apply(null,a)}return this.Tr};z.e.Z=function(){return Gu(this)[0].Z()};
z.e.wa=function(){return Gu(this)[0].wa()};z.e.ka=function(){return z.jb(Gu(this)).ka()};z.e.Qa=function(){return z.jb(Gu(this)).Qa()};z.e.qg=z.m(35);z.e.isCollapsed=function(){return 0==this.Xf.length||1==this.Xf.length&&this.Oe(0).isCollapsed()};z.e.Sd=function(){return z.mb(z.Rt(this),function(a){return a.Sd()}).join("")};z.e.ro=function(){return this.mg()};z.e.mg=function(){return z.mb(z.Rt(this),function(a){return a.mg()}).join("")};z.e.rd=function(){return new Iu(this)};
z.e.select=function(){var a=Qt(this.$a());a.removeAllRanges();for(var b=0,c=this.Tj();b<c;b++)a.addRange(this.Oe(b).ne())};z.e.If=function(){z.A(z.Rt(this),function(a){a.If()})};z.e.xB=function(){return new Hu(this)};z.e.collapse=function(a){if(!this.isCollapsed()){var b=a?this.Oe(0):this.Oe(this.Tj()-1);this.Md();b.collapse(a);this.Gm=[b];this.Vm=[b];this.Xf=[b.ne()]}};z.y(Hu,Lt);Hu.prototype.Ou=function(){var a=z.mb(this.yB,function(a){return a.restore()});return Fu(a)};
Hu.prototype.D=function(){Hu.v.D.call(this);z.A(this.yB,function(a){a.H()});delete this.yB};z.y(Iu,Wt);z.e=Iu.prototype;z.e.Ms=function(){return this.rg[this.zl].Ms()};z.e.Is=function(){return this.rg[this.zl].Is()};z.e.Z=function(){return this.rg[0].Z()};z.e.ka=function(){return z.jb(this.rg).ka()};z.e.Zo=function(){return this.rg[this.zl].Zo()};
z.e.next=function(){try{var a=this.rg[this.zl],b=a.next();this.setPosition(a.node,a.Zb,a.depth);return b}catch(c){if(c!==z.Md||this.rg.length-1==this.zl)throw c;this.zl++;return this.next()}};z.e.Vg=function(a){this.rg=z.ub(a.rg);Iu.v.Vg.call(this,a)};z.e.clone=function(){var a=new Iu(null);a.Vg(this);return a};z.y(z.Pu,z.Kd);z.Pu.prototype.next=function(){var a=this.TI;if(!a)throw z.Md;this.TI=this.nW?a.previousSibling:a.nextSibling;return a};z.y(Qu,z.Pu);var Wu={IMG:!0,IFRAME:!0,EMBED:!0};var aG=function(){if(z.Wl)return $u(/Firefox\/([0-9.]+)/);if(z.D||z.Fc||z.vg)return z.Ic;if(z.Jf)return $u(/Chrome\/([0-9.]+)/);if(z.Yl&&!(z.Dc()||z.zb("iPad")||z.zb("iPod")))return $u(/Version\/([0-9.]+)/);if(z.aj||z.Wj){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec(z.Ab))return a[1]+"."+a[2]}else if(z.Xl)return(a=$u(/Android\s+([0-9.]+)/))?a:$u(/Version\/([0-9.]+)/);return""}();var dG,eG,gG,gB,lG,mG;z.bG=z.D&&!(9<=z.Ug);z.cG=z.C||z.E||z.vg||z.Fc||z.D&&9<=z.Ug;z.YA=z.D||z.E||z.vg||z.Fc||!1;dG=z.E||!1;eG=z.D||z.E||z.vg;z.fG=z.C||z.E;z.E&&z.F("534.16");gG=z.C&&!0;z.hG=z.C||z.E||z.vg;z.iG=z.C||z.vg;z.D&&z.F("7.0");z.jG=z.C&&z.F("1.8")||z.E||z.vg;gB=z.E||z.D&&z.F("9");z.D||z.Fc||z.vg||z.C&&z.F("1.9");z.kG=z.C||z.E&&!z.F("527");lG=z.D||z.vg;mG=z.D||z.Fc||z.E&&z.F("525");z.nG=z.E&&!z.F("531");z.oG=z.E&&!z.F("528");z.C&&z.F("1.9")||z.D||z.Fc||z.vg||z.E&&z.F("531");
z.pG=z.D||z.Fc||z.C||z.vg;z.qG=z.C||z.E&&!z.F("526");z.rG=z.D||z.vg;z.sG=!z.D&&!z.vg;z.tG=!z.E&&!z.Fc;z.Jf&&0<=z.Ya(aG,"4")||z.Yl&&z.F("533")||z.C&&z.F("2.0")||z.D&&z.F("10");z.uG=z.vg&&z.F("11.10");z.Jf&&z.Ya(aG,"12");z.y(z.ov,z.Mt);z.ov.prototype.Rp=function(a){var b=z.Nt(this,!0),c=z.Nt(this,!1),b=b&&c?No(b,c):b||c;z.ov.v.Rp.call(this);if(a)return gv(b,a);b&&(a=z.Ju(z.Se(z.Je(b))),(a=gv(b,a))&&a.select())};z.y(z.pv,z.R);z.vG=0;z.qv=[];z.pv.prototype.rc=null;z.pv.prototype.Pl=!1;z.pv.prototype.pu=0;var wG=z.D?"styleFloat":"cssFloat",uv=["position","top","left","width",wG],vv=["position","top","left","display",wG,"marginTop","marginLeft","marginRight","marginBottom"];z.e=z.pv.prototype;z.e.B=function(){z.pv.v.B.call(this);this.W(this.m())};z.e.W=function(a){z.pv.v.W.call(this,a);z.W.add(a,"goog-scrollfloater")};
z.e.C=function(){z.pv.v.C.call(this);this.Ow=z.Qg(window.document.body).top-2;this.rc||(this.rc=this.K().B("div",{style:"visibility:hidden"}));this.pu=z.Yn(this.m()).y;z.rv(this,this.Tu);var a=this.yq=new z.gl(this.Kq,150,this);this.o().g(window,"scroll",(0,z.t)(a.fire,a));this.o().g(window,"resize",z.Sr(150,this.Vy))};z.e.D=function(){z.pv.v.D.call(this);z.sb(z.qv,this);this.yq.H();this.Kz&&(z.vG-=this.dF);delete this.rc};z.e.Kq=function(){this.Tu&&(z.wf(this.K()).y+this.Ow>this.pu?tv(this):z.sv(this))};
z.e.Tp=function(){var a=this.m(),b=this.Ow;!this.Kz&&0<z.vG&&(b+=z.vG);a.style.top=b+"px"};z.e.Vy=function(){z.sv(this);this.pu=z.Yn(this.m()).y;this.Kq()};z.y(wv,z.pv);wv.prototype.Kq=function(){var a=xv(this.tag);if(this.Tu&&(!a||a===this)){var a=this.RV.getBoundingClientRect(),b=this.Ow+z.vG,c=b+this.FJ;a.top<b&&a.bottom>c?tv(this):z.sv(this)}};z.ka(yv);yv.prototype.kf=function(a,b,c){z.pg("richtexteditor",function(){var d=window.ZH.createRichTextEditor(a,b),f=d[0],d=d[1];c&&c(f,d)})};zv.prototype.defaults={hW:[],rB:[],GO:!0};var Bv="data-tooltip data-hovercard class style id bgcolor color size width height".split(" ");zv.prototype.Qg=function(){var a=this;if(this.J.GO)this.R.on("paste",function(){(0,window.setTimeout)(function(){Cv(a.R,Dv(a))})})};z.y(Ev,z.I);z.e=Ev.prototype;z.e.defaults={nn:{ue:6,content:"",method:"GET",source:"/people/autocomplete"},wV:"mention-popup",Ck:window.document.body,FD:"activated"};z.e.D=function(){this.bs();z.P(this.h);this.h=null;Ev.v.D.call(this)};z.e.Vw=function(){var a=this.h=z.Xe(this.RX);this.Mp=a.getElementsByTagName("input")[0];a.className=this.J.wV;a.style.display="none";this.J.Ck.appendChild(a)};z.e.zc=function(){return this.J.Ck};z.e.RX='\x3cdiv\x3e\x3cdiv class\x3d"writing-bg"\x3e\x3cinput\x3e\x3c/div\x3e\x3cdiv class\x3d"tip"\x3e想用 @ 提到谁？\x3c/div\x3e\x3c/div\x3e';
z.e.template=(0,z.ew)('\x3c% if (data.id) { %\x3e\x3cimg class\x3d"avatar" src\x3d"\x3c%\x3davatar%\x3e"\x3e\x3cdiv class\x3d"body"\x3e\x3cspan class\x3d"name"\x3e\x3c%\x3dlabel%\x3e\x3c/span\x3e\x3cspan class\x3d"bio"\x3e\x3c%\x3dheadline%\x3e\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e');z.e.Bb=function(){return z.Lg(this.h)};z.e.open=function(){this.Bb()||(z.Q(this.h,!0),this.Mp.focus(),this.Qg(),this.dispatchEvent("open"))};
z.e.close=function(){this.Bb()&&(z.Q(this.h,!1),z.W.remove(this.h,this.J.FD),this.Mp.value="",this.Mp.blur(),this.bs(),this.dispatchEvent("close"))};z.e.fJ=function(a){this.Bb()&&!z.mf(this.h,a.target)&&Fv(this,a)};z.e.Ep=function(a){var b=a.keyCode,c=this.Mp;if(27===b||c===a.target&&""===c.value&&(8===b||32===b))Fv(this,a),a.preventDefault(),a.stopPropagation()};z.e.Qg=function(){z.G(window.document,"click",this.fJ,!1,this);z.G(this.h,"keydown",this.Ep,!1,this)};
z.e.bs=function(){z.ld(window.document,"click",this.fJ,!1,this);z.ld(this.h,"keydown",this.Ep,!1,this)};
z.e.yf=function(){var a=this,b=this.J.nn,c=new z.Xs(this.Mp,{Pi:this.h,ue:b.ue,source:b.source,select:function(b){(0,window.setTimeout)(function(){a.close();a.dispatchEvent({type:"select",data:{uV:b}})});return""},kd:function(b,c,g){g.innerHTML=a.template(b.data)}});c.LB(b.method);c.ea(b.content);c.addEventListener("suggestionsupdate",function(){z.W.enable(this.h,this.J.FD,c.Bb())},!1,this);this.ba=c};z.e.position=function(a){z.Ag(this.h,a)};z.y(Gv,z.I);var Jv=!!window.getSelection;Gv.prototype.defaults={nn:{},Ck:window.document.body,ip:"member_mention",ft:"mention-holder",position:function(a,b){a.x+=b.width+7;a.y-=5;z.D&&7<z.Ic&&(a.y+=b.height/2-9)}};var Qv=z.Fb({dZ:"member_mention"});Gv.prototype.m=function(){return this.input};
Gv.prototype.Qg=function(){var a=this.Bg;z.G(a,"cancel",function(a){var c=Hv(this);a=a.data.originalEvent;c&&"click"!==a.type&&("keydown"===a.type&&32===a.keyCode&&(c=c.parentNode.insertBefore(window.document.createTextNode(" "),c.nextSibling)),Iv(this,c))},!1,this);z.G(a,"select",function(a){var c=a.data.uV;a=z.N(this.J.ft,this.input);var c=this.Xr(c),d=a.previousSibling,f=window.document.createTextNode(" ");z.Ro(c,a);z.cf(f,c);d&&3===d.nodeType&&!z.sp(z.pf(d)," ")&&z.bf(window.document.createTextNode(" "),
c);Iv(this,f)},!1,this);z.G(this.input,"click",function(){a.Bb()&&Hv(this)},!1,this);z.G(this.input,"keydown",function(a){var c;if(8===a.keyCode&&(c=z.Ju())){a=c.Z();var d=c.ka(),f=c.wa();c=c.Qa();var g=!1;Pv(a.parentNode)&&(f=0,g=!0);Pv(d.parentNode)&&(c=d.length,g=!0);g&&z.uu(a,f,d,c).select()}},!1,this);z.G(this.input,z.Tc||z.aj||z.Wj?"keypress":"keyup",function(a){function c(a,b){if(3!==a.nodeType||"@"===a.nodeValue&&Kv(a.previousSibling)||Kv(a.parentNode))return!1;var c=a.nodeValue,d=b-1;if("@"!==
c.slice(d,d+1))return!1;var f=c;0<=d&&d<c.length&&(f=c.substr(0,d)+c.substr(d+1,c.length-d-1));a.nodeValue=f;return!0}if("keypress"!==a.type||"@"===String.fromCharCode(a.charCode)){var d,f,g,h;if("keyup"===a.type){if(50!==a.keyCode)return;if(Jv){d=window.getSelection();g=d.anchorNode;h=d.anchorOffset;if(!c(g,h))return;z.E&&!g.nextSibling&&(g.nodeValue+=" ");f=window.document.createRange();d.removeAllRanges();f.setStart(g,h-1);f.setEnd(g,h-1);d.addRange(f)}else{f=z.Lu(window.document.selection.createRange());
g=z.St(f);h=f.wa();if(!c(g,h))return;z.Nu(g,h-1).select()}}this.lv(a)}},!1,this)};Gv.prototype.lv=function(a){var b=this,c=this.Bg;if(!c.Bb()){var d=function(c){return Kv(c)||c.className===b.J.ip?!1:(a&&a.preventDefault(),!0)},f=function(a){c.position(a);c.open()};Jv?Lv(b,d,f):Ov(b,d,f)}};Gv.prototype.Xr=function(a,b){return z.O("a",{"data-hash":a.id,href:"/people/"+a.url_token,className:b||this.J.ip,innerHTML:"@"+a.label})};z.y(z.Rv,z.R);z.e=z.Rv.prototype;z.e.D=function(){this.Ra=null;z.Rv.v.D.call(this)};
z.e.W=function(a){z.Rv.v.W.call(this,a);var b=a.getAttribute("data-resourceid");b&&(this.jW=a.getAttribute("data-action"),this.Yp=b);this.status||(this.status="normal");a=this.K();this.td||(this.td=a.jg("zm-editable-content",this.h))&&"1"===this.td.getAttribute("data-disabled")&&(this.disabled=!0);this.fc?this.$b&&(this.fc.innerHTML=this.$b):(this.fc=a.jg("zm-editable-tip",this.h),this.$b&&!this.fc&&(this.fc=a.B("div","zm-editable-tip"),this.fc.innerHTML=this.$b,a.st(this.fc,this.td)));this.Pb=a.jg("zm-editable-editor-wrap",
this.h);this.content=(0,z.$a)(this.content||this.IC?z.pf(this.td):this.td.innerHTML);this.fe();Uv(this)};z.e.B=function(){var a=this.K(),a=a.B("div","zm-editable-item-wrap",[this.fc=a.B("div","zm-editable-tip"),this.td=a.B("div","zm-editable-content",this.content)]);this.W(a)};z.e.C=function(){z.Rv.v.C.call(this);this.o().g(this.td,"click",this.Va);this.fc&&this.o().g(this.fc,"click",this.Va)};z.e.ea=function(a){this.content=a;Uv(this)};
z.e.Va=function(a){var b=z.Gr(this.h,a.target),c=this.K();if(!b||!b.name)return a=c.eQ(a.target,"div","zm-editable-tip-label"),this.isEnabled&&a&&this.Gg(),!0;a=b.name;switch(a){case "expand":Uv(this);break;case "collapse":Uv(this);break;case "edit":z.T.Ee?!1!==this.dispatchEvent("beforeedit")&&(this.init(),this.Gg()):(new z.sq).G(!0);this.dispatchEvent("click_edit");break;case "save":this.Ys();break;case "cancel":this.dispatchEvent("cancel_edit");this.aj();break;default:return this.Qs(a)}return!0};
z.e.Ys=function(){var a=z.ur(this.kg()),b=/<embed/i.test(a);if(/<img/i.test(a)||b||this.HH||a&&vr(a).length)a!==this.content||this.bG?(this.dispatchEvent("save_changed"),this.yh(a)):(this.dispatchEvent("save_unchanged"),this.aj())};z.e.yh=function(a){if(!this.da||!this.da.Ac())if(this.as&&this.xK){this.da=new z.Z(!0);this.o().Aa(this.da,"success",this.OD);var b=new z.wh(this.params.join("\x26"));b.add(this.as,a).add("field_name",this.as);this.da.ajax(this.xK,b.toString())}else this.dispatchEvent("change")};
z.e.aj=function(){this.status="normal";this.fe()};z.e.OD=function(){var a=z.Tn(this.da);if(!a)return z.X.message("网络异常");if(a.r)return z.X.message(a.msg);this.ea(a.msg);this.aj();this.dispatchEvent("saveSuccess");this.dispatchEvent("change")};z.e.Za=function(){return this.content};z.e.vy=z.m(39);z.e.isContentEditable=function(){return!this.Qd};z.e.kg=function(){return(0,z.Nr)(z.La(this.Ra.value))};z.e.Qs=function(a){this.dispatchEvent(a);return!0};z.e.init=function(){this.UR||(this.UR=!0,this.kf())};
z.e.kf=function(){var a=this.K();this.Pb?(this.hc=a.jg("zm-command",this.Pb),this.Ra=a.jg("zm-editable-editor-input",this.Pb)):(this.Pb=a.B("div","zm-editable-editor-wrap clearfix",this.Fj=a.B("div","zm-editable-editor-outer",a.B("div","zm-editable-editor-inner zg-form-text-input",this.Ra=a.B("textarea","zm-editable-editor-input")))),a.Fz(this.Pb,this.td),this.xl());this.Ra&&this.Ra.tagName&&"TEXTAREA"===this.Ra.tagName&&!this.qF&&new z.Ur(this.Ra);this.Ap()};z.e.ready=function(a){this.kF.done(a)};
z.e.Ap=function(){this.o().g(this.hc,"click",this.Va);this.Bv&&Tv(this);Sv(this);this.kF.resolveWith(this)};z.e.xl=function(){this.hc=z.O("div","zm-command",[this.Jr=z.O("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"取消"),this.Qn=z.O("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"保存")]);this.Pb.appendChild(this.hc)};
z.e.fe=function(){this.Zr&&z.W.remove(this.h,this.Zr);"editing"===this.status?(this.fc&&z.Q(this.fc,!1),this.Pb&&z.Q(this.Pb,!0),z.Q(this.td,!1),this.Zr="zm-editable-status-editing"):(this.fc&&(!this.HH||this.content||this.disabled?z.Q(this.fc,!1):z.Q(this.fc,!0)),this.Pb&&z.Q(this.Pb,!1),this.content?z.Q(this.td,!0):z.Q(this.td,!1),this.Zr="zm-editable-status-normal");z.W.add(this.h,this.Zr)};z.e.Gg=function(){this.zs||(this.init(),this.ready(function(){this.status="editing";this.fe();this.gq()}))};
z.e.gq=function(){if(this.Yp)this.zs=!0,this.fy();else{var a=this.Ra,b;b=to(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");a.value=b}};z.e.oG=function(){var a=[];this.disabled||a.push('\x3ca href\x3d"javascript:;" class\x3d"zu-edit-button" name\x3d"edit"\x3e\x3ci class\x3d"zu-edit-button-icon"\x3e\x3c/i\x3e修改\x3c/a\x3e');return a.join("")};
z.e.fy=function(){this.zs||(this.zs=!0,z.up(this.jW+"?id\x3d"+this.Yp,(0,z.t)(function(a){this.zs=!1;a=z.Tn(a.target);a.r?z.X.message(a.msg):this.Zu(a.msg)},this),"GET"))};z.e.Zu=function(a){this.Ra.value=a};z.y(z.Vv,z.Rv);z.e=z.Vv.prototype;z.e.Zu=function(a){this.Qd?z.Vv.v.Zu.call(this,a):(a||(a=z.C?"":"\x3cdiv\x3e\x3c/div\x3e"),this.Ra.Yd(!1,a,!0))};z.e.gq=function(){this.ready(function(){this.Yp?this.fy():this.Qd?z.Vv.v.gq.call(this):this.content?this.Ra.Yd(!1,this.content,!1,!0):this.Ra.Yd(!1,z.E?"\x3cdiv\x3e\x3cbr\x3e\x3c/div\x3e":"\x3cdiv\x3e\x3c/div\x3e",!1,!0)})};z.e.D=function(){z.Bc(this.Ra);z.P(this.Pb);this.Uq=this.oD=this.vg=this.Hl=this.vC=this.Fj=this.Pb=null;z.Vv.v.D.call(this)};
z.e.kf=function(){if(this.Qd)z.Vv.v.kf.call(this);else{var a=this.K();this.Pb=a.B("div","zm-editable-editor-wrap",this.Fj=a.B("div","zm-editable-editor-outer",[this.vC=a.B("div","zm-editable-toolbar-container"),this.Hl=a.B("div","zm-editable-editor-field-wrap",this.vg=a.B("div",{id:this.BT,className:"zm-editable-editor-field-element"}))]));this.oD=(0,window.$)(this.vC);this.Uq=(0,window.$)(this.Pb);this.Uq.hide();a.Fz(this.Pb,this.td);this.Yp||(this.vg.innerHTML=this.content);a={loremIpsum_:this.gA,
enableFullScreen:this.Px,content:this.content,useScraper_:this.jY,canUploadMedia_:this.Xw,useRemoveFormat_:this.NL};this.xl();yv.aa().kf(this.Pb,a,(0,z.t)(this.Ap,this));z.Vj||(this.Ig=new wv(null,this.Fj),this.Ig.w(this.vC),z.rv(this.Ig,!1),z.sv(this.Ig),z.zc(this,this.Ig))}};z.e.Ap=function(a,b){if(this.Qd)z.Vv.v.Ap.call(this);else{this.Ra=a;this.Uq.show();z.Vv.v.Ap.call(this);Wv(this,a,b);var c=a.Wb.CodePlugin;c&&(c.SW(b),c.Qg())}};
z.e.Gg=function(){z.Vv.v.Gg.call(this);this.ready(function(){this.Qd||this.FP||(this.FP=!0,z.kd(this.Ra,"load",function(){var a=this.Ra,b=a.Wb.FullScreenPlugin;z.C&&(a=a.Ja);z.G(a,["focus","blur"],function(a){b&&z.W.has(window.document.body,b.J.no)||Xv(this,"focus"===a.type)},!1,this)},!1,this),this.Ra.te())})};z.e.kg=function(){if(this.Qd)return z.Vv.v.kg.call(this);var a=this.Ra;return Mr(a.m(),!0)?"":a.Sl()};z.e.fe=function(){z.Vv.v.fe.call(this);this.Ig&&z.rv(this.Ig,"editing"===this.status)};z.y(z.Zv,z.V);z.ka(z.Zv);
var xG='\x3cdiv class\x3d"zh-add-question-form"\x3e\n  \x3cdiv class\x3d"js-add-question-splash add-question-splash-page" \x3e\n    \x3cp\x3e\n      知乎是一个真诚、友善、认真、互助的社区\x3cbr\x3e\n      我们希望每一个疑惑都有解答，好的问题更容易得到好答案 \x3ca href\x3d"//www.zhihu.com/question/19555761"\x3e如何提一个好问题？\x3c/a\x3e\n    \x3c/p\x3e\n    \x3cp\x3e\n      \x3cb\x3e提问应遵循真实、客观、简洁、明确、规范的原则\x3c/b\x3e\x3cbr\x3e\n      1、提问应尽可能简洁明了，避免「请问」「有谁知道」「谢谢！」等与问题本身无关的附加语。\x3cbr\x3e\n      2、应避免使用「为神马」「童鞋」「肿么办」等网络用语。\x3cbr\x3e\n      3、基于个人判断或传言的问题，在提问时应在补充说明里详细说明原由\x3cbr\x3e\n      4、避免太宽泛问题，如调查性的问题容易变成每个人都可以发表观点，但对其他人没有价值。\x3cbr\x3e\n    \x3c/p\x3e\n    \x3cp\x3e\n      \x3cb\x3e知乎禁止这些提问\x3c/b\x3e\x3cbr\x3e\n      1、和已有问题完全重复的问题，\x3cb\x3e为避免重复，提问前可以先进行搜索\x3c/b\x3e\x3cbr\x3e\n      2、招聘 / 求职、交易 / 合作、寻人 / 征友、召集 / 赠送、求码类内容\x3cbr\x3e\n      3、投票类问题。例如：你支持方舟子还是韩寒？\x3cbr\x3e\n      4、作业或其他希望代为完成个人任务类的内容，以及针对个人具体病情的求医问药类问题\x3cbr\x3e\n      完整的提问建议可查看 \x3ca href\x3d"//www.zhihu.com/question/19806261"\x3e知乎的提问规范有哪些？\x3c/a\x3e\x3cbr\x3e\n    \x3c/p\x3e\n    \x3cdiv class\x3d"before-ask-form"\x3e\n      \x3cb\x3e提问前请先搜索\x3c/b\x3e\n      \x3cdiv style\x3d"position:relative;margin-top:18px;"\x3e\n        \x3cinput type\x3d"text" class\x3d"zg-form-text-input" id\x3d"js-before-ask" placeholder\x3d"请输入你的问题"\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cform class\x3d"js-add-question-form"\x3e\n    \x3cdiv class\x3d"zg-section-big clearfix"\x3e\n      \x3cdiv id\x3d"zm-modal-dialog-info-wrapper"\x3e\x3c/div\x3e\n      \x3cdiv style\x3d"display: none;position: relative;" id\x3d"zm-modal-dialog-warnmsg-wrapper"\x3e\x3cdiv class\x3d"zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"\x3e\x3c/div\x3e\n        \x3ca name\x3d"close" title\x3d"关闭" href\x3d"javascript:;" class\x3d"zu-global-notify-close"  style\x3d"display:none"\x3ex\x3c/a\x3e\n        \x3cspan class\x3d"zm-modal-dialog-guide-title-msg"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"zg-form-text-input add-question-title-form" style\x3d"position: relative;"\x3e\n        \x3ctextarea rows\x3d"1" class\x3d"zg-editor-input" title\x3d"在这里输入问题" id\x3d"zh-question-suggest-title-content"\x3e\x3c/textarea\x3e\n      \x3c/div\x3e\n      \x3cspan id\x3d"js-title-length-err-msg" class\x3d"title-length-err-msg zg-right"\x3e\x3c/span\x3e\n      \x3cdiv id\x3d"zh-question-suggest-ac-wrap" class\x3d"question-suggest-ac-wrap"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"zg-section-big"\x3e\n      \x3cdiv style\x3d"display: none;position: relative;" class\x3d"zm-modal-dialog-warnmsg-wrapper"\x3e\n        \x3cdiv class\x3d"zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"\x3e\x3c/div\x3e\n        \x3ca name\x3d"close" title\x3d"关闭" href\x3d"javascript:;" class\x3d"zu-global-notify-close" style\x3d"display:none"\x3ex\x3c/a\x3e\n        \x3cspan class\x3d"zm-modal-dialog-guide-title-msg"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"add-question-section-title"\x3e\n        \x3cspan class\x3d"zg-right extra-editor-toolbar hidden-phone"\x3e\n          \x3cdiv class\x3d"js-toggle-editor-toolbar"\x3e\x3ci class\x3d"tr-inline-icon z-ico-textedit"\x3e\x3c/i\x3e\x3c/div\x3e\n          \x3cdiv class\x3d"js-editor-add-pic"\x3e\x3ci class\x3d"tr-inline-icon tr-image"\x3e\x3c/i\x3e\x3c/div\x3e\n          \x3cdiv class\x3d"js-editor-add-video"\x3e\x3ci class\x3d"tr-inline-icon tr-video"\x3e\x3c/i\x3e\x3c/div\x3e\n        \x3c/span\x3e\n        问题说明（可选）：\n        \x3cspan id\x3d"zh-question-form-detail-err"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv id\x3d"zh-question-suggest-detail-container"\x3e\n        \x3cdiv class\x3d"zm-editable-content" data-disabled\x3d"1"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"zm-add-question-form-topic-wrap"\x3e\n      \x3cdiv class\x3d"add-question-section-title"\x3e\n        \x3cspan class\x3d"zg-gray zg-right hidden-phone"\x3e话题越精准，越容易让相关领域专业人士看到你的问题\x3c/span\x3e\n        选择话题：\n        \x3cspan id\x3d"zh-question-form-tag-err"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv id\x3d"zh-question-suggest-topic-container" class\x3d"zm-tag-editor zg-section"\x3e\n        \x3cdiv class\x3d"zm-tag-editor-labels"\x3e\x3c/div\x3e\n        \x3cdiv id\x3d"zh-question-suggest-autocomplete-container"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"zm-command"\x3e\n      '+(z.T.gd?
"":'\x3clabel class\x3d"zm-question-form-hide-in-about-question-el zg-left"\x3e\n        \x3cinput type\x3d"checkbox" value\x3d"1" class\x3d"zg-addq-isanon"\x3e匿名\n      \x3c/label\x3e')+'\n      \x3ca href\x3d"javascript:;" name\x3d"cancel" class\x3d"zm-command-cancel"\x3e取消\x3c/a\x3e\n      \x3ca href\x3d"javascript:;" name\x3d"addq" class\x3d"zg-r5px zu-question-form-add zg-btn-blue"\x3e发布\x3c/a\x3e\n      \x3ca name\x3d"jumpq" class\x3d"zg-r5px zg-btn-blue zu-question-form-jump" style\x3d"display:none;"\x3e查看问题\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/form\x3e\n\x3c/div\x3e',
bw=z.Fm.create("AddQuestionForm"+z.T.ug);z.e=z.Zv.prototype;
z.e.C=function(){z.Zv.v.C.call(this);var a=z.Xe((0,z.$a)(xG));this.T().appendChild(a);this.Nc=z.So("zg-editor-input",this.h)[0];this.ql=z.N("zu-question-form-add",this.h);this.Fn=z.N("zu-question-form-jump",this.h);this.uk=z.L("zm-modal-dialog-warnmsg-wrapper");this.Gt=z.L("js-title-length-err-msg");this.jB=z.N("zm-modal-dialog-warnmsg-wrapper",this.h);this.pF=z.L("zh-question-form-detail-err");this.jC=z.L("zh-question-form-tag-err");this.KO=z.N("zu-global-notify-close",this.uk);this.NX=z.N("zu-global-notify-close",
this.jB);this.jS=z.L("zm-modal-dialog-info-wrapper");this.Yt=z.N("zm-modal-dialog-warnmsg",this.uk);z.N("zm-modal-dialog-warnmsg",this.jB);this.AE=z.N("zg-addq-isanon",this.h);this.HX=z.N("js-toggle-editor-toolbar",this.h);this.sN=z.N("js-editor-add-pic",this.h);this.wN=z.N("js-editor-add-video",this.h);this.jX=z.N("js-add-question-splash",this.h);this.rI=z.N("js-add-question-form",this.h);this.mE=z.L("js-before-ask");this.qP=z.L("zh-question-suggest-detail-container");this.MX=z.L("zh-question-suggest-topic-container");
this.rz();this.uA?(fw(this,!0),this.pz()):(this.Mo(),fw(this,!1));z.T.gd&&tw(this)};z.e.gl=z.m(31);z.e.show=z.Lq(function(a){this.J=window.$.extend({bn:null,xk:null},a||{});this.G(!0)},!0,"#ask");z.e.wm=function(){z.Zv.v.wm.call(this);this.J={}};z.e.rz=function(){this.Sa("提问");z.Uj(this,550);z.Mj(this,null);this.R=(0,window.$)(this.h);this.R.addClass("absolute-position");this.G(!0);this.ha()};z.e.Mo=z.Rj(function(){hw(this);this.cc();aw(this)});z.e.Fq={};z.e.Fq.ZJ='\x3c% forEach(questions, function(q, i) { q \x3d q.data; %\x3e\x3cdiv class\x3d"ac-row" data-url_token\x3d"\x3c%\x3dq.url_token%\x3e" data-answer_count\x3d"\x3c%\x3dq.answer_count%\x3e"\x3e\x3c% if (q.is_star) { %\x3e\x3ca class\x3d"zg-star" data-tooltip\x3d"s$b$优质问答" href\x3d"/question/\x3c%\x3dq.url_token%\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"zippy-indicator"\x3e\x3ci\x3e\x3c/i\x3e\x3c/a\x3e\x3ca style\x3d"color:#222" href\x3d"/question/\x3c%\x3dq.url_token%\x3e?q\x3d\x3c%\x3d token %\x3e"\x3e\x3c%\x3dq.title%\x3e\x3c/a\x3e \x3cspan class\x3d"zm-ac-gray"\x3e\x3c%\x3d parseInt(q.answer_count) \x3e 0 ? q.answer_count + " 个回答" : "还没有回答" %\x3e \x3c/span\x3e\x3c/div\x3e\x3c% }) %\x3e';
z.e.Fq.WN='\x3c% forEach(answers, function(a, i) { %\x3e\x3cdiv class\x3d"zippy-row"\x3e\x3cdiv class\x3d"summary-item"\x3e\x3ca class\x3d"inline-block zm-item-vote-count" href\x3d"/question/\x3c%\x3dquestion_url_token%\x3e/answer/\x3c%\x3da.url_token%\x3e"\x3e\x3c%\x3da.vote_count%\x3e\x3c/a\x3e\x3c% if (a.author.url_token) { %\x3e\x3ca class\x3d"inline-block" href\x3d"/people/\x3c%\x3da.author.url_token%\x3e"\x3e\x3cspan class\x3d"author"\x3e\x3c%-a.author.name%\x3e\x3c/span\x3e \x3c/a\x3e\x3c% } else { %\x3e\x3cspan class\x3d"inline-block anon-author"\x3e\x3c%-a.author.name%\x3e\x3c/span\x3e \x3c% } %\x3e\x3cspan class\x3d"inline-block summary ellipsis"\x3e\x3c%\x3da.summary_text%\x3e\x3c/span\x3e\x3ca class\x3d"inline-block" href\x3d"/question/\x3c%\x3dquestion_url_token%\x3e/answer/\x3c%\x3da.url_token%\x3e"\x3e阅读全部 »\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c% }) %\x3e';
z.e.pz=function(){function a(){fw(b,!1);b.Nc.value=d.value}var b=this,c=(0,z.ew)(this.Fq.ZJ),d=this.mE,f=new Ys;this.kN=new z.Xs(d,{source:"/question/autocomplete",Pi:d.offsetParent,kd:function(){},render:function(b,f,k){b=(0,window.$)(b.m());b.html(c({forEach:z.A,questions:k,token:(0,window.encodeURIComponent)(this.bc)}));0<k.length&&b.prepend('\x3cdiv class\x3d"ac-row ac-first"\x3e\x3cb\x3e你想问的是不是：\x3c/b\x3e\x3c/div\x3e').append((0,window.$)('\x3cdiv class\x3d"ac-row ac-last iwanttoask"\x3e\x3ca href\x3d"#"\x3e不是，我要提一个新问题 »\x3c/a\x3e\x3c/div\x3e'));
0===k.length&&d.value&&(b.html('\x3cdiv class\x3d"ac-row ac-last iwanttoask"\x3e\x3ca href\x3d"#"\x3e没有找到相关问题，马上提问 »\x3c/a\x3e\x3c/div\x3e').show(),k.push("fake row"));b.off("click").on("click",".iwanttoask",a)},Ez:f});this.kN.yn=!1};z.e.resetForm=function(){this.Nc.value="";this.Ka&&this.Ka.Av();this.uk&&z.Q(this.uk,!1);this.Ka.reset()};
z.e.cc=function(){this.o().g(this.h,"click",this.BQ);this.aT&&this.aT.w(this.Nc);this.$J=new z.Ur(this.Nc);this.o().g(this.$J,"change",this.wJ);this.o().g(this.KO,"click",function(){z.Q(this.uk,!1);z.Q(this.jS,!0)});this.o().g(this.NX,"click",function(){z.Q(this.jB,!1)});this.o().g(this,"afterhide",function(){lw(this)});kw(this)};z.e.BQ=function(a){if(a=z.Gr(this.h,a.target))switch(a=a.name,a){case "expand":z.W.add(this.h,"zg-qform-expanded");break;default:this.Qs(a)}};
z.e.xk=function(){var a=z.Tn(this.xhr);if(!a)return jw(this,!1),z.X.message("网络异常");if(a.r){if(281===a.errcode){var b=new pw;b.Me=a.msg;b.level=3;mw(this,b,!0)}else z.X.message(a.msg);jw(this,!1)}else z.Rh.set("__Q_ISNEWLYCREATED__","yep"),bw.clear(),(0,window.$)(window).off("beforeunload.AddQuestionForm"),a=a.msg,b=a.match(/\/question\/(\d+)/)[1],this.J.xk?this.J.xk({url:a,fb:b}):window.location.href=a};
z.e.Qs=function(a){if("cancel"===a)this.G(!1);else if("addq"===a){a=qw(this);var b=nw(this);if(!(1<b.level||1<a.level)){var c=rw(this),d=new pw;3E3<Ir(c)?(d.level=3,d.Me="请控制在 3000 字以下"):d.level=0;c=1<d.level;this.pF.innerHTML=d.Me;z.Q(this.pF,c);iw(this,c,"detail");this.tJ()}iw(this,1<b.level||1<a.level,"title");this.tF?mw(this,1<a.level?a:b,!0):(0,window.$)(this.ql).attr("disabled")||(jw(this,!0),this.xhr=new z.Z(!0),this.o().Aa(this.xhr,"success",this.xk),this.xhr.ajax("/question/add",sw(this).pe()),
this.Ka.trackEvent())}};z.e.wJ=function(){var a=qw(this),b=nw(this);"toolong"===a.name||"buffer"===a.name?(this.Gt.innerHTML=a.Me,z.Q(this.Gt,!0)):(this.Gt.innerHTML=a.Me,z.Q(this.Gt,!1));"multiquestionmark"===b.name||"duplicatedquestion"===b.name?mw(this,b,!0):mw(this,b,!1);iw(this,1<b.level,"title")};z.e.tJ=function(){var a=!1;1>this.Ka.data.length?(a=!0,this.jC.innerHTML="至少添加一个话题"):5<this.Ka.data.length&&(a=!0,this.jC.innerHTML="最多添加五个话题");z.Q(this.jC,a);iw(this,a,"topic")};
z.e.eU=function(){this.Ub&&Yv(this.Ub)};uw.prototype.init=function(){var a=(0,window.$)("#zh-question-related-questions");if(a.length){var b=(0,window.$)("li",a),c=function(a,b,c){var h=1,k=Math.ceil(a.length/b);return{next:function(){1!==k&&(h=h===k?1:h+1,c(h))},aP:function(){var c=(h-1)*b;return a.slice(c,c+b)}}}(b,5,function(){b.attr("hidden","true");c.aP().removeAttr("hidden")});(0,window.$)(".next",a).click(function(){c.next();z.U("question_answer","click_sidebarrelatedquestions_pager")});b.each(function(a,b){z.yo(b,{module:"QuestionItem"},
function(){return{card:{card_type:"Content",content:{type:"Question",id:b.getAttribute("data-id")}}}})})}};z.n(z.vw,z.Dk);z.vw.prototype.B=function(){z.Dk.prototype.B.call(this);this.ea((0,window.$)(".phone-verification-template").html())};z.vw.prototype.C=function(){z.Dk.prototype.C.call(this);var a=(0,window.$)(".view.verification",this.Wc),b=new z.Vk(this.mo);this.L(b);b.md(this.Sf);b.w(a[0])};z.n(ww,z.R);ww.prototype.C=function(){z.R.prototype.C.call(this);this.ff()};
ww.prototype.ff=function(){var a=this,b=this.m();this.kn=(0,window.$)(".SignFlow-panel",b);this.kn.on("click",".switch-to-login",function(){a.kn.filter(":visible").attr("hidden",!0).siblings().removeAttr("hidden");a.ma({category:"sign_in",action:"switch_to_sign_in_box_appear"})});var c=(0,window.$)(".LoginForm",b)[0],d=new z.Rk({mn:z.Sk});d.md(this.Sf);d.w(c);b=(0,window.$)(".SignupForm",b)[0];c=new z.Uk;c.md(this.Sf);c.w(b);c.g("success",function(b){b=new z.vw(b.data);b.Jb(a);b.G(!0)})};
z.Ba(ww.prototype,z.$m);z.n(xw,z.nk);xw.prototype.C=function(){z.nk.prototype.C.call(this);z.Uj(this,310)};xw.prototype.B=function(){z.nk.prototype.B.call(this);this.ea('\x3cp class\x3d"title DownloadAppDialog-title"\x3e扫描二维码下载知乎 App\x3c/p\x3e\n  \x3cdiv class\x3d"DownloadAppDialog-QRCode"\x3e\x3c/div\x3e')};z.n(yw,z.V);yw.prototype.C=function(){z.V.prototype.C.call(this);this.Sa("下载知乎客户端");z.Uj(this,310);this.Ye(!0)};yw.prototype.B=function(){z.V.prototype.B.call(this);this.ea('\x3cp class\x3d"title DownloadAppDialog-title"\x3e扫描二维码下载知乎 App\x3c/p\x3e\n  \x3cdiv class\x3d"DownloadAppDialog-QRCode"\x3e\x3c/div\x3e')};zw.prototype.init=function(){this.yz();Aw();Bw();Cw(this)};zw.prototype.yz=function(){var a=(0,window.$)("#SidebarSignFlow")[0];if(a){var b=function(b){var d=(0,window.$)(".account",a);b||d.attr("name","account").attr("aria-label","手机号或邮箱").attr("data-placeholder","手机号或邮箱");(0,window.$)("[data-placeholder]",a).attr("placeholder",function(){return(0,window.$)(this).attr("data-placeholder")})};window.$.get("/register/is_domestic").then(function(c){b(c.value);c=new ww;c.md("sidebar_signflow");c.w(a)})}};z.n(Dw,z.R);
Dw.prototype.C=function(){var a=this;z.R.prototype.C.call(this);var b=this.m(),c=(0,window.$)(b),d=c.find(".shameimaru-link"),f=c.find(".shameimaru-close"),g=c.find(".shameimaru-pixel"),h=c.data("track"),k=z.Uo(h,"at","view"),l=z.Uo(h,"at","close");z.yo(this,{module:"AdItem"},function(){return{card:{card_type:"Content",content:[z.Fw(h)]}}});z.In(b,function(){(0,z.Im)(a,{element:"Image"});z.Ew(k)});d.one("click",function(){var a=d.attr("href");d.attr("href",z.Uo(a,"click",1))});g.on("load",function(){(0,z.Ni)(a,
{element:"Image",action:"Load"})});f.one("click",function(b){b.preventDefault();z.Ew(l);(0,z.Ni)(a,{element:"Button",action:"Ignore"});c.fadeOut(500,function(){return c.remove()});a.H()})};z.n(Iw,z.R);Iw.prototype.init=function(){var a=(0,window.$)(".AppPromotionBar");this.Uf=a;var b=this;if(a.length&&(0,window.$)("html").hasClass("is-AppPromotionBarVisible"))a.on("click",".AppPromotionBar-closeButton, .AppPromotionBar-downloadButton",function(){(0,window.$)(this).hasClass("AppPromotionBar-downloadButton")?z.U("app-promotion","click_mobileweb_app_dl_bar_download_btn"):z.U("app-promotion","click_mobileweb_app_dl_bar_close_btn");z.Rh.set("hideAppPromotionBar","true");Jw(b)})};var Mw;z.n(Pw,z.R);z.e=Pw.prototype;z.e.init=function(){var a=window.document.querySelector(".js-WechatLoginIntro");a&&this.w(a)};z.e.C=function(){z.R.prototype.C.call(this);this.h.querySelector(".js-login").addEventListener("click",this.OR.bind(this));this.h.querySelector(".js-other").addEventListener("click",this.uR.bind(this));this.h.querySelector(".js-close").addEventListener("click",this.close.bind(this));z.yi({action:"show",category:"wechat-login-intro"})};
z.e.OR=function(){z.yi({category:"wechat_login_intro",action:"click_main"})};z.e.uR=function(){(new z.Sk).show();z.yi({category:"wechat_login_intro",action:"click_other"})};z.e.close=function(){this.h.parentNode.removeChild(this.h);window.$.post("/intro/wechat/uninterest");z.yi({category:"wechat_login_intro",action:"close"})};z.ka(Qw);var Sw=z.Fm.create("Report"+z.T.ug);Qw.prototype.dN='\x3cdiv id\x3d"zh-feedback-form"\x3e\x3cselect name\x3d"type" class\x3d"zg-editor-type zg-right"\x3e\x3coption value\x3d"help"\x3e使用帮助 \x3c/option\x3e\x3coption value\x3d"bug"\x3e问题反馈\x3c/option\x3e\x3coption value\x3d"search_suggest"\x3e搜索反馈\x3c/option\x3e\x3coption value\x3d"suggest"\x3e功能建议\x3c/option\x3e\x3c/select\x3e\x3cdiv class\x3d"zg-report-title"\x3e\x3cspan class\x3d"zg-gray-darker"\x3e请填写你的反馈内容\x3c/span\x3e\x3cspan class\x3d"zg-report-msg" style\x3d"display:none;"\x3e请选择反馈种类：\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"zg-editor-simple-wrap zg-form-text-input zg-report-content"\x3e\x3ctextarea class\x3d"zg-editor-input" name\x3d"content"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/div\x3e';
Qw.prototype.defaults={title:"建议和反馈"};Qw.prototype.ff=function(a){var b=(0,window.$)("#zh-feedback-form"),c=(0,window.$)("select",b),b=(0,window.$)("textarea",b);new z.Ur(b[0]);c.toggle(!a.type);b.html(Sw.get("content")||"");b.on("input change",function(){Sw.set("content",this.value)})};Qw.prototype.create=function(a){var b=window.$.extend(this.defaults,a||{});z.X.confirm(b.title,this.dN,function(a){if(a)return Rw(b)},this);this.ff(b)};var yG,AG;
AG={"rt:button":function(){(0,z.zG)(this,"roundtable",null,["zg-btn-follow","zg-btn-unfollow"])},"rt:link":function(){(0,z.zG)(this,"roundtable",null,null,{follow_text:"关注圆桌"})},"c:link":function(){(0,z.zG)(this,"column",null,null,{follow_text:"关注专栏"})},"c:button":function(){(0,z.zG)(this,"column",null,["zg-btn-follow","zg-btn-unfollow"])},"q:link":function(){(0,z.zG)(this,"question",null,null,{follow_text:"关注问题"})},"m:link":function(){var a=this.getAttribute("data-follow_text");(0,z.zG)(this,"people",
null,null,a?{follow_text:a}:{})},"t:link":function(){(0,z.zG)(this,"topic",null,null,{follow_text:"关注话题"})},"t:link:simple":function(){(0,z.zG)(this,"topic")},"m:button":function(){var a=this;(0,z.zG)(a,"people",function(){a.getAttribute("data-followme")&&(z.W.has(a,"zg-btn-follow")?a.setAttribute("data-tooltip","s$b$对方已关注你"):a.setAttribute("data-tooltip","s$b$已互相关注"))},["zg-btn-follow","zg-btn-unfollow"])},"q:fi:button":function(){var a=this;(0,z.zG)(a,"question",function(b){(0,window.$)(".label",
a).text(b?"取消关注":"关注");var c=(0,window.$)(".count",a);b=Number(c.data("count"))+(b?1:-1);c.length&&(b=Math.max(b,0),c.text("（"+b+"）").data("count",b))},["unfollowing","following"])},"q:m:button":function(){(0,z.zG)(this,"question",null,["zg-btn-green","zg-btn-white"],{follow_text:"关注问题"})},"f:button":function(){(0,z.zG)(this,"favlist",null,["zg-btn-follow","zg-btn-unfollow"])},"f:link":function(){(0,z.zG)(this,"favlist",null,null,{follow_text:"关注收藏夹"})},"t:button":function(){(0,z.zG)(this,"topic",
null,["zg-btn-follow","zg-btn-unfollow"])}};
z.zG=z.Lq(function(a,b,c,d,f){function g(a){a.r?z.X.message(a.msg):h(p)}function h(b){b?(z.W.rw(a,k,l),rr(a,f.unfollow_text||"取消关注")):(z.W.rw(a,l,k),rr(a,f.follow_text||"关注"+((0,window.$)(a).data("gender")||"")));z.qa(c)&&c(b)}yG&&"pending"===yG.state()&&yG.abort();f=f||{};b=b||a.getAttribute("data-focustype");d=d||["zg-follow","zg-unfollow"];var k=d[0],l=d[1],p=z.W.has(a,k);z.Y.yb({type:"ga_click_follow",target:a,data:{type:b,jk:p}});d={roundtable:Uw,column:Tw,people:pt,question:qt,topic:st,favlist:rt}[b];
var r=a.getAttribute("data-id")||a.id.match(/-(.*)/)[1];d&&(d=d(r,p),"people"===b&&p?d.done(g):h(p),yG=d,(0,z.Ni)(a,{action:p?"Follow":"UnFollow",element:"Button"}))});z.y(Vw,z.I);var Zw=["group","key","name"];Xw.prototype.defaults={rP:"帮助信息",Hx:"shortcut-tips-dialog"};Xw.prototype.nc=function(){z.xl(z.dn.register("shift+/",this.show,this),{group:"导航",name:"帮助",key:"?"})};Xw.prototype.show=function(){var a=this.J;z.X.alert({title:a.rP,content:dx(),className:a.Hx})};var fx=z.jk(function(a){var b=z.um["ra-urls"],c=b&&b[a];return c?new window.Promise(function(b){window.$.ajax({url:c,dataType:"script",cache:!0}).then(function(){b(window.ra[a])})}):window.Promise.reject(Error("Missing react app name: "+a))});var ix=[];z.Ep.on("init",function(){function a(){var b=ix.shift();b&&(b=b[0],b.length?b(a):(b(),a()))}a()});z.Ep.on("init",function(){(0,window.$)("img.lazy").attr("data-lazyloaded","").lazyload({load:function(){(0,window.$)(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})});z.Ep.on("init",function(){z.T.eo&&z.Rh.set("lastuser:email",z.T.eo)});hx(function(a){z.T.gd||new Fp({xk:a})},0);
hx(function(){"#ask"===window.location.hash&&(z.Zv.aa().show(),window.history.replaceState?window.history.replaceState(null,window.document.title,window.location.pathname+window.location.search):window.location.hash="")},window.Infinity);z.Ep.on("init",function(){(new uw).init()});z.Ep.on("init",function(){(new zw).init()});z.Ep.on("init",function(){Hw()});z.Ep.on("init",function(){(new Iw).init()});z.Ep.on("init",function(){Lw()});z.Ep.on("init",function(){z.eh()});z.Ep.on("init",function(){return(new Pw).init()});
z.Ep.on("init",function(){z.Ui()});z.Ep.on("postinit",function(){(0,window.$)("#js-feedback-button").click(function(){Qw.aa().create()})});z.Ep.on("init",function(){(0,window.$)(window.document.body).on("click.follow","[data-follow]",function(){if(this.name)return Kr("未清除的 name 属性:",this);var a=this.getAttribute("data-follow");(a=a&&AG[a])&&a.call(this)})});z.Ep.on("postinit",function(){window.FastClick&&!z.zm&&window.FastClick.attach(window.document.body)});
z.Ep.on("postinit",function(){if(z.T.Lb())if(window.WebSocket){var a;a=-1!==z.tm.Nn.indexOf("https")?z.tm.Nn.replace("https","wss"):z.tm.Nn.replace("http","ws");(new Vw(a)).addEventListener("message",function(a){Mn(z.Y,JSON.parse(a.data.replace(/^\+;/,"")))})}else a=new zq({url:z.gm,data:{loc:window.location.href,channel:(0,z.J)()+Wn()},dataType:"polling",converters:{"text polling":function(a){return JSON.parse(a.replace(/^\+;/,""))}}}),a.addEventListener("message",function(a){Mn(z.Y,a.data)}),a.vu()});
z.Ep.on("init",function(){new Xw;z.Bl.prototype.defaults.offsetTop=-60;var a=(0,window.$)('div[data-widget\x3d"navigable"], ul[data-widget\x3d"navigable"]');if(1===a.length){var b=a.data("navigable-options"),b=new z.Bl(b);b.w(a.get(0));var c=(0,window.$)("#zh-load-more");b.on("action",function(a){a.data.index>=a.data.size&&c.is(":visible")&&c[0].click()})}});z.Ep.on("init",function(){(0,window.$)(window.document).on("click",'a[href\x3d"#"]',function(a){a.preventDefault()})});
z.Ep.on("postinit",function(){var a=window.location.pathname;z.T.Lb()&&"/"===a||/^\/(question|explore|collection|topic|people|search|roundtable\/)/.test(a)?z.ex("CommentApp"):/^\/copyright(\/|$)/.test(a)&&z.ex("Copyright")});
z.Ep.on("postinit",function(){(0,window.$)(".js-openProfilePage").on("click",function(){var a=(0,window.$)(this).attr("data-url"),a=(0,window.$)("\x3cform target\x3d'_blank' method\x3d'POST' style\x3d'display:none;'\x3e\x3c/form\x3e").attr({action:a}).appendTo(window.document.body);(0,window.$)('\x3cinput type\x3d"hidden" /\x3e').attr({name:"content",value:(0,window.$)("#performance-profile-data").text()}).appendTo(a);a.submit();a.remove()})});
z.Ep.on("init",function(){var a=z.hj.get("d_c0",""),b=new z.Z(!0);""===a&&b.ajax("/udid","","POST")});z.y(jx,Mq);jx.prototype.add=function(a){z.B(this.queue,a)||(this.queue.push(a),z.G(a,"finish",this.ZI,!1,this))};jx.prototype.remove=function(a){z.sb(this.queue,a)&&z.ld(a,"finish",this.ZI,!1,this)};jx.prototype.D=function(){z.A(this.queue,function(a){a.H()});this.queue.length=0;jx.v.D.call(this)};z.y(kx,jx);
kx.prototype.play=function(a){if(0==this.queue.length)return!1;if(a||this.M==Nq)this.gy=0,this.wg();else if(1==this.M)return!1;this.ud("play");-1==this.M&&this.ud("resume");var b=-1==this.M&&!a;this.startTime=(0,z.J)();this.endTime=null;this.M=1;z.A(this.queue,function(c){b&&-1!=c.M||c.play(a)});return!0};kx.prototype.pause=function(){1==this.M&&(z.A(this.queue,function(a){1==a.M&&a.pause()}),this.M=-1,this.ud("pause"))};
kx.prototype.stop=function(a){z.A(this.queue,function(b){b.M==Nq||b.stop(a)});this.M=Nq;this.endTime=(0,z.J)();this.ud("stop");this.xg()};kx.prototype.ZI=function(){this.gy++;this.gy==this.queue.length&&(this.endTime=(0,z.J)(),this.M=Nq,this.ud("finish"),this.xg())};z.y(ox,z.Yj);z.e=ox.prototype;z.e.init=function(){if(!z.sm("back_to_top")){this.h=z.Xe(this.wX);window.document.body.appendChild(this.h);var a=new z.gl(this.iu,this.zX,this);this.iL=(0,z.t)(a.fire,a);this.o().g(window,"resize",this.xJ);this.xJ()}};z.e.start=function(){this.Mk||(this.Mk=!0,this.o().g(window,"scroll",this.iL).g(this.h,"click",this.jE),this.iu())};z.e.stop=function(){this.Mk&&(this.Mk=!1,this.o().sa(window,"scroll",this.iL).sa(this.h,"click",this.jE),this.hide())};
z.e.xJ=function(){z.Pe().width>=this.AT?this.start():this.stop()};z.e.wX='\x3cdiv class\x3d"zh-backtotop" style\x3d"display:none"\x3e\x3ca data-action\x3d"backtotop" data-tooltip\x3d"s$r$回到顶部" href\x3d"javascript:;" class\x3d"btn-backtotop btn-action"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"stick"\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e';
z.e.jE=function(){var a=z.Re(window.document),b=z.Qe(window.document),c=b.x,b=b.y,d=new kx,f=this.o();d.add(new ir(a,[c,b],[0,0],this.yW,nx));d.add(new nr(this.h,this.dy,mx));f.g(d,"finish",this.fU);f.g(d,"begin",this.TT);d.play();z.Y.yb("ga_click_back_to_top");(0,z.Ni)(this,{action:"BackToTop",element:"Button"})};z.e.TT=function(){this.Bw=this.Eo=!0};z.e.fU=function(){this.Bw=!1};z.e.show=function(){(new or(this.h,this.dy,lx)).play();this.Eo=!1};
z.e.hide=function(){(new nr(this.h,this.dy,mx)).play();this.Eo=!0};z.e.iu=function(){this.Bw||(1200<=z.Qe(window.document).y?this.Eo&&this.show():this.Eo||this.hide())};px.prototype.link="想来知乎工作？请发送邮件到 jobs@zhihu.com";px.prototype.ZN="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";z.y(qx,z.Yj);z.BG=null;qx.prototype.init=function(){z.BG=this;z.rx(this)};qx.prototype.vU=function(){var a=z.Tn(this.wk);a&&!a.r&&Mn(z.Y,[a])};var tx=window.localStorage&&!z.Rh.nm()||z.vm&&(!z.zm||z.ym);z.y(z.ux,z.Yj);z.e=z.ux.prototype;z.e.defaults={sV:"pm",Iu:!1,kl:!0};z.e.Ih=function(a){this.h=a};z.e.m=function(){return this.h};z.e.rz=function(){this.La=new z.V(null);this.La.Sa("发送私信");z.Mj(this.La,null);this.La.Ye(!0);this.La.G(!0);this.h=this.La.T()};z.e.focus=function(){this.init();this.Ad.focus()};
z.e.init=function(){this.SR||(this.SR=!0,this.Nq&&(this.La||this.rz(),this.h.innerHTML='\x3cdiv class\x3d"zm-pm-wrap"\x3e\x3cdl class\x3d"zm-form-table zm-form-table-medium"\x3e\x3cdt class\x3d"zm-form-table-head zm-form-table-head-align-middle"\x3e\x3clabel class\x3d"zg-medium-gray"\x3e发给：\x3c/label\x3e\x3c/dt\x3e\x3cdd class\x3d"zm-form-table-field"\x3e\x3cdiv class\x3d"zm-pm-selector-wrap"\x3e\x3cdiv class\x3d"zg-user-name" style\x3d"display:none;padding:4px 0 0 0"\x3e\x3c/div\x3e\x3cinput class\x3d"zg-form-text-input zm-pm-user-selector" type\x3d"text" /\x3e\x3c/div\x3e\x3c/dd\x3e\x3cdt class\x3d"zm-form-table-head zm-form-table-head-align-middle"\x3e\x3clabel class\x3d"zg-medium-gray"\x3e内容：\x3c/label\x3e\x3c/dt\x3e\x3cdd class\x3d"zm-form-table-field zm-form-table-field-last"\x3e\x3cdiv class\x3d"zg-editor-simple-wrap zg-form-text-input"\x3e\x3ctextarea class\x3d"zg-editor-input" style\x3d"font-weight:normal"\x3e\x3c/textarea\x3e\x3c/div\x3e\x3c/dd\x3e\x3c/dl\x3e\x3cdiv class\x3d"zh-pm-warnmsg" style\x3d"display:none;text-align:right;color:#C3412F;"\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command zg-clear"\x3e\x3cdiv class\x3d"zm-item-meta zg-left" style\x3d"margin: 0 0 0 57px;"\x3e\x3cspan class\x3d"zg-text-counter" style\x3d"display:none"\x3e还可以输入 500 字\x3c/span\x3e\x3cspan class\x3d"additional-info" \x3e\x3c/span\x3e\x3c/div\x3e\x3ca name\x3d"cancel" href\x3d"javascript:;" class\x3d"zm-command-cancel"\x3e取消\x3c/a\x3e\x3ca name\x3d"send" href\x3d"javascript:;" class\x3d"zg-btn-blue zg-r3px" id\x3d"zh-question-pm-send-button"\x3e发送\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'),this.Sh=
z.N("zg-user-name",this.h),this.Ad=z.N("zg-editor-input",this.h),this.ld=z.N("zm-pm-user-selector",this.h),this.On=z.N("zm-command",this.h),z.N("zg-text-counter",this.h),this.Yt=z.N("zh-pm-warnmsg",this.h),(0,window.$)(".additional-info",(0,window.$)(this.h)),new z.Ur(this.Ad),this.o().g(this.On,"click",this.Va).g(this.Sh,"click",this.Va).g(this.Ad,"keydown",this.dR),this.ld&&((new z.kt("搜索用户")).w(this.ld),this.o().g(this.ld,"blur",this.yO),this.S=new z.yt("/people/autocomplete?type\x3d"+this.J.sV,
this.ld,null,null,z.N("zm-pm-wrap",this.h),!0),this.S.Eg(!0),this.o().g(this.S,"select",this.HU)),z.T.Ee||yx(this,"未激活用户，不能发送私信。请先激活邮箱。"))};z.e.dR=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.Zs(),a.preventDefault())};z.e.yO=function(){this.DE&&(0,window.clearTimeout)(this.DE);this.DE=(0,window.setTimeout)((0,z.t)(this.zO,this),200)};z.e.zO=function(){var a=z.ur(this.ld.value);-1===this.an&&a&&"搜索用户"!==a&&yx(this,"请输入对方姓名，从下拉菜单里选择收件人")};z.e.av=function(a){this.NW=a};
z.e.show=function(){this.init();this.Nq&&(this.La.G(!0),this.La.ha())};z.e.HU=function(){var a=z.xb(this.S.lg(),1);z.xx(this,a[3],a[0],!0)};z.e.Zs=function(){if(!this.oi||"pending"!==this.oi.state())if(-1===this.an)yx(this,"请填写收信人。");else{var a=this.Ad.value;(0,z.$a)(a)?(a=-1!==this.xq?window.$.post("/inbox/reply",{message_id:this.xq,content:a,type:this.mC}):window.$.post("/inbox/post",{member_id:this.an,content:a,token:this.NW}),a.done((0,z.t)(this.JU,this)),this.oi=a):yx(this,"请填写私信内容。")}};
z.e.Va=function(a){if(a=(a=this.eh(a.target))&&a.name)switch(a){case "edit":this.an=-1;z.xr(this.ld,this.Sh);break;case "cancel":this.Nq&&this.La.G(!1);break;case "send":this.Zs()}};z.e.JU=function(a){Jr("message","send_message");if(!a)return z.X.message("网络异常");if(a.r)return yx(this,a.msg);this.Nq&&this.La.G(!1);this.J.Iu?window.location.reload():z.X.message("发送成功")};zx.prototype.ha=function(){};z.y(z.Ax,zx);z.Ax.prototype.ha=function(a,b,c){z.Js(this.element,this.jf,a,b,void 0,c,this.lV)};z.y(Bx,zx);Bx.prototype.ha=function(a,b,c,d){z.Js(Xn(a),0,a,b,this.mi,c,null,d)};z.y(Cx,z.Nn);Cx.prototype.setPosition=function(a){this.xu=a||void 0;this.X()&&this.ha()};Cx.prototype.ha=function(){if(this.xu){var a=!this.X()&&"move_offscreen"!=this.Ci(),b=this.m();a&&(b.style.visibility="hidden",z.Q(b,!0));this.xu.ha(b,this.cB,this.jA);a&&z.Q(b,!1)}};z.y(z.Ex,Cx);var Mx=[];z.e=z.Ex.prototype;z.e.gc=null;z.e.className="goog-tooltip";z.e.lq=500;z.e.Fo=0;z.e.K=function(){return this.ca};z.e.attach=function(a){a=z.L(a);this.kb.add(a);z.G(a,"mouseover",this.yd,!1,this);z.G(a,"mouseout",this.cm,!1,this);z.G(a,"mousemove",this.am,!1,this);z.G(a,"focus",this.qe,!1,this);z.G(a,"blur",this.cm,!1,this)};z.e.detach=function(a){if(a)a=z.L(a),Fx(this,a),this.kb.remove(a);else{for(var b=this.kb.dd(),c=0;a=b[c];c++)Fx(this,a);this.kb.clear()}};z.e.xy=function(){return this.Fo};
z.e.Yd=function(a){a=z.Fd(a,null);var b=this.m();b&&z.Ee(b,a)};z.e.Ih=function(a){var b=this.m();b&&z.P(b);z.Ex.v.Ih.call(this,a);a?(b=this.ca.va().body,b.insertBefore(a,b.lastChild),z.Bc(this.Sk),this.Sk=new z.wj(this.m()),z.zc(this,this.Sk),z.G(this.Sk,"focusin",this.xj,void 0,this),z.G(this.Sk,"focusout",this.pq,void 0,this)):(z.Bc(this.Sk),this.Sk=null)};z.e.Sd=function(){return z.pf(this.m())};z.e.zy=z.m(40);z.e.getState=function(){return this.Tm?this.X()?4:1:this.gm?3:this.X()?2:0};
z.e.tt=function(a){if(!this.X())return!1;var b=z.Yn(this.m()),c=z.Ig(this.m());return b.x<=a.x&&a.x<=b.x+c.width&&b.y<=a.y&&a.y<=b.y+c.height};z.e.yp=function(){if(!z.Nn.prototype.yp.call(this))return!1;if(this.anchor)for(var a,b=0;a=Mx[b];b++)z.mf(a.m(),this.anchor)||a.G(!1);z.rb(Mx,this);a=this.m();a.className=this.className;this.xj();z.G(a,"mouseover",this.Yy,!1,this);z.G(a,"mouseout",this.SG,!1,this);Ox(this);return!0};
z.e.Ak=function(){z.sb(Mx,this);for(var a=this.m(),b,c=0;b=Mx[c];c++)b.anchor&&z.mf(a,b.anchor)&&b.G(!1);this.IJ&&this.IJ.pq();z.ld(a,"mouseover",this.Yy,!1,this);z.ld(a,"mouseout",this.SG,!1,this);this.anchor=void 0;0==this.getState()&&(this.Uu=!1);z.Nn.prototype.Ak.call(this)};z.e.lA=function(a,b){this.anchor==a&&this.kb.contains(this.anchor)&&(this.Uu||!this.h_?(this.G(!1),this.X()||(this.anchor=a,this.setPosition(b||Ix(this,0)),this.G(!0))):this.anchor=void 0);this.Tm=void 0};z.e.xi=function(){return this.kb};
z.e.Rl=function(){return this.gc};z.e.zI=function(a){this.gm=void 0;if(a==this.anchor){a=this.K();var b=a.Rl();a=b&&this.m()&&a.contains(this.m(),b);null!=this.gc&&(this.gc==this.m()||this.kb.contains(this.gc))||a||this.vl&&this.vl.gc||this.G(!1)}};z.e.yd=function(a){var b=Hx(this,a.target);this.gc=b;this.xj();b!=this.anchor&&(this.anchor=b,Nx(this,b),Lx(this),Gx(this,a))};z.e.am=function(a){Gx(this,a);this.Uu=!0};
z.e.qe=function(a){this.gc=a=Hx(this,a.target);this.Uu=!0;if(this.anchor!=a){this.anchor=a;var b=Ix(this,1);this.xj();Nx(this,a,b);Lx(this)}};z.e.cm=function(a){var b=Hx(this,a.target),c=Hx(this,a.relatedTarget);b!=c&&(b==this.gc&&(this.gc=null),Ox(this),this.Uu=!1,!this.X()||a.relatedTarget&&z.mf(this.m(),a.relatedTarget)?this.anchor=void 0:this.pq())};z.e.Yy=function(){var a=this.m();this.gc!=a&&(this.xj(),this.gc=a)};
z.e.SG=function(a){var b=this.m();this.gc!=b||a.relatedTarget&&z.mf(b,a.relatedTarget)||(this.gc=null,this.pq())};z.e.pq=function(){2==this.getState()&&(this.gm=z.ud((0,z.t)(this.zI,this,this.anchor),this.xy()))};z.e.xj=function(){this.gm&&(z.vd(this.gm),this.gm=void 0)};z.e.D=function(){this.G(!1);Ox(this);this.detach();this.m()&&z.P(this.m());this.gc=null;delete this.ca;z.Ex.v.D.call(this)};z.y(Jx,Bx);
Jx.prototype.ha=function(a,b,c){b=Xn(a);b=Fo(b);c=c?new z.qg(c.top+10,c.right,c.bottom,c.left+10):new z.qg(10,0,0,10);Ms(this.mi,a,4,c,b,9)&496&&Ms(this.mi,a,4,c,b,5)};z.y(Kx,z.Ax);Kx.prototype.ha=function(a,b,c){var d=new z.Fe(10,0);z.Js(this.element,this.jf,a,b,d,c,9)&496&&z.Js(this.element,2,a,1,d,c,5)};z.y(Px,z.Ex);z.e=Px.prototype;z.e.cP=!1;z.e.bP=100;z.e.Gq=!1;z.e.Bk=function(){Px.v.Bk.call(this);this.Gr=Rn(Co(this.m()));this.anchor&&(this.zw=Rn(Co(this.anchor)));this.Gq=this.cP;z.G(this.K().va(),"mousemove",this.am,!1,this)};z.e.Ak=function(){z.ld(this.K().va(),"mousemove",this.am,!1,this);this.zw=this.Gr=null;this.Gq=!1;Px.v.Ak.call(this)};
z.e.tt=function(a){if(this.Ho){var b=z.Yn(this.m()),c=z.Ig(this.m());return b.x-this.Ho.left<=a.x&&a.x<=b.x+c.width+this.Ho.right&&b.y-this.Ho.top<=a.y&&a.y<=b.y+c.height+this.Ho.bottom}return Px.v.tt.call(this,a)};z.e.zI=function(a){this.gm=void 0;a!=this.anchor||Rx(this,this.zj)||this.Rl()||this.vl&&this.vl.gc||z.C&&0==this.zj.x&&0==this.zj.y||this.G(!1)};
z.e.am=function(a){var b=this.X();if(this.Gr){var c=z.wf(this.K()),c=new z.Fe(a.clientX+c.x,a.clientY+c.y);Rx(this,c)?b=!1:this.Gq&&(b=Io(this.Gr,c)>=Io(this.Gr,this.zj))}if(b){if(this.pq(),this.gc=null,b=this.vl)b.gc=null}else 3==this.getState()&&this.xj();Px.v.am.call(this,a)};z.e.Yy=function(){this.Rl()!=this.m()&&(this.Gq=!1,this.gc=this.m())};z.e.xy=function(){return this.Gq?this.bP:Px.v.xy.call(this)};z.y(z.Sx,Px);z.e=z.Sx.prototype;z.e.D=function(){z.Sx.v.D.call(this);z.ld(this.Pa,"mouseover",this.UG,!1,this)};z.e.Iz=function(a){return a.tagName in this.VD&&!!a.getAttribute(this.VD[a.tagName])};z.e.UG=function(a){if(a=a.target)this.Iz(a)?(this.setPosition(null),Tx(this,a)):this.xO&&(a=z.vf(a,(0,z.t)(this.Iz,this),!1,this.ZZ))&&(this.setPosition(null),Tx(this,a))};z.e.ku=function(a){return this.dispatchEvent(a)};z.e.Fs=function(){return this.ag||this.anchor};
z.e.Ak=function(){z.Sx.v.Ak.call(this);null!=this.ag&&Xx(this,this.ag);this.ag=null};z.e.yd=function(a){var b=Hx(this,a.target);b&&b!=this.anchor?Tx(this,b):z.Sx.v.yd.call(this,a)};z.e.cm=function(a){var b=this.anchor,c=this.getState();z.Sx.v.cm.call(this,a);c==this.getState()||1!=c&&4!=c||(this.anchor=b,Wx(this))};z.e.lA=function(a,b){z.Sx.v.lA.call(this,a,b);this.X()?(a!=this.ag&&Xx(this,this.ag),this.ag=a):Ux(this)};z.y(Vx,z.Kc);z.y(Yx,z.Ax);Yx.prototype.so=function(){return 5};
Yx.prototype.ha=function(a,b,c,d){var f={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-6":"left","2-4":"right"},g;if(this.MD){g=z.Js(this.element,this.jf,a,b,null,c,10,d);var h=Zx(g,this.jf),k=Zx(g,b);g&496&&(g=z.Js(this.element,h,a,k,null,c,10,d),g&496&&(h=Zx(g,h),k=Zx(g,k),this.MD?z.Js(this.element,h,a,k,null,c,this.so(),d):z.Js(this.element,h,a,k,null,c,0,d)));this.Jp&&(a=(z.ja(h)?h:this.jf)+"-"+(z.ja(b)?b:k),this.Jp(f[a],a))}else z.Js(this.element,
this.jf,a,b,void 0,c),this.Jp&&(a=this.jf+"-"+b,this.Jp(f[a],a))};z.y($x,z.Yj);z.e=$x.prototype;z.e.fH={t:0,r:2,b:1,l:2};
z.e.Jf=function(){var a=this.jb,b=(0,window.$)('\x3cdiv id\x3d"zh-'+this.wb+'"\x3e\x3c/div\x3e'),c=null;(0,window.$)("body").append(b);a.Ih(b[0]);a.on("show",function(a){(0,window.clearTimeout)(c);b.addClass("in");z.Y.yb({type:"ga_hover_hovercard",target:a.target.Fs()})}).on("hide",function(){b.css({display:"block",visibility:"visible"}).removeClass("in").addClass("out");c=(0,window.setTimeout)(function(){b.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)})};
z.e.init=function(){if(!z.tm.Ab&&!z.sm("tooltip")){var a=this.$r="data-"+this.wb;this.jb=new z.Sx({A:a,SPAN:a,BUTTON:a,I:a,DIV:a,INPUT:a,IMG:a});this.jb.lq=this.cX;this.jb.Fo=this.ZR;this.Jf();this.o().g(this.jb,"trigger",this.ku).g(this.jb,"beforeshow",this.yp).g(this.jb,"show",this.Ff).g(this.jb,"beforehide",this.$I)}};z.e.$I=function(){};
z.e.yp=function(){var a=this.jb.Fs(),b=a.getAttribute(this.$r).split("$");this.iF=a;this.Bl=b[0];this.Yn=b[2];this.Al=b[1];this.jb.m().setAttribute("data-theme",a.getAttribute("data-theme")||"");this.HL();by(this)};z.e.Ff=function(){};z.e.HL=function(){var a=this.Yn,b=[];b.push('\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e');b.push('\x3cdiv class\x3d"tooltip-inner content-prewrap"\x3e');b.push(to(a));b.push("\x3c/div\x3e");cy(this,b.join(""))};
z.e.Uw=function(){return ay('\n    \x3cdiv class\x3d"zh-hovercard-spinner"\x3e\x3c/div\x3e\n  ',!0)};z.e.ku=function(a){var b=this.$r,c=(a=a.anchor)&&a.getAttribute(b),d=c.split("$"),b=null;c&&1<d.length?(b=d[1],a.title&&(a.setAttribute("data-original_title",a.title),a.removeAttribute("title")),this.cF=b=new Yx(a,this.fH[b],"b"===b||"t"===b),a=(0,z.t)(this.rJ,this),b.Jp=a,this.jb.className="tooltip"):Ux(this.jb)};
z.e.rJ=function(a,b){var c=this.jb.m();z.W.remove(c,"top","bottom","left","right");z.W.add(c,a);var d=z.ho(c),f=z.ho(this.iF),g=new z.Fe(c.offsetLeft,c.offsetTop);if("t"===this.Al||"b"===this.Al){var d=(d.width-f.width)/2,h=g.x-d;if("s"===this.Bl)z.sg(c,"left",h+"px");else{var h=z.B(["2-5","3-5","3-4","2-4"],b),k=(0,window.$)(".zh-hovercard-spinner",c)[0],l=z.N("arrow",c),p=z.N("arrow2",c);k?z.sg(c,"left",g.x-d+"px"):h?z.sg(c,"left",g.x+83+"px"):z.sg(c,"left",g.x-70+"px");var r=f.width/2;l&&p&&(k||
(h?z.A([l,p],function(a){z.sg(a,"left","auto");z.sg(a,"right",r+70+"px")}):z.A([l,p],function(a){z.sg(a,"left",r+70+"px")})))}}else z.sg(c,"top",g.y-(d.height-f.height)/2+"px"),"l"===this.Al&&z.Ag(c,g.x-f.width)};z.y(dy,$x);var fy={p:"MemberProfileCardV2",t:"TopicProfileCardV2",c:"ColumnProfileCardV2",r:"RoundtableProfileCardV2"};z.e=dy.prototype;z.e.Jf=function(){var a=this.jb;$x.prototype.Jf.call(this);(0,window.$)(a.m()).on("click",".member-profile-card-pm",function(b){b.preventDefault();var c=(0,window.$)(this);a.G(!1);z.Lq(function(){var a=new z.ux({kl:!1});a.show();z.xx(a,c.data("pmHash"),c.data("pmName"));z.vx(a,c.attr("href"));a.Ad.focus()},!0)()})};
z.e.$I=function(){this.ei[this.Bl]&&this.ei[this.Bl][this.Yn]&&(this.ei[this.Bl][this.Yn]=(0,window.$)(this.jb.m()).find(".popover-content").html());(0,z.Ni)(this.jb.m(),{action:"Hide",element:"Card"},{link:{url:this.jb.Fs().href}})};z.e.Ff=function(){z.yo(this.jb,{module:"HoverCard"});(0,z.Im)(this.jb,{element:"Card"})};z.e.HL=function(){ey(this,this.Bl,this.Yn,this.Al)};
z.e.ku=function(a){var b=this.$r,c=(a=a.anchor)&&a.getAttribute(b),d=c.split("$"),f=null;z.Jo(a,"no-hovercard")?Ux(this.jb):c&&1<d.length?(a.title&&(a.setAttribute("data-original_title",a.title),a.removeAttribute("title")),f=d[1],210>z.Eg(a).y?"t"===f&&(f="b",a.setAttribute(b,c.replace("$t$","$b$"))):(f="t",a.setAttribute(b,c.replace("$b$","$t$"))),this.cF=f=new Yx(a,this.fH[f],"b"===f||"t"===f),b=(0,z.t)(this.rJ,this),f.Jp=b,this.jb.className="goog-hovercard popover"):Ux(this.jb)};z.y(hy,z.R);z.e=hy.prototype;
z.e.W=function(a){this.h=a;this.R=(0,window.$)(this.h);this.R.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('\x3cdiv class\x3d"zh-scroller-content"\x3e\x3c/div\x3e');this.R.wrapInner('\x3cdiv class\x3d"zh-scroller-inner"\x3e\x3c/div\x3e');this.R.append("\x3cdiv class\x3d'zh-scroller-bar-container'\x3e\x3cdiv\x3e");this.R.append('\x3cdiv class\x3d"zh-scroller-bar"\x3e\x3c/div\x3e');this.qd=this.R.children(".zh-scroller-inner");this.Wk=this.R.children(".zh-scroller-bar-container");this.Ae=
this.R.children(".zh-scroller-bar");this.bf=this.qd.children(".zh-scroller-content");this.Cr=this.Ae[0];this.sS=this.qd[0];this.content=this.bf[0];this.Dr=this.Wk[0];this.qd.css({height:"100%",width:"150%",overflow:"auto"});this.Ae.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.Hw,background:this.options.iO,width:this.options.width,"border-radius":3,cursor:"default"});this.Wk.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,
background:this.options.OO,border:"1px solid #444",opacity:0,cursor:"default","border-radius":"2px"});this.$i(this.Cr,!1);this.$i(this.Dr,!1);this.update()};z.e.C=function(){hy.v.C.call(this);this.nC=new z.gl(this.IA,50,this);this.options.stopPropagation&&this.qd.bind("mousewheel DOMMouseScroll",function(a){var b=null;"mousewheel"===a.type?b=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"===a.type&&(b=40*a.originalEvent.detail);b&&(a.preventDefault(),(0,window.$)(this).scrollTop(b+(0,window.$)(this).scrollTop()))})};
z.e.enter=function(){this.Tx||(this.o().g(this.sS,"scroll",function(){this.nC.fire()}),z.D||(this.o().g(this.Dr,"click",this.ST),this.o().g(window.document,"mousedown",this.rU),this.o().g(window.document,"mouseup",this.tU),this.o().g(window.document,"mousemove",this.sU)),this.options.fO?(this.Zd=new z.sd(200),this.o().g(this.Zd,"tick",function(){2===this.tA||1===this.tA?(iy(this),this.Rm&&this.Wk.css({opacity:this.options.NE})):this.os||this.An||(jy(this,1E3),this.Wk.css({opacity:0}))})):(this.Ae.css({opacity:this.options.Hw}),
this.Wk.css({opacity:this.options.NE})),this.Zd&&this.Zd.start(),jy(this),this.Tx=!0)};z.e.rU=function(a){a.target===this.Cr&&(this.os=!0,this.jO=a.clientY,this.kO=(0,window.parseInt)(this.Ae.css("top"),10));a.target!==this.Cr&&a.target!==this.Dr||this.$i(window.document.body,!1)};z.e.tU=function(){this.os=!1;this.$i(window.document.body,!0)};z.e.sU=function(a){if(this.os){var b=ky(this,this.kO+(a.clientY-this.jO));this.qd.scrollTop(b)}this.tA=a.target===this.Cr?2:a.target===this.Dr?1:0};
z.e.IA=function(){var a=this.qd.scrollTop(),b=this.bf.height(),c=this.qd.height(),d=a/b*(c-2*this.options.top);iy(this);this.Ae.css({top:d+this.options.top});this.dispatchEvent(new ly(this,a,b-a-c))};z.e.update=function(){var a=this.gh(this.qd).height,b=this.gh(this.bf).height;a>=b?(this.Rm=!1,this.Ae.hide()):(this.Rm=!0,this.Ae.show());this.Ae.css({height:a/b*(a-2*this.options.top)});this.Wk.css({height:a-2});this.bf.css({overflow:"hidden",width:this.R.width(),"min-height":"100%"});return this};
z.e.gh=function(a){var b={height:a.height(),width:a.width()};if(!b.height){var c=a.css("display"),d=a.css("position"),f=a.css("visibility");a.css({position:"absolute",display:"block",visibility:"hidden"});b={height:a.height(),width:a.width()};a.css({position:d,display:c,visibility:f})}return b};z.e.ST=function(a){this.scrollTo(ky(this,a.offsetY-this.Ae.height()/2))};z.e.scrollTop=function(a){this.Rm&&(a=a||200,iy(this),this.qd.stop().animate({scrollTop:0},a));return this};
z.e.$i=function(a,b){z.Bo(a,!b)};z.e.scrollBy=function(a,b){if(this.Rm){iy(this);var c=b||this.gh(this.qd).height,c=Math.abs(c),c=this.qd.scrollTop()+(a?-1:1)*c;this.qd.stop().animate({scrollTop:c},200)}};z.e.scrollTo=function(a){this.Rm&&(iy(this),this.qd.stop().animate({scrollTop:a},200));return this};z.y(ly,z.Kc);z.y(z.my,z.R);z.my.prototype.defaults={NI:".tab-nav",HJ:".tab-panel",Rg:"active"};z.my.prototype.W=function(a){if(a){this.h=a;var b=this,c=this.J;this.cl=(0,window.$)(c.NI,a);this.kn=(0,window.$)(c.HJ,a);this.ck=this.cl.index("."+c.Rg);this.cl.on("click",function(){b.select(b.cl.index(this))});this.cl.attr("role","tab").parent().attr("role","tablist")}};
z.my.prototype.select=function(a){if(!(0>a||a>this.cl.size())&&(this.dispatchEvent({type:"action",data:{index:a}}),a!==this.ck)){this.ck=a;var b=this.J;this.cl.eq(a).addClass(b.Rg).attr("aria-selected","true").siblings().removeClass(b.Rg).attr("aria-selected","false");b=this.kn.eq(a);this.kn.not(b.show()).hide();this.dispatchEvent({type:"select",data:{index:a}})}};z.my.prototype.index=function(){return this.ck};z.n(ny,z.Yj);z.e=ny.prototype;
z.e.init=function(){this.Oi=z.L("zh-top-nav-live-new");this.gD=(0,window.$)(this.Oi);this.Bq=z.L("zh-top-nav-count-wrap");this.Rn=z.O("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"});this.contents=z.So("zm-noti7-content",this.Oi);this.kx=z.So("zm-noti7-content-body",this.Oi);this.Bq.appendChild(this.Rn);this.o().g(this.Bq,"click",this.nL).g(this.Bq,"keypress",function(a){32===a.keyCode&&(a.preventDefault(),this.nL())});this.o().g(z.Y,"notification",
this.qR);this.o().g(this.Oi,"click",function(a){a=a.target;a.href&&/group_id=/.test(a.href+"")&&(0,window.$)(a).parent(".unread").removeClass("unread")});this.Vv=(0,window.$)(".zm-noti7-popup-tab-container .icon");oy(this);this.ML||(this.Dg=z.mb(this.contents,function(a){var b=new hy;b.w(a);return b}));ry(this);this.Cm=z.L("zh-top-nav-pm-count");this.Cm||(this.Cm=z.O("span"));this.vm=z.L("zh-top-nav-new-pm");this.vm||(this.vm=z.O("span"));this.mH=(0,window.parseInt)((0,window.$)(this.vm).attr("data-count")||
(0,window.$)(this.Cm).attr("data-count"),10)||0;this.o().g(z.Y,"inbox",this.cR)};z.e.qR=function(a){this.YI=this.$f;this.$f=a.Hf;this.be=this.$f[0]+this.$f[1]+this.$f[2];z.Q(this.Rn,!!this.be);this.Rn.innerHTML=uy(this.be);z.A(this.$f,function(a,c){a?(this.Vv.eq(c).addClass("withdot"),this.cache[c]=!1):this.Vv.eq(c).removeClass("withdot");this.GF&&0<a-this.YI[c]&&this.Xl(c)},this);ty(this)};z.e.nL=function(){this.visible?z.tm.Ab?xy(this,!1):xy(this,!!this.be):xy(this,!0);ty(this)};
z.e.Xl=function(a){if(!this.Rj[a]){var b=this.Rj[a]=new z.Z(!1);this.o().Aa(b,"success",function(){var b=z.Tn(this.Rj[a]);this.Rj[a]=null;if(b)if(b.r)z.X.message(b.msg);else{this.px=!0;var d=b.msg;if(d)1===a&&(d='\x3cdiv class\x3d"zm-noti7-content-head-item"\x3e\x3cspan class\x3d"zg-gray-normal"\x3e这些人最近关注了你\x3c/span\x3e\x3c/div\x3e'+d);else{switch(a){case 0:d="暂无新消息";break;case 1:d="有人关注你时会显示在这里";break;case 2:d="你的答案收到赞同、感谢时会显示在这里"}d='\x3cdiv class\x3d"zm-noti7-popup-empty"\x3e'+d+"\x3c/div\x3e"}this.cache[a]=
d;b.hasMore&&0===this.xp[a]&&(this.xp[a]=b.offset);this.Sm[a]&&(py(this,a),this.Sm[a]=!1)}});b.ajax("/noti7/stack/"+this.types[a]+"?limit\x3d10\x26r\x3d"+(0,z.J)(),"","GET")}};
z.e.cA=function(a){var b=this;if(this.Rj[a])return window.Promise.reject("Request already in progress");if(0===this.xp[a])return window.Promise.resolve(!1);var c=this.kx[a],d=z.Xe('\x3cdiv class\x3d"text-center"\x3e\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e');c.appendChild(d);return this.Rj[a]=window.$.get("/noti7/stack/"+this.types[a],{offset:this.xp[a],r:(0,z.J)()}).then(function(f){z.P(d);if(f)if(f.r)z.X.message(f.msg);else{var g=z.Xe(f.msg);c.appendChild(g);b.Rj[a]=null;b.Dg&&b.Dg[a]&&
b.Dg[a].update();b.xp[a]=f.offset;return f.hasMore}})};z.e.cR=function(a){this.mH=a=window.$.isNumeric(a)?a:a.Hf;0!==a?(this.vm.innerHTML=this.Cm.innerHTML=a,this.vm.style.visibility=this.Cm.style.visibility="visible"):this.vm.style.visibility=this.Cm.style.visibility="hidden";ty(this)};z.e.Rs=function(a){z.mf(this.Oi,a.target)||z.mf(this.Bq,a.target)||xy(this,!1)};z.y(zy,z.R);z.e=zy.prototype;z.e.defaults={trigger:"hover",yJ:"open",hideFocus:!1};z.e.Tb=function(){return this.Mg.length&&this.pd.length};z.e.w=function(a){if(a){var b=(0,window.$)(a),c=b.prev();this.Mg=b;this.pd=c;this.$parent=b.parent();zy.v.w.call(this,a);return this}};z.e.toggle=function(){this.Bb()?this.close():this.open()};z.e.Bb=function(){return this.Mg.is(":visible")};z.e.open=function(){this.Mg.attr("aria-hidden","false").parent().addClass(this.J.yJ);this.pd.attr("aria-expanded","true")};
z.e.close=function(){this.Mg.attr("aria-hidden","true").parent().removeClass(this.J.yJ);this.pd.attr("aria-expanded","false")};z.e.XT=function(a){var b=a.keyCode;switch(b){case 32:a.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:By(this,38===b?-1:0)}};z.e.nU=function(a){var b=a.keyCode;switch(b){case 27:case 9:this.close();this.pd.focus();break;case 38:case 40:a.preventDefault(),By(this,this.index+(38===b?-1:1))}};
z.e.C=function(){var a=this,b=this.J;Ay(this);this.Mg.on("keydown",(0,z.t)(this.nU,this));this.pd.on("keydown",(0,z.t)(this.XT,this));var c=z.Wm?"click":b.trigger;if("hover"===c)this.$parent.on("hover",(0,z.t)(function(a){"mouseenter"===a.type?this.open():this.close()},this));else if("click"===c)this.pd.on("click",(0,z.t)(function(a){a.preventDefault();this.toggle();this.pd.focus()},this));this.$parent.on("focusout",function(){(0,window.setTimeout)(function(){a.$parent.get(0).contains(window.document.activeElement)||
a.close()})});if(b.hideFocus)this.Mg.children().find("a").on("click",function(){this.blur()})};z.n(Cy,z.R);z.e=Cy.prototype;z.e.C=function(){z.R.prototype.C.call(this);this.oz()};z.e.Gs=function(){return this.S};z.e.xC=function(a,b,c){if(a){var d={query:(0,z.$a)(this.m().value)};z.yi({Ec:!0,category:"search",action:a,label:b,value:c,attributes:d})}};
z.e.oz=function(){var a=this,b=this.m();z.xl(z.dn.register("/",function(){(0,window.setTimeout)(function(){b.focus()});z.zr(b,null,500)}),{group:"导航",name:"搜索"});var c=new xt,d=b.getAttribute("placeholder")||"搜索你感兴趣的内容...";this.S=new z.yt("/autocomplete",b,null,null,b.offsetParent,null,[d],null,c);this.S.yn=!1;this.S.Eg(!0);this.o().g(this.S,"select",this.Wy);var f=b.form;if(f){var g=function(a){(0,z.$a)(b.value)?f.submit():a.preventDefault()};this.o().g(b,"keydown",function(b){13===b.keyCode&&(a.xC("visit_search_result",
"enter"),g(b))});this.o().g(f,"submit",g);(0,window.$)(":submit",f).click(function(){a.xC("visit_search_result","search_box_submit")})}this.o().g(this.S,"suggestionsupdate",this.pw);var h=(0,z.t)(function(){this.S.uF=!(this.metaKey||this.oA)},this);this.o().g(window.document,"keydown",function(a){a.metaKey&&(this.metaKey=!0,h())});this.o().g(window.document,"keyup",function(a){if(91===a.keyCode||224===a.keyCode)this.metaKey=!1,h()});this.o().g(window.document,"mouseup",function(a){z.Pc(a,1)&&(this.oA=
!0,h(),(0,window.setTimeout)((0,z.t)(function(){this.oA=!1;h()},this),0))});this.o().g(b,"mousedown",function(a){a.stopPropagation();return!0})};
z.e.pw=function(){var a=this.S.Ma,b=this.S.N.Kf;if(a&&0!==a.length){if(1===a.length){var c=z.O("div",{className:"zu-autocomplete-empty"},"没有找到相关的结果");z.bf(c,b[0]);z.P(b[0])}z.A(a,function(c,f){if(0===f||c[0]!==a[f-1][0]){var g=b[f],h={people:"用户",topic:"话题",question:"问题"}[c[0]];h&&(h=z.O("div",{className:"zu-autocomplete-row-label ac-row"},h),z.bf(h,g),this.o().g(this.S,"suggestionsupdate",Rr))}},this)}};
z.e.Wy=function(a){var b=this.S.lg(),c=this.S.N.jm,d=z.xb(b,1),f=null,b=b[0];"topic"===b?(f="/topic/"+d[1],f=Dy(this,f)):"people"===b?(f="/"+((Array.isArray(d[5])?d[5][0]:d[5])?"org":"people")+"/"+d[1],f=Dy(this,f)):"question"===b?(f="/question/"+d[2],f=Dy(this,f)):"search_link"===b&&(f="/search?q\x3d"+(0,window.encodeURI)(d[0])+"\x26type\x3dcontent");f&&(z.Y.yb({type:"ga_serach_select",data:{type:b,index:c}}),d=c+1,(d={topic:["visit_topic","instant_search_result_topic",d],question:["visit_question",
"instant_search_result_question",d],people:["visit_people_profile","instant_search_result_people",d],search_link:["visit_search_result"]}[b])&&this.xC.apply(this,d),z.hj.set("s-q",(0,window.encodeURI)(this.S.bc),-1,"/"),z.hj.set("s-i",c+1,-1,"/"),z.hj.set("sid",(0,z.UF)(),-1,"/"),z.hj.set("s-t","autocomplete",-1,"/"),this.metaKey||this.oA?window.open(f):window.location.href=f);a.stopPropagation();a.preventDefault()};z.y(Ey,z.Yj);
Ey.prototype.init=function(){if((0,window.$)(".zu-top").length){z.Rh.get("__Q_ISNEWLYCREATED__")&&(z.Rh.remove("__Q_ISNEWLYCREATED__"),z.S&&(z.S.GH=!0));if(z.T.Lb())(new ny).init();else(0,window.$)("#zh-top-inner").on("click",'a[href\x3d"/topic"]',function(){var a=new z.Sk;a.md("top_navigation_topics");a.show();return!1}).on("click",".js-signin-noauth",function(){var a=new z.Sk;a.md("top_navigation_sign_in");a.show();return!1}).on("click",".js-signin-noauth-mobile",function(){z.U("app-promotion","click_mobileweb_signin_btn");
var a=new z.Sk;a.md("top_navigation_sign_in_mobile");a.show();return!1}).on("click",".js-signup-noauth",function(){var a=new z.Wk;a.md("top_navigation_sign_up");a.show();return!1}).on("click",".js-signup-noauth-mobile",function(){z.U("app-promotion","click_mobileweb_signup_btn");var a=new z.Wk;a.md("top_navigation_sign_up_mobile");a.show();return!1});if(this.jb=z.L("zh-top-search")){this.yS=z.N("zu-top-search-input",this.jb);var a=z.L("zu-top-add-question");a&&this.o().g(a,"click",this.ZW);z.Wj||
!z.Vj?(new zy({hideFocus:!0})).w((0,window.$)("#top-nav-profile-dropdown").get(0)):Fy();this.oz()}}};Ey.prototype.oz=function(){var a=(new z.qh(window.location)).pe().get("q");a?a=(0,window.decodeURIComponent)(a):(a=z.Rh.get("query"),z.Rh.remove("query"));var b=this.yS;a&&(b.value=a);z.Vj&&this.o().g(b,["focus","blur"],function(a){(0,window.$)(".zu-top").toggleClass("is-searching","focus"===a.type)});(new Cy).w(b)};Ey.prototype.ZW=z.Lq(function(){z.Zv.aa().show()},!0,"#ask");window.JSON||(window.JSON={parse:Gn,stringify:Vo});z.D&&(Object.getPrototypeOf=function(a){return function(b){return b.__proto__||a.apply(this,arguments)}}(Object.getPrototypeOf));z.y(Gy,z.R);z.CG=new Gy;z.CG.w(window.document);z.y(Hy,z.Cj);z.ka(Hy);z.e=Hy.prototype;z.e.nc=function(){z.Mj(this,null);this.o().g(window.document,"click",this.Rs)};
z.e.Rs=function(a){a=a.target;if("IMG"===a.tagName&&z.W.has(a,this.BX)){var b=a.getAttribute("data-original");if(b&&!z.xm&&!z.Jo(a,"editable")){this.ea('\x3cdiv class\x3d"zm-light-box-x1" id\x3d"zm-light-box-x1"\x3e\x3cdiv class\x3d"zm-light-box-x2" id\x3d"zm-light-box-x2"\x3e\x3cimg src\x3d"'+b+'" class\x3d"zm-light-box-img-el" /\x3e\x3cdiv class\x3d"zm-light-box-footer"\x3e\x3ca class\x3d"zm-light-box-show-origin" href\x3d"'+b+'" target\x3d"_blank"\x3e查看原图\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.G(!0);z.W.add(this.m(),"zm-light-box-fullscreen-image");var b=z.Pe(),c=z.L("zm-light-box-x1"),d=z.L("zm-light-box-x2"),f=a.getAttribute("data-rawheight"),g=a.getAttribute("data-rawwidth"),g=g?+g:0;(f?+f:0)>b.height-80?d.style.marginTop="40px":c.style.lineHeight=b.height+"px";d.style.width=g>b.width-80?b.width-80+"px":g+"px";z.Y.yb({type:"ga_click_enlarge_image",target:a})}}};z.e.ha=z.q;z.e.focus=z.q;z.e.rK=z.Hl;z.e.$Q=function(){this.G(!1);z.W.remove(window.document.body,this.pE)};
z.e.Ff=function(){Hy.v.Ff.call(this);z.W.add(window.document.body,this.pE);this.o().Aa(window.document,"click",this.$Q)};z.e.B=function(){Hy.v.B.call(this);z.W.add(this.m(),"zm-light-box")};z.e.iA=function(){this.Xc=this.K().B("div",this.Zc+"-bg zm-light-box-background");z.Q(this.Xc,!1)};Hy.aa();z.kg("common");window.console||(window.console={info:z.q,log:z.q,warning:z.q,error:z.q});z.CG.on(["click!","show!","visit!"],function(a){var b=a.Gc;b.category&&b.action&&z.U(b.category,a.type.replace("!","")+"_"+b.action,b.label,b.value)});z.td=window;
(function(){function a(a){return(0,z.Pi)({responseId:a.getResponseHeader("X-Za-Response-Id")})}z.Vj=z.tm.Ab;window.$.ajaxPrefilter(function(a,c,d){var f;c=a.url;"get"!==a.type.toLowerCase()&&(f=z.hj.get("_xsrf"))&&(c.startsWith("/")||c.startsWith(window.location.origin))&&d.setRequestHeader("X-Xsrftoken",f)});window.$.ajaxPrefilter(function(b,c,d){return d.always(function(){return a(d)})});vp("*",function(b,c){return a(c)});(new Ey).init()})();z.Ep.dispatchEvent("init");(0,window.$)(function(){z.Ep.dispatchEvent("postinit")});
z.T.Lb()?(vp("json",function(a){(a=a.profile_result)&&(0,window.$)(a).css("border-top","1px solid #eee").appendTo(window.document.body)}),z.tm.Ab&&(window.$.fx.off=!0),(0,window.$)(function(){(new qx).init()})):(0,window.$)("body").addClass("no-auth");z.Ua(window.location.host,"zhihu.com")||(z.Ti=!0);(0,window.$)(window.document.body).children("div.zu-main").attr("role","main");window.document.addEventListener&&window.document.addEventListener("touchstart",z.q,!1);
z.Wj&&(0,window.$)('meta[name\x3d"viewport"]').attr("content","width\x3ddevice-width, initial-scale\x3d1.0");(0,window.$)(function(){window.znonce&&window.znonce.evalScripts();(new ox).init();(new dy).init();(new $x).init();var a=new px;window.console&&window.console.info&&window.console.info(a.ZN+"\n\n"+a.link);sx();Iy();z.U.init()});z.n(z.Jy,z.R);z.e=z.Jy.prototype;
z.e.C=function(){var a=this;z.R.prototype.C.call(this);var b=this.Gf,c=b.Fa,d=b.validator,f=b.Iw,g=b.pr,h=this.YV.bind(this),k=this.XV.bind(this);c.on("change keyup",".is-error",function(){h((0,window.$)(this))}).submit(function(){if(c.hasClass("form-submitting"))return!1;k();var b=d(a.getData());if(b)return Ly(a,b),!1;f.call(c).then(function(){c.addClass("form-submitting");a.submit().then(function(b){b=void 0===b?{}:b;c.removeClass("form-submitting");if(!b.r)return g.call(c,b);Ly(a,b.msg)}).catch(function(){c.removeClass("form-submitting")})});
return!1}).find('[type\x3d"submit"]').attr("disabled",!1)};z.e.YV=function(a){a.removeClass("is-error").find("."+this.Gf.cp+"-error").remove()};z.e.XV=function(){this.Fa.find(".is-error").removeClass("is-error").end().find("."+this.Gf.cp+"-error").remove()};
z.e.submit=function(){var a=this.Gf,b=a.Fa,a=a.LL,c=b.attr("contentType")||"application/json",d={url:b.attr("action"),type:b.attr("method")||"POST"};if(a)Object.assign(d,{data:new window.FormData(b[0]),async:!1,cache:!1,contentType:!1,processData:!1});else{var f=this;Object.assign(d,{data:function(){var a=f.getData();"application/json"===c&&(a=JSON.stringify(a));return a}(),contentType:c})}return new window.Promise(function(a,b){window.$.ajax(d).done(a).fail(b)})};
z.e.getData=function(){return My(this.Fa,this.Gf.hQ)};z.y(Ny,z.I);Ny.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.lc;if("mousewheel"==a.type){c=1;if(z.D||z.E&&(z.ml||z.F("532.0")))c=40;d=Oy(-a.wheelDelta,c);z.ja(a.wheelDeltaX)?(b=Oy(-a.wheelDeltaX,c),c=Oy(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),z.ja(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;z.pa(this.wI)&&(b=ap(b,-this.wI,this.wI));z.pa(this.xI)&&(c=ap(c,-this.xI,this.xI));this.RS&&(b=-b);b=new Py(d,a,b,c);this.dispatchEvent(b)};
Ny.prototype.D=function(){Ny.v.D.call(this);z.md(this.jI);this.jI=null};z.y(Py,z.Oc);z.y(Qy,z.I);z.e=Qy.prototype;z.e.ze=0;z.e.tp=0;z.e.mp=100;z.e.fo=0;z.e.Pk=1;z.e.zH=!1;z.e.Zt=!1;z.e.Da=function(a){a=Ry(this,a);this.ze!=a&&(this.ze=a+this.fo>this.mp?this.mp-this.fo:a<this.tp?this.tp:a,this.zH||this.Zt||this.dispatchEvent("change"))};z.e.Y=function(){return Ry(this,this.ze)};z.e.Yu=function(a){a=Ry(this,a);this.fo!=a&&(this.fo=0>a?0:this.ze+a>this.mp?this.mp-this.ze:a,this.zH||this.Zt||this.dispatchEvent("change"))};
z.e.yi=function(){var a=this.fo;return null==this.Pk?a:Math.round(a/this.Pk)*this.Pk};z.e.Mc=function(){return Ry(this,this.tp)};z.e.cd=function(){return Ry(this,this.mp)};z.e.uo=function(){return this.Pk};z.y(Sy,z.R);z.e=Sy.prototype;z.e.Sb="horizontal";z.e.Uo=!1;z.e.GT=!1;z.e.Wf=10;z.e.Xt=0;z.e.EH=!0;z.e.KI=0;z.e.MM=1E3;z.e.jc=!0;z.e.me=!1;z.e.B=function(){Sy.v.B.call(this);var a=this.K().B("DIV",this.V(this.Sb));this.W(a)};z.e.W=function(a){Sy.v.W.call(this,a);z.Fi(a,this.V(this.Sb));a=this.m();var b=z.Le(null,"goog-slider-thumb",a)[0];b||(b=this.K().B("DIV","goog-slider-thumb"),z.ij(b,"button"),a.appendChild(b));this.hb=this.Pd=b;z.ij(this.m(),"slider");hz(this)};
z.e.C=function(){Sy.v.C.call(this);this.ye=new z.pj(this.hb);this.fg=new z.pj(this.Pd);this.ye.ah(this.me);this.fg.ah(this.me);this.ye.Ax=this.fg.Ax=z.q;this.Cb=new Mp(this.m());Ty(this,!0);this.m().tabIndex=0;bz(this)};z.e.zb=function(){Sy.v.zb.call(this);z.Cc(this.ye,this.fg,this.Cb,this.tk)};
z.e.Ps=function(a){var b=a.ms==this.ye?this.hb:this.Pd,c;"vertical"==this.Sb?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.cd()-this.Mc())+this.Mc()):c=a.left/(this.m().clientWidth-b.offsetWidth)*(this.cd()-this.Mc())+this.Mc();c=a.ms==this.ye?Math.min(Math.max(c,this.Mc()),this.Y()+this.yi()):Math.min(Math.max(c,this.Y()),this.cd());$y(this,b,c)};
z.e.$s=function(a){var b="start"==a.type;z.zo(this.m(),"goog-slider-dragging",b);z.zo(a.target.handle,"goog-slider-thumb-dragging",b);a=a.ms==this.ye;b?(this.dispatchEvent("h"),this.dispatchEvent(a?"d":"f")):(this.dispatchEvent("i"),this.dispatchEvent(a?"e":"g"))};
z.e.uf=function(a){var b=!0;switch(a.keyCode){case 36:fz(this,this.Mc());break;case 35:fz(this,this.cd());break;case 33:Yy(this,this.Wf);break;case 34:Yy(this,-this.Wf);break;case 37:var c=this.me&&this.Bd()?1:-1;Yy(this,a.shiftKey?c*this.Wf:c*this.Jq);break;case 40:Yy(this,a.shiftKey?-this.Wf:-this.Jq);break;case 39:c=this.me&&this.Bd()?-1:1;Yy(this,a.shiftKey?c*this.Wf:c*this.Jq);break;case 38:Yy(this,a.shiftKey?this.Wf:this.Jq);break;default:b=!1}b&&a.preventDefault()};
z.e.Ws=function(a){this.m().focus&&this.m().focus();var b=a.target;z.mf(this.hb,b)||z.mf(this.Pd,b)||(b="click"==a.type,b&&(0,z.J)()<this.KI+this.MM||(b||(this.KI=(0,z.J)()),this.GT?fz(this,Wy(this,a)):(this.fC(a),this.af=az(this,Wy(this,a)),this.nH="vertical"==this.Sb?this.Ct<this.af.offsetTop:this.Ct>ez(this,this.af)+this.af.offsetWidth,a=z.Je(this.m()),this.o().g(a,"mouseup",this.eC,!0).g(this.m(),"mousemove",this.fC),this.Ei||(this.Ei=new z.sd(200),this.o().g(this.Ei,"tick",this.QG)),this.QG(),
this.Ei.start())))};z.e.JG=function(a){Yy(this,(0<a.detail?-1:1)*this.Jq);a.preventDefault()};z.e.QG=function(){var a;if("vertical"==this.Sb){var b=this.Ct,c=this.af.offsetTop;this.nH?b<c&&(a=Xy(this,this.af)+this.Wf):b>c+this.af.offsetHeight&&(a=Xy(this,this.af)-this.Wf)}else b=this.Ct,c=ez(this,this.af),this.nH?b>c+this.af.offsetWidth&&(a=Xy(this,this.af)+this.Wf):b<c&&(a=Xy(this,this.af)-this.Wf);z.ja(a)&&$y(this,this.af,a)};
z.e.eC=function(){this.Ei&&this.Ei.stop();var a=z.Je(this.m());this.o().sa(a,"mouseup",this.eC,!0).sa(this.m(),"mousemove",this.fC)};z.e.fC=function(a){this.Ct=Vy(this,a)};z.e.Mc=function(){return this.Hb.Mc()};z.e.cd=function(){return this.Hb.cd()};z.e.NG=function(){bz(this);hz(this);this.dispatchEvent("change")};z.e.To=function(){return this.Uo};z.e.KP=function(){this.Uo=!1};
z.e.setOrientation=function(a){if(this.Sb!=a){var b=this.V(this.Sb),c=this.V(a);this.Sb=a;this.m()&&(a=this.m(),z.Ei(a,b)&&(z.Hi(a,b),z.Fi(a,c)),b=this.me&&this.Bd()?"right":"left",this.hb.style[b]=this.hb.style.top="",this.Pd.style[b]=this.Pd.style.top="",this.Xb&&(this.Xb.style[b]=this.Xb.style.top="",this.Xb.style.width=this.Xb.style.height=""),bz(this))}};
z.e.D=function(){Sy.v.D.call(this);this.Ei&&this.Ei.H();delete this.Ei;this.Wn&&this.Wn.H();delete this.Wn;delete this.hb;delete this.Pd;this.Xb&&delete this.Xb;this.Hb.H();delete this.Hb;this.Cb&&(this.Cb.H(),delete this.Cb);this.tk&&(this.tk.H(),delete this.tk);this.ye&&(this.ye.H(),delete this.ye);this.fg&&(this.fg.H(),delete this.fg)};z.e.Jq=1;z.e.uo=function(){return this.Hb.uo()};z.e.Y=function(){return this.Hb.Y()};z.e.Da=function(a){$y(this,this.hb,a)};z.e.yi=function(){return this.Hb.yi()};
z.e.Yu=function(a){$y(this,this.Pd,this.Hb.Y()+a)};z.e.G=function(a){z.Q(this.m(),a);a&&bz(this)};z.e.ab=function(a){this.jc!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.jc=a,Ty(this,a),a||this.eC(),z.zo(this.m(),"goog-slider-disabled",!a))};z.e.isEnabled=function(){return this.jc};z.y(iz,Sy);iz.prototype.V=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};z.y(jz,z.R);z.e=jz.prototype;z.e.defaults={OE:310,PE:310,Kg:250,Lg:250,uT:2,opacity:.25,q_:"#eee"};z.e.W=function(a){jz.v.W.call(this,a);this.src=this.h.src;this.options.src=this.src;this.options.hn=(this.options.OE-this.options.Kg)/2;this.options.gn=(this.options.PE-this.options.Lg)/2;this.Vr()};
z.e.Vr=function(){var a=this.options;this.WC=(0,window.$)((0,z.ew)('\x3cdiv class\x3d"avatar-editor-container" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx"\x3e\x3cdiv class\x3d"avatar-editor-container-inner" style\x3d"height:\x3c%\x3dcontainerHeight%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;margin:\x3c%\x3dwindowMarginTop%\x3epx \x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cdiv class\x3d"avatar-editor-window-shadow" style\x3d"height:\x3c%\x3dwindowHeight%\x3epx;width:\x3c%\x3dwindowWidth%\x3epx;"\x3e\x3c/div\x3e\x3cdiv class\x3d"avatar-editor-window-inner" style\x3d"width:\x3c%\x3dcontainerWidth%\x3epx; height:\x3c%\x3dcontainerHeight%\x3epx;margin:-\x3c%\x3dwindowMarginTop%\x3epx 0 0 -\x3c%\x3dwindowMarginLeft%\x3epx;"\x3e\x3cimg class\x3d"inner" title\x3d"拖动相片"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"outer" style\x3d"opacity:\x3c%\x3dopacity%\x3e;"/\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-wrap"\x3e\x3ci class\x3d"zg-icon image-minus"\x3e\x3c/i\x3e\x3ci class\x3d"zg-icon image-plus"\x3e\x3c/i\x3e\x3cdiv class\x3d"goog-slider"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"goog-slider-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',{containerWidth:a.PE,
containerHeight:a.OE,windowHeight:a.Kg,windowWidth:a.Lg,windowMarginTop:a.hn,windowMarginLeft:a.gn,src:a.src,opacity:a.opacity}));this.Mb=this.WC[0];this.WC.insertBefore(this.h);z.Q(this.h,!1);this.SO=z.N("avatar-editor-container-inner",this.Mb);this.it=z.N("outer",this.Mb);this.lz=z.N("inner",this.Mb);this.Xq=(0,window.$)(this.it);this.Tv=(0,window.$)(this.lz);this.kH=0;this.Xq.load((0,z.t)(this.zL,this));this.Tv.load((0,z.t)(this.zL,this));this.lz.src=this.it.src=this.options.src;this.hX=z.N("goog-slider",
this.Mb)};
z.e.C=function(){this.WB=new iz;this.WB.w(this.hX);this.o().g(this.SO,["mousedown","touchstart"],function(a){var b=new z.pj(this.Mb);b.addEventListener("drag",(0,z.t)(function(a){var b=this.zoom;this.We={Qq:this.options.Lg/b,vo:this.options.Kg/b,x:(this.options.gn-(this.tH.left+(a.clientX-this.hv)))/b,y:(this.options.hn-(this.tH.top+(a.clientY-this.iv)))/b};mz(this)},this));b.addEventListener("end",(0,z.t)(function(){b.H()},this));b.Xm(a);this.Xm(a)});this.o().g(this.Mb,["touchmove"],function(a){a.stopPropagation();a.preventDefault()});
this.o().g(this.WB,"change",function(){var a=this.WB.Y(),b=this.lM;kz(this,(this.xY-b)*a/100+b)})};z.e.zL=function(){this.oS||(this.lz.complete&&this.it.complete?this.init():(this.kH++,2<=this.kH&&this.init()))};
z.e.init=function(){var a,b;b=this.Xq[0];if(b.naturalWidth)a=b.naturalWidth,b=b.naturalHeight;else{var c=new window.Image;c.src=b.src;a=c.width;b=c.height}this.ht=a;this.gt=b;a=this.options.Lg/this.ht;b=this.options.Kg/this.gt;this.lM=a=b>a?b:a;this.xY=this.lM*this.options.uT;this.We={vo:this.options.Lg/a,Qq:this.options.Kg/a,x:0,y:0};kz(this,a);lz(this,this.ht/2,this.gt/2);this.oS=!0};z.e.Xm=function(a){this.hv=a.clientX;this.iv=a.clientY;this.tH=this.Tv.position();this.Xq.position()};
z.e.support=function(){return"getContext"in window.document.createElement("canvas")};z.y(z.nz,z.R);z.oz=1;z.e=z.nz.prototype;z.e.W=function(a){this.h=a;this.B()};
z.e.B=function(){this.FC=z.tm.Lq+"/upload_avatar";this.Fa=(0,window.$)((0,z.ew)('\x3cform target\x3d"av_up_frame" style\x3d"display:none;" method\x3d"post" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3duploadAction%\x3e"\x3e\x3clabel for\x3d"avt_file"\x3e\x3c/label\x3e\x3cinput type\x3d"file" accept\x3d"image/*" name\x3d"picture" id\x3d"avt_file" /\x3e\x3cinput type\x3d"hidden" name\x3d"handle_mode" value\x3d"upload" /\x3e\x3cinput type\x3d"hidden" name\x3d"type" value\x3d"\x3c%\x3dtype%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"dest_id" value\x3d"\x3c%\x3ddest_id%\x3e" /\x3e\x3cinput type\x3d"hidden" name\x3d"return_size" value\x3d"\x3c%\x3dreturn_size%\x3e" /\x3e\x3c/form\x3e',{uploadAction:this.FC,
type:this.Ar,dest_id:this.Ar===z.oz?z.T[3]:this.MF,return_size:this.sK}));this.uM=(0,window.$)('\x3ciframe id\x3d"av_up_frame" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0px; width: 0px; left: -9000px;"\x3e\x3c/iframe\x3e');this.uM.appendTo(window.document.body);this.input=this.Fa.find("input[type\x3dfile]")[0];z.D?(this.Fa.find("label").html((0,window.$)(this.h).html()),this.h.innerHTML="",(0,window.$)(this.h).append(this.Fa),this.Fa.addClass("avatar-editor-form-ie")):(this.Fa.insertAfter(this.h),
(0,window.$)(this.h).click(window.$.proxy(function(){this.input.click()},this)));this.o().g(this.input,"change",this.Oc).g(this.input,"click",function(a){!1===this.dispatchEvent("beforeopen")&&a.preventDefault()});this.o().g(z.Y,"iframe_data",function(a){(a=a.Hf)&&!a.r?"upload"===a.handle_mode?(this.km=a.url,this.kz=a.id,pz()||this.Gp()):"resize"===a.handle_mode&&((0,window.$)(this.h).find("form").remove(),this.ZE(a)):z.X.message(a.msg)})};
z.e.Oc=function(a){qz(this);a=this.input=a.target;if(pz()){if(a.files&&a.files[0]){this.file=a=a.files[0];var b=new window.FileReader;b.onload=(0,z.t)(function(a){this.km=a.target.result;this.Gp()},this);b.readAsDataURL(a)}}else this.Fa[0].submit();tz(this)};z.e.Gp=function(){var a=this.dialog.T();this.jz=new window.Image;this.jz.src=this.km;a=(0,window.$)(a);a.html("");a.append(this.jz);this.qx=new jz;this.qx.w(this.jz)};
z.e.ZE=function(a){a&&!a.r?this.data=a:z.X.message(a.msg);this.dispatchEvent({type:"success",src:this.data});this.dialog.G(!1)};z.e.getData=function(){return this.data||null};z.e.Rd=function(a){return this.data?this.data.url.replace(/(\.\w+)$/,"_"+a+"$1"):""};z.n(z.vz,z.R);
z.vz.prototype.C=function(){z.R.prototype.C.call(this);var a=this.iV,b=this.m(),c=new z.nz(z.oz);c.w(b);var d=(0,window.$)(b),f=d.find(".Avatar"),g=d.find(".Spinner");this.o().g(c,"beforepost",function(){g.show()}).g(c,"success",function(){var b={method:"save",params:{data:{avatar_path:c.getData().id}}};window.$.post("/node/ProfileHeaderV2",b,function(b){g.hide();b&&b.r?z.X.message("更新失败"):(d.removeClass("ProfileAvatarEditor-none-avatar"),f.add(".top-nav-profile .Avatar").attr({src:c.Rd("l"),srcset:c.Rd("xl")+
" 2x"}),a.Li(b))})})};z.DG=function(a,b){var c=[],d=[].slice,f=z.Sr(a,function(){c.length&&(b(c),c=[])});return function(){c.push(d.call(arguments));f()}}(550,function(a){z.T.Lb()&&(a={items:JSON.stringify(a)},window.$.post("/lastread/touch",a))});z.y(z.wz,z.Ax);z.wz.prototype.so=function(){return this.fp};z.wz.prototype.Nm=function(a){this.fp=a};z.wz.prototype.ha=function(a,b,c,d){var f=z.Js(this.element,this.jf,a,b,null,c,10,d,this.QA);if(f&496){var g=xz(f,this.jf);b=xz(f,b);f=z.Js(this.element,g,a,b,null,c,10,d,this.QA);f&496&&(g=xz(f,g),b=xz(f,b),z.Js(this.element,g,a,b,null,c,this.so(),d,this.QA))}};z.y(yz,Op);z.ka(yz);yz.prototype.V=function(){return"goog-menuheader"};z.y(zz,Xp);z.Vp("goog-menuheader",function(){return new zz(null)});z.y(Az,Op);z.ka(Az);z.e=Az.prototype;z.e.rf=function(){return"menuitem"};z.e.B=function(a){var b=a.K().B("DIV",this.ig(a).join(" "),Cz(this,a.Za(),a.K()));Ez(this,a,b,Rp(a,8)||Rp(a,16));return b};z.e.T=function(a){return a&&a.firstChild};z.e.w=function(a,b){var c=z.hf(b),d=Bz(this,2);c&&z.Ei(c,d)||b.appendChild(Cz(this,b.childNodes,a.K()));z.Ei(b,"goog-option")&&(a.cq(!0),this.cq(a,b,!0));return Az.v.w.call(this,a,b)};
z.e.ea=function(a,b){var c=this.T(a),d=Dz(this,a)?c.firstChild:null;Az.v.ea.call(this,a,b);d&&!Dz(this,a)&&c.insertBefore(d,c.firstChild||null)};z.e.$i=function(a,b,c){a&&b&&Ez(this,a,b,c)};z.e.cq=function(a,b,c){a&&b&&Ez(this,a,b,c)};z.e.oo=function(a){switch(a){case 2:return Bz(this,0);case 16:case 8:return"goog-option-selected";default:return Az.v.oo.call(this,a)}};
z.e.Ns=function(a){var b=Bz(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Az.v.Ns.call(this,a)}};z.e.V=function(){return"goog-menuitem"};z.y(z.Fz,Xp);z.e=z.Fz.prototype;z.e.Y=function(){var a=this.qA;return null!=a?a:this.fh()};z.e.Da=function(a){this.qA=a};z.e.Yb=function(a,b){z.Fz.v.Yb.call(this,a,b);switch(a){case 8:this.og()&&!b&&this.Cc(!1);var c=this.m();c&&this.N.$i(this,c,b);break;case 16:(c=this.m())&&this.N.cq(this,c,b)}};z.e.$i=function(a){this.Yb(8,a)};z.e.cq=function(a){this.Yb(16,a)};
z.e.fh=function(){var a=this.Za();return z.ma(a)?(a=z.mb(a,function(a){return z.kf(a)&&(z.Ei(a,"goog-menuitem-accel")||z.Ei(a,"goog-menuitem-mnemonic-separator"))?"":z.Ko(a)}).join(""),op(a)):z.Fz.v.fh.call(this)};z.e.wf=function(a){var b=this.getParent();if(b){var c=b.zJ;b.zJ=null;if(b=c&&z.pa(a.clientX))b=new z.Fe(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}z.Fz.v.wf.call(this,a)};z.e.vf=function(a){return a.keyCode==this.pA&&this.Wd(a)?!0:z.Fz.v.vf.call(this,a)};
z.e.jQ=function(){return this.pA};z.Vp("goog-menuitem",function(){return new z.Fz(null)});z.Fz.prototype.Bi=function(){return Rp(this,16)?"menuitemcheckbox":Rp(this,8)?"menuitemradio":z.Fz.v.Bi.call(this)};z.Fz.prototype.getParent=function(){return Xp.prototype.getParent.call(this)};z.Fz.prototype.Ai=function(){return Xp.prototype.Ai.call(this)};z.y(Gz,Op);z.ka(Gz);Gz.prototype.B=function(a){return a.K().B("DIV",this.V())};Gz.prototype.w=function(a,b){b.id&&Qn(a,b.id);if("HR"==b.tagName){var c=b;b=this.B(a);z.bf(b,c);z.P(c)}else z.Fi(b,this.V());return b};Gz.prototype.ea=function(){};Gz.prototype.V=function(){return"goog-menuseparator"};z.y(z.Hz,Xp);z.Hz.prototype.C=function(){z.Hz.v.C.call(this);z.ij(this.m(),"separator")};z.Vp("goog-menuseparator",function(){return new z.Hz});z.y(Iz,Xr);z.ka(Iz);z.e=Iz.prototype;z.e.Tb=function(a){return"UL"==a.tagName||Iz.v.Tb.call(this,a)};z.e.po=function(a){return"HR"==a.tagName?new z.Hz:Iz.v.po.call(this,a)};z.e.Yf=function(a,b){return z.mf(a.m(),b)};z.e.V=function(){return"goog-menu"};z.e.Re=function(a){Iz.v.Re.call(this,a);z.jj(a.m(),"haspopup","true")};z.y(z.Jz,z.Hz);z.Vp("goog-menuseparator",function(){return new z.Hz});z.y(z.Kz,z.$r);z.e=z.Kz.prototype;z.e.un=!0;z.e.MN=!1;z.e.V=function(){return this.N.V()};z.e.Yf=function(a){if(this.N.Yf(this,a))return!0;for(var b=0,c=z.ah(this);b<c;b++){var d=z.bh(this,b);if("function"==typeof d.Yf&&d.Yf(a))return!0}return!1};z.e.Ha=function(a){this.L(a,!0)};z.e.sj=function(a,b){this.fl(a,b,!0)};z.e.removeItem=function(a){(a=this.removeChild(a,!0))&&a.H()};z.e.zi=function(a){return z.bh(this,a)};z.e.Vl=function(){return z.ah(this)};
z.e.lb=function(){var a=[];z.ch(this,function(b){a.push(b)});return a};z.e.setPosition=function(a,b){var c=this.X();c||z.Q(this.m(),!0);Do(this.m(),a,b);c||z.Q(this.m(),!1)};z.e.G=function(a,b,c){(b=z.Kz.v.G.call(this,a,b))&&a&&this.xa&&this.un&&this.dc().focus();this.zJ=a&&c&&z.pa(c.clientX)?new z.Fe(c.clientX,c.clientY):null;return b};z.e.Ny=function(a){this.un&&this.dc().focus();return z.Kz.v.Ny.call(this,a)};z.e.uE=function(a){return(this.MN||a.isEnabled())&&a.X()&&Rp(a,2)};
z.e.W=function(a){var b=this.N,c;c=this.K();c=z.Me(c.Pa,"DIV",b.V()+"-content",a);for(var d=c.length,f=0;f<d;f++)Zr(b,this,c[f]);z.Kz.v.W.call(this,a)};z.e.vf=function(a){var b=z.Kz.v.vf.call(this,a);b||z.ch(this,function(c){!b&&c.jQ&&c.pA==a.keyCode&&(this.isEnabled()&&this.Sc(c),b=c.ec(a))},this);return b};z.e.Eb=function(a){z.Kz.v.Eb.call(this,a);(a=z.bh(this,a))&&Eo(a.m(),this.m())};z.y(Mz,z.wz);z.y(Nz,z.Up);z.ka(Nz);z.e=Nz.prototype;z.e.B=function(a){var b={"class":"goog-inline-block "+this.ig(a).join(" ")},b=a.K().B("DIV",b,this.Wg(a.Za(),a.K()));this.Hd(b,a.Yl());return b};z.e.rf=function(){return"button"};z.e.T=function(a){return a&&a.firstChild&&a.firstChild.firstChild};z.e.Wg=function(a,b){return b.B("DIV","goog-inline-block "+(this.V()+"-outer-box"),b.B("DIV","goog-inline-block "+(this.V()+"-inner-box"),a))};z.e.Tb=function(a){return"DIV"==a.tagName};
z.e.w=function(a,b){Oz(b,!0);Oz(b,!1);var c;a:{c=a.K().pG(b);var d=this.V()+"-outer-box";if(c&&z.Ei(c,d)&&(c=a.K().pG(c),d=this.V()+"-inner-box",c&&z.Ei(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.Wg(b.childNodes,a.K()));z.Gi(b,["goog-inline-block",this.V()]);return Nz.v.w.call(this,a,b)};z.e.V=function(){return"goog-custom-button"};z.y(Pz,Nz);z.ka(Pz);z.e=Pz.prototype;z.e.T=function(a){return Pz.v.T.call(this,a&&a.firstChild)};z.e.w=function(a,b){var c=z.Le("*","goog-menu",b)[0];if(c){z.Q(c,!1);z.Je(c).body.appendChild(c);var d=new z.Kz;d.w(c);a.Jh(d)}return Pz.v.w.call(this,a,b)};z.e.Wg=function(a,b){return Pz.v.Wg.call(this,[this.createCaption(a,b),b.B("DIV","goog-inline-block "+(this.V()+"-dropdown")," ")],b)};z.e.createCaption=function(a,b){return Qz(a,this.V(),b)};z.e.V=function(){return"goog-menu-button"};z.y(z.Rz,z.dq);z.e=z.Rz.prototype;z.e.vt=!1;z.e.Jk=!1;z.e.IW=!1;z.e.C=function(){z.Rz.v.C.call(this);Wz(this,!0);this.ia&&Vz(this,this.ia,!0);z.jj(this.h,"haspopup",!!this.ia)};z.e.zb=function(){z.Rz.v.zb.call(this);Wz(this,!1);if(this.ia){this.Ib(!1);this.ia.zb();Vz(this,this.ia,!1);var a=this.ia.m();a&&z.P(a)}};z.e.D=function(){z.Rz.v.D.call(this);this.ia&&(this.ia.H(),delete this.ia);delete this.xV;this.la.H()};
z.e.re=function(a){z.Rz.v.re.call(this,a);this.Ac()&&(this.Ib(!this.Bb(),a),this.ia&&(a=this.Bb(),this.ia.Df=a))};z.e.wf=function(a){z.Rz.v.wf.call(this,a);this.ia&&!this.Ac()&&(this.ia.Df=!1)};z.e.Wd=function(){this.setActive(!1);return!0};z.e.GQ=function(a){this.ia&&this.ia.X()&&!this.Yf(a.target)&&this.Ib(!1)};z.e.Yf=function(a){return a&&z.mf(this.m(),a)||this.ia&&this.ia.Yf(a)||!1};
z.e.vf=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.ia&&this.ia.X()){var b=13==a.keyCode||32==a.keyCode,c=this.ia.ec(a);return 27==a.keyCode||b?(this.Ib(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Ib(!0,a),!0):!1};z.e.Bo=function(){this.Ib(!1)};z.e.mR=function(){this.Ac()||this.Ib(!1)};z.e.ed=function(a){this.vt||this.Ib(!1);z.Rz.v.ed.call(this,a)};
z.e.cb=function(){this.ia||this.Jh(new z.Kz(this.K(),this.wT));return this.ia||null};z.e.Jh=function(a){var b=this.ia;if(a!=b&&(b&&(this.Ib(!1),this.xa&&Vz(this,b,!1),delete this.ia),this.xa&&z.jj(this.h,"haspopup",!!a),a)){this.ia=a;z.Zg(a,this);a.G(!1);var c=this.vt;(a.un=c)&&a.Ze(!0);this.xa&&Vz(this,a,!0)}return b};z.e.Ha=function(a){this.cb().L(a,!0)};z.e.sj=function(a,b){this.cb().fl(a,b,!0)};z.e.removeItem=function(a){(a=this.cb().removeChild(a,!0))&&a.H()};
z.e.zi=function(a){return this.ia?z.bh(this.ia,a):null};z.e.Vl=function(){return this.ia?z.ah(this.ia):0};z.e.G=function(a,b){var c=z.Rz.v.G.call(this,a,b);c&&!this.X()&&this.Ib(!1);return c};z.e.ab=function(a){z.Rz.v.ab.call(this,a);this.isEnabled()||this.Ib(!1)};z.e.SK=function(){this.Ib(!0)};
z.e.Ib=function(a,b){z.Rz.v.Ib.call(this,a);if(this.ia&&!!(this.M&64)==a){if(a){if(!this.ia.xa)if(this.Jk){var c=Qo(this.m());c?this.ia.Jf(c.parentNode,c):this.ia.render(this.m().parentNode)}else this.ia.render();this.XL=Fo(this.m());this.sE=Co(this.m());Uz(this);c=!!b&&(13==b.keyCode||32==b.keyCode);b&&(40==b.keyCode||38==b.keyCode)||c&&this.IW?z.ds(this.ia):this.ia.Eb(-1)}else{this.setActive(!1);this.ia.Df=!1;if(c=this.m())z.jj(c,"activedescendant",""),z.jj(c,"owns","");null!=this.qu&&(this.qu=
void 0,(c=this.ia.m())&&z.Gg(c,"",""))}this.ia.G(a,!1,b);if(!this.Od){var c=this.o(),d=a?c.g:c.sa;d.call(c,this.K().va(),"mousedown",this.GQ,!0);this.vt&&d.call(c,this.ia,"blur",this.mR);d.call(c,this.la,"tick",this.Ip);a?this.la.start():this.la.stop()}}this.ia&&this.ia.m()&&this.ia.h.removeAttribute("aria-hidden")};
z.e.Ip=function(){var a=Co(this.m()),b=Fo(this.m()),c=this.sE;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.XL,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.sE=a,this.XL=b,Uz(this))};z.e.Qy=function(a){(a=a.target.m())&&Xz(this,a)};z.e.eR=function(a){Rp(this,32)&&this.dc()&&this.ia&&this.ia.X()&&a.stopPropagation()};
z.e.Zy=function(){if(!cs(this.ia)){var a=this.m();z.jj(a,"activedescendant","");z.jj(a,"owns","")}};z.e.Ky=function(a){if(this.Bb()&&a.target instanceof z.Fz){a=a.target;var b=a.m();a.X()&&a.M&2&&null!=b&&Xz(this,b)}};z.Vp("goog-menu-button",function(){return new z.Rz(null)});z.y(Yz,zx);Yz.prototype.ha=function(a,b,c,d){var f=Go(z.Je(a)),g=this.mi.x+f.x,f=this.mi.y+f.y,h=Ks(a),g=g-h.x,f=f-h.y;Ms(new z.Fe(g,f),a,b,c,null,null,d)};z.y(Zz,Yz);Zz.prototype.fp=0;Zz.prototype.Nm=function(a){this.fp=a};Zz.prototype.ha=function(a,b,c,d){var f=Xn(a),f=Fo(f),g;g=z.He(a);g=z.Re(g.Pa);g=new z.Fe(this.mi.x+g.scrollLeft,this.mi.y+g.scrollTop);var h=b,k=Ms(g,a,h,c,f,10,d);if(0!=(k&496)){if(k&16||k&32)h^=2;if(k&64||k&128)h^=1;k=Ms(g,a,h,c,f,10,d);0!=(k&496)&&Ms(g,a,b,c,f,this.fp,d)}};z.y(z.$z,z.Kz);z.e=z.$z.prototype;z.e.IX=!1;z.e.$H=0;z.e.ag=null;z.e.W=function(a){z.$z.v.W.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.attach(this.K().m(a),1)};z.e.C=function(){z.$z.v.C.call(this);this.Qf.forEach(this.aE,this);var a=this.o();a.g(this,"action",this.LT);a.g(this.K().va(),"mousedown",this.dJ,!0);z.E&&a.g(this.K().va(),"contextmenu",this.dJ,!0)};
z.e.attach=function(a,b,c,d,f){a&&this.Qf.Zf(z.ta(a))||(a?(b={h:a,dL:b,vT:c,Xx:d?"contextmenu":"mousedown",jA:f},this.Qf.set(z.ta(a),b)):b=null,this.xa&&this.aE(b),a=z.Aa(this.oU,a),this.m()&&this.o().g(this.m(),"keydown",a))};z.e.oU=function(a,b){if(27==b.keyCode)a.focus();else{var c=z.bh(this,this.Xa);if(c){var c=c.m(),d=new z.Oc(b.lc,c);d.target=c;if(32==b.keyCode||13==b.keyCode)z.Uc(c)?z.rd(c,"keydown",!1,d):z.od(c,"keydown",!1,d);32==b.keyCode&&this.hide()}}};
z.e.aE=function(a){this.o().g(a.h,a.Xx,this.uJ);"contextmenu"!=a.Xx&&this.o().g(a.h,"keydown",this.MU)};z.e.detach=function(a){if(!a||!this.Qf.Zf(z.ta(a)))throw Error("Menu not attached to provided element, unable to detach.");a=z.ta(a);if(this.xa){var b=this.Qf.get(a);this.o().sa(b.h,b.Xx,this.uJ)}this.Qf.remove(a)};z.e.SK=function(a,b,c){b=z.ja(a.dL)?new z.wz(a.h,a.dL,!0):new Zz(b,c);b.Nm&&b.Nm(5);z.aA(this,b,a.vT,a.jA,a.h)};
z.e.hide=function(){this.X()&&(this.G(!1),this.X()||(this.$H=(0,z.J)(),this.ag=null))};z.e.IH=function(){return this.X()||150>(0,z.J)()-this.$H};z.e.LT=function(){this.hide()};z.e.uJ=function(a){bA(this,a)};z.e.MU=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||bA(this,a);40==a.keyCode&&z.ds(this)};z.e.dJ=function(a){this.X()&&!this.Yf(a.target)&&this.hide()};z.e.ed=function(a){z.$z.v.ed.call(this,a);this.hide()};z.e.D=function(){z.$z.v.D.call(this);this.Qf&&(this.Qf.clear(),delete this.Qf)};z.y(cA,Az);z.ka(cA);cA.prototype.B=function(a){var b=cA.v.B.call(this,a);z.Fi(b,"goog-submenu");dA(this,a,b);return b};cA.prototype.w=function(a,b){b=cA.v.w.call(this,a,b);z.Fi(b,"goog-submenu");dA(this,a,b);var c=z.Le("DIV","goog-menu",b);if(c.length){var d=new z.Kz(a.K()),c=c[0];z.Q(c,!1);a.K().va().body.appendChild(c);d.w(c);a.Jh(d,!0)}return b};cA.prototype.ea=function(a,b){var c=this.T(a),d=c&&c.lastChild;cA.v.ea.call(this,a,b);d&&c.lastChild!=d&&z.Ei(d,"goog-submenu-arrow")&&c.appendChild(d)};
cA.prototype.Re=function(a){cA.v.Re.call(this,a);var b=a.T(),c=a.K(),c=z.Me(c.Pa,"SPAN","goog-submenu-arrow",b)[0];eA(a,c);c!=b.lastChild&&b.appendChild(c);z.jj(a.m(),"haspopup","true")};z.y(fA,z.Fz);var zD=218;z.e=fA.prototype;z.e.ge=null;z.e.RB=null;z.e.mA=!1;z.e.tc=null;z.e.xs=!1;z.e.qr=!0;z.e.PS=!1;z.e.C=function(){fA.v.C.call(this);this.o().g(this.getParent(),"hide",this.oJ);this.tc&&jA(this,this.tc,!0)};z.e.zb=function(){this.o().sa(this.getParent(),"hide",this.oJ);this.tc&&(jA(this,this.tc,!1),this.xs||(this.tc.zb(),z.P(this.tc.m())));fA.v.zb.call(this)};z.e.D=function(){this.tc&&!this.xs&&this.tc.H();this.tc=null;fA.v.D.call(this)};
z.e.Sc=function(a,b){fA.v.Sc.call(this,a);b&&(this.cb().Df=!0);a||(this.ge&&z.vd(this.ge),this.ge=z.ud(this.Yg,zD,this))};z.e.ev=function(){var a=this.getParent();a&&cs(a)==this&&(iA(this,!0),hA(this))};z.e.Yg=function(){var a=this.tc;a&&a.getParent()==this&&(iA(this,!1),z.ch(a,function(a){"function"==typeof a.Yg&&a.Yg()}))};z.e.G=function(a,b){var c=fA.v.G.call(this,a,b);c&&!this.X()&&this.Yg();return c};
z.e.ec=function(a){var b=a.keyCode,c=this.Bd()?37:39,d=this.Bd()?39:37;if(!this.mA){if(!this.isEnabled()||b!=c&&b!=this.pA)return!1;this.ev();z.ds(this.cb());gA(this)}else if(!this.cb().ec(a))if(b==d)this.Yg();else return!1;a.preventDefault();return!0};z.e.ZT=function(){this.tc.getParent()==this&&(gA(this),this.Ai().Sc(this),hA(this))};z.e.oJ=function(a){a.target==this.Ai()&&(this.Yg(),gA(this))};z.e.yd=function(a){this.isEnabled()&&(gA(this),this.RB=z.ud(this.ev,zD,this));fA.v.yd.call(this,a)};
z.e.Wd=function(a){gA(this);if(Rp(this,8)||Rp(this,16))return fA.v.Wd.call(this,a);this.ev();return!0};z.e.Ha=function(a){this.cb().L(a,!0)};z.e.sj=function(a,b){this.cb().fl(a,b,!0)};z.e.removeItem=function(a){(a=this.cb().removeChild(a,!0))&&a.H()};z.e.zi=function(a){return z.bh(this.cb(),a)};z.e.Vl=function(){return z.ah(this.cb())};z.e.lb=function(){return this.cb().lb()};
z.e.cb=function(){this.tc?this.xs&&this.tc.getParent()!=this&&z.Zg(this.tc,this):this.Jh(new z.Kz(this.K()),!0);this.tc.m()||this.tc.B();return this.tc};z.e.Jh=function(a,b){var c=this.tc;a!=c&&(c&&(this.Yg(),this.xa&&jA(this,c,!1)),this.tc=a,this.xs=!b,a&&(z.Zg(a,this),a.G(!1,!0),a.un=!1,a.Ze(!1),this.xa&&jA(this,a,!0)))};z.e.Yf=function(a){return this.cb().Yf(a)};z.Vp("goog-submenu",function(){return new fA(null)});z.y(z.kA,z.Yj);z.ka(z.kA);z.e=z.kA.prototype;
z.e.B=function(){this.wP=!0;this.h=z.O("div",null,[this.eT=z.O("div",null,[this.rh=z.O("div","zm-favo-list-content"),this.KD=z.O("div","zh-favo-add-new-wrap zm-command",this.kX=z.O("a",{"class":"zm-favo-dialog-create zg-left",href:"javascript:;"},"+ 创建收藏夹"),this.ex=z.O("a",{href:"javascript:;","class":"zg-btn-blue"},"关闭")),this.qw=z.O("div","zh-favo-add-new-wrap zm-command",this.JO=z.O("a",{href:"javascript:;","class":""},"取消"),this.lX=z.O("a",{"class":"zm-favo-dialog-create zg-btn-blue",href:"javascript:;"},
"创建收藏夹"))]),this.py=z.O("div",{"class":"zh-favo-add-form",style:"display:none"},[z.O("div",null,["标题",this.qC=z.O("span",{"class":"zh-favo-add-title-error"},"请填写标题")]),z.O("div","zg-section",this.Ii=z.O("input",{"class":"zg-form-text-input"})),z.O("div",null,"描述（可选）"),z.O("div",{"class":"zg-section zg-form-text-input"},this.mk=z.O("textarea",{"class":"zg-editor-input",style:"height:66px"})),this.UJ=z.O("label",null,[this.NH=z.O("input",{type:"radio",checked:"checked",value:"public",name:"mode"}),
z.O("strong",null," 公开 "),z.O("span","zg-gray-normal","公开后不能设置为私密")]),this.WH=z.O("br"),this.SJ=z.O("label",null,[this.MH=z.O("input",{type:"radio",value:"private",name:"mode"}),z.O("strong",null," 私密 "),z.O("span","zg-gray-normal","只有你可以查看这个收藏夹")]),z.O("div","zm-command",[this.Ux=z.O("label",{href:"javascript:;","class":"zh-favo-error-message-label zg-left"},""),this.cC=z.O("a",{href:"javascript:;","class":"zg-mr10"},"取消"),this.Mr=z.O("a",{href:"javascript:;","class":"zg-mr10"},"完成"),this.ow=z.O("a",
{"class":"zg-btn-blue"},"确认创建")])])]);z.Q(this.qC,!1);z.Q(this.qw,!1);(new z.kt(this.sC)).w(this.Ii);(new z.kt(this.Fx)).w(this.mk);z.A(this.aA,function(a){mA(this,a)},this);this.aA.length||(this.rh.innerHTML='\x3cdiv id\x3d"zh-fav-list-item-place-holder" class\x3d"zg-r5px zm-fav-list-item-place-holder"\x3e你可以创建多个收藏夹，将答案分类收藏\x3c/div\x3e ',z.Q(this.qw,!0),z.Q(this.KD,!1));lA(this);this.ta.T().innerHTML="";this.ta.T().appendChild(this.h);this.ta.ha()};
z.e.cc=function(){this.pO||(this.pO=!0,this.o().g(this.cC,"click",function(){this.bb?qA(this,0):tA(this);xA("click_add_collection_cancel")}).g(this.kX,"click",function(){z.Y.yb({type:"ga_click_add_collection"});qA(this,1);z.Ai("collect","click_add_collection_start","collect_answer_box")}).g(this.ex,"click",function(){xA("click_add_collection_close");tA(this)}).g(this.lX,"click",function(){z.Y.yb({type:"ga_click_add_collection"});qA(this,1)}).g(this.JO,"click",function(){tA(this)}).g(this.Mr,"click",
function(){tA(this)}).g(this.ow,"click",function(){var a=this.mk.value,b=this.Ii.value;a&&xA("click_add_collection_discription",a);b&&xA("click_add_collection_title",b);this.yh()}).g(this.rh,"click",this.GU).g(this.Ii,"change",function(){z.Q(this.qC,!1)}).g(this.NH,"click",function(){xA("click_add_collection_public")}).g(this.MH,"click",function(){xA("click_add_collection_private")}))};
z.e.GU=function(a){var b=z.uf(a.target,"A");if(b&&!this.locked){a=b.getAttribute("data-lid");var c=!1;z.W.has(b,"zm-favo-list-item-link-active")?(c=!0,this.fF=a):this.bF=a;b=new z.Hr;b.add("answer_id",this.bb);b.add("favlist_id",a);this.zB=new z.Z(!0);this.locked=!0;this.o().Aa(this.zB,"complete",this.HN);this.zB.ajax(c?"/collection/remove":"/collection/add",b.pe())}};
z.e.HN=function(){this.locked=!1;this.ex.innerHTML="关闭";var a=z.Tn(this.zB);a&&!a.r?(a=z.So("zm-favo-list-item-link",this.rh),z.A(a,function(a){var c=a.getAttribute("data-lid"),d=z.N("num",a),f=(0,window.parseInt)(d.innerHTML,10);c===this.fF?(d.innerHTML=f-1+"",z.W.remove(a,"zm-favo-list-item-link-active")):c===this.bF&&(d.innerHTML=f+1+"",z.W.add(a,"zm-favo-list-item-link-active"))},this),this.bF=this.fF=null,Jr("Favorite","add_favorite")):z.X.message("添加失败: "+a.msg)};
z.e.Bk=function(){this.cc();this.ex.innerHTML="关闭";this.bb?(z.Q(this.Mr,!1),qA(this,0)):(qA(this,1),z.Q(this.cC,!1),this.Mr.innerHTML="取消")};z.e.show=function(a){a?(pA(this),this.ta.G(!0),this.Bk()):(lA(this,"添加到收藏夹",'\x3cdiv style\x3d"text-align: center; color: #999;"\x3e收藏夹加载中\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'),this.ta.G(!0),this.Ls())};z.e.Ls=function(){this.bb&&window.$.get("/collections/json",{answer_id:this.bb}).done((0,z.t)(this.qU,this))};
z.e.qU=function(a){a&&!a.r&&(this.aA=a.msg[0],this.Lt=a.msg[1],pA(this),this.Bk())};
z.e.yh=function(){if(!this.xhr||!this.xhr.Ac()){(0,window.$)(this.Ux).text("").hide();var a=z.ur(this.Ii.value);if(a&&a!==this.sC){a=rA(this);this.bb&&a.add("answer_id",this.bb);if(this.om){if(this.pS.pe()===a.pe()){tA(this);return}a.add("favlist_id",this.eF[0])}this.xhr=new z.Z(!0);vA(this,this.xhr,this.ow,this.om);this.o().Aa(this.xhr,"complete",this.zN);this.xhr.ajax(this.om?"/collection/update":"/collection/create",a.pe())}else z.Q(this.qC,!0)}};
z.e.zN=function(){var a=z.Tn(this.xhr);a&&!a.r?this.om?(tA(this),z.X.message("编辑成功"),(0,window.setTimeout)(function(){window.location.reload()},1E3),this.om=!1):this.bb?(z.Q(this.qw,!1),z.Q(this.KD,!0),qA(this,0),this.Lt.push(a.msg[0]),mA(this,a.msg,!0),this.Ii.value="",this.mk.value=""):(tA(this),z.X.message("创建成功"),(0,window.setTimeout)(function(){window.location.href="/collections/mine"},1E3)):wA(this.Ux,this.om,a.msg)};z.e.X=function(){return this.ta.X()};var uA="close";
z.kA.prototype.bh=function(){(0,window.$)(window).on("beforeunload.FavoDiag",(0,z.t)(function(){return"你对收藏夹的修改还未保存，确认离开该页面吗？"},this))};z.kA.prototype.pi=function(){(0,window.$)(window).off("beforeunload.FavoDiag")};z.y(z.yA,z.Fz);z.Vp("goog-checkbox-menuitem",function(){return new z.yA(null)});z.n(zA,z.R);zA.prototype.W=function(a){z.R.prototype.W.call(this,a);var b=(0,window.$)(a).data(),c=new z.Kz;AA(this,c,b.copyable);c.Ha(new z.Jz);CA(this,c);c.Ha(new z.Jz);c.Ha(new z.Fz("删除"));this.o().g(c,"action",this.Wy).Aa(c,"show",this.QP);z.W.add(c.m(),"zg-gray-normal");(0,window.$)(c.m()).addClass("setting-menu");b=new z.Rz("comment",c);b.Jk=!0;z.Tz(b);Sz(b);b.Tb=z.Gl;b.w(a);this.ia=c};
zA.prototype.QP=function(){var a=this;window.$.get("/answer/comment_permission",{answer_id:this.$h.sb}).then(function(b){if(b&&!b.r){var c=b.msg;a.ZA.forEach(function(a){a.Y()===c&&a.Cc(!0)});a.wl=c}else z.X.message(b.msg)})};zA.prototype.GB=function(a){tD.GB(this.$h.sb,a);(0,window.$)(".copyright",dD(this.$h)).text(EG[a]).attr("href",FG[a]||"#")};
zA.prototype.Wy=function(a){var b=a.target,c=b.Y();if(c in BA)this.GB(c),this.WE.forEach(function(a){a.Cc(a===b)});else if("删除"===c)EA(this);else if(c in DA)if(this.wl===c)FA(this);else if("review_comment"===this.wl){var d=this;a=void 0;var f;"all_can_comment"===c?(a="确认开放评论吗？",f="开放评论后，评论提交即公开显示。\x3cbr/\x3e当前所有待审核评论不会公开，为您自动保存，若切换回预审评论可以继续审核。"):"nobody_can_comment"===c&&(a="确认关闭评论吗？",f="关闭评论后，所有人无法提交评论。\x3cbr/\x3e当前所有待审核评论不会公开，为您自动保存，若切换回预审评论可以继续审核。");z.X.confirm(a,f,function(a){a&&GA(d,c)});FA(this)}else GA(this,
c)};var BA={0:"禁止转载",1:"允许规范转载",2:"允许付费转载"},EG={0:"禁止转载",1:"允许规范转载",2:"允许付费转载"},FG={0:"/terms#sec-licence-6",1:"/terms#sec-licence-1"},DA=z.T.gd?{all_can_comment:"开放评论",review_comment:"预审评论",nobody_can_comment:"关闭评论"}:{all_can_comment:"允许任何人评论",followee_can_comment:"允许我关注的人评论",nobody_can_comment:"关闭评论"},HA="set_permission";var GG=/a(:(link|visited|active|hover))?/;KA.prototype.clone=function(){var a=new KA;a.Hh=this.Hh.concat();a.ao=this.ao;return a};var HG=/(^|;|{)\s*color:([^;]+);/g,OA={},RA={},IG={},JG="color visibility quotes list-style-type list-style-image list-style-position list-style page-break-inside orphans widows font-family font-style font-variant font-weight text-indent text-align text-transform white-space caption-side border-collapse border-spacing empty-cells cursor".split(" "),KG="font-family font-size font-weight font-variant font-style color text-align text-decoration text-indent text-transform letter-spacing white-space word-spacing".split(" ");var LG;z.y(z.SA,z.I);z.e=z.SA.prototype;z.e.F=null;z.e.eO=!0;z.e.EL=function(){this.F&&(this.disable(this.F),this.F=null)};z.e.enable=function(a){this.F==a&&(this.jc=!0)};z.e.disable=function(a){this.F==a&&(this.jc=!1)};z.e.isEnabled=function(a){return this.F==a?this.jc:!1};z.e.kr=z.Fl;z.e.PH=z.Fl;z.e.D=function(){this.F&&this.EL(this.F);z.SA.v.D.call(this)};z.$A=z.bp({Sy:1,fR:2,Us:3,Yj:4,Vs:5,execCommand:6,queryCommandValue:7,MJ:8,EO:10,DO:11});LG={8:!0,10:!0,11:!0};
z.SA.prototype.execCommand=function(a,b){var c=this.PH(a);c||(z.C&&z.wB(this.F,!0,!0),this.F.ri());try{var d=this.pf.apply(this,arguments)}finally{c||(this.F.nf(),z.vB(this.F))}return d};z.SA.prototype.Ue=function(){return!1};var aB,dB;z.y(ZA,z.I);ZA.prototype.Ja=null;ZA.prototype.Pc=null;aB="change";z.bB="delayedchange";dB={IY:"cvc",bZ:"load",wZ:"unload",AY:"beforechange",GY:aB,KY:z.bB,BY:"beforefocus",NY:"focus",EY:"blur",DY:"beforetab",UY:"ifrsz",CY:"beforeselectionchange",kZ:"selectionchange"};z.fB=0;z.MG=null;z.e=ZA.prototype;z.e.lh=!1;z.e.RL=!1;z.e.Ev=!1;z.e.m=function(){return this.Ja};
z.e.addListener=function(a,b,c,d){var f=this.m();gG&&f&&this.uc()&&(f=f.ownerDocument);d?z.xd(this.kc,f,a,b,c,d):this.kc.g(f,a,b,c)};var eB=15,cB=250;ZA.prototype.uc=z.Gl;ZA.prototype.Yo=z.Gl;ZA.prototype.PK=z.Fl;var iB={46:!0,8:!0};z.D||(iB[9]=!0);var jB={86:!0,88:!0};z.ml&&!z.C&&(iB[229]=!0);
ZA.prototype.dx=function(){this.kc&&this.kc.removeAll();if((z.aj||z.Wj)&&this.uc()&&this.PK()){try{var a=this.nb.$a();a.removeEventListener("keydown",this.En,!1);a.removeEventListener("touchend",this.En,!1)}catch(b){}delete this.En}if(z.vg&&this.uc()){try{a=this.nb.$a(),a.removeEventListener("focus",this.Qw,!1),a.removeEventListener("blur",this.Pw,!1)}catch(b){}delete this.Qw;delete this.Pw}this.Je&&this.Je.stop();this.es.stop()};
ZA.prototype.D=function(){this.$o()||this.Bc();this.Pc&&this.execCommand("clearlorem");this.rm=z.fB;for(var a in this.Wb){var b=this.Wb[a];b.kr()||b.disable(this)}this.nb=this.Ja=null;this.dx();this.Ll&&(z.md(this.Ll),this.Ll=null);this.Am=null;this.kc&&(this.kc.H(),this.kc=null);for(;a=this.vY.pop();)a.H();z.MG==this.id&&(z.MG=null);for(var c in this.Wb)a=this.Wb[c],a.eO&&a.H();delete this.Wb;ZA.v.D.call(this)};
var NG=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];ZA.prototype.NB=function(){if(dG||!this.uc())this.kc.g(this.m(),"DOMSubtreeModified",this.Ty);else{var a=this.nb.va();this.kc.g(a,NG,this.Ty,!0);this.kc.g(a,"DOMAttrModified",(0,z.t)(this.CG,this,this.Ty),!0)}};var pB={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},qB={65:!0,86:!0,88:!0},sB={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};z.e=ZA.prototype;
z.e.So=function(a,b){for(var c=this.dk[a],d=z.xb(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||LG[a])&&g[z.$A[a]].apply(g,d))return!0}return!1};z.e.FS=function(a,b){for(var c=this.dk[a],d=z.xb(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||LG[a])&&g[z.$A[a]].apply(g,d)}};z.e.Fu=function(a,b,c){for(var d=this.dk[a],f=z.xb(arguments,1),g=0;g<d.length;++g){var h=d[g];if(h.isEnabled(this)||LG[a])f[0]=h[z.$A[a]].apply(h,f)}return f[0]};
z.e.uf=function(a){z.Tc&&65==a.keyCode&&nB(this,a);(z.C||lB(this,a))&&!this.So(1,a)&&mG&&rB(this,a)};z.e.gR=function(a){if(z.C){if(!lB(this,a))return}else this.Gy=!0,this.ri();this.So(2,a)||mG||rB(this,a)};z.e.hR=function(a){z.C||!this.Gy&&!hB(a)||this.zo();this.So(3,a);nB(this,a)};z.e.execCommand=function(a,b){for(var c=arguments,d,f=this.dk[6],g=0;g<f.length;++g){var h=f[g];if(h.isEnabled(this)&&h.Ue(a)){d=h.execCommand.apply(h,c);break}}return d};
z.e.queryCommandValue=function(a){var b=this.Bc()&&this.Bf;if(z.oa(a))return this.Au(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.Au(a[d],b);return c};z.e.Au=function(a,b){for(var c=this.dk[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.Ue(a)&&(b||f.kr()))return f.queryCommandValue(a)}return b?null:!1};z.e.CG=function(a,b){if(!oB(this,aB)){var c=b.lc;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};
z.e.Ty=function(a){oB(this,aB)||(a=a.iG?a.lc:a,a.target.firebugIgnore||this.Je.start())};z.e.Ss=function(){z.D&&this.execCommand("clearlorem",!0);z.C&&this.Ix();this.nf()};z.e.AR=function(){var a=this.DK;this.DK=null;z.vB(this,void 0,a)};z.e.ri=function(){oB(this,"beforechange")||this.dispatchEvent("beforechange")};z.e.nf=function(a){yB(this,!0,a)};z.e.zo=function(){oB(this,aB)||(this.Je&&this.Je.stop(),oB(this,z.bB)||this.es.start())};z.e.wF=function(){oB(this,z.bB)||(this.es.stop(),this.dispatchEvent(z.bB))};
z.e.Ix=function(){this.vF();this.xF()};z.e.vF=function(){oB(this,"beforefocus")||(this.execCommand("clearlorem",!0),this.dispatchEvent("beforefocus"))};z.e.xF=function(){if(!oB(this,"focus")){z.MG=this.id;this.Bf=!0;this.dispatchEvent("focus");if(z.C){var a=this.m(),b=z.uB(this);if(b){var c=z.Ut(b);0!=z.Vt(b)||c&&c!=a&&"BODY"!=c.tagName||z.cv(a)}}!eG&&this.uc()&&this.nb.$a().parent.getSelection().removeAllRanges()}};z.e.hs=function(){oB(this,"blur")||(z.MG==this.id&&(z.MG=null),this.Bf=!1,this.dispatchEvent("blur"))};
z.e.$l=function(a){z.MG=this.id;if(z.D){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.Am.$a().open(b.href)}this.Ev=!0};z.e.My=function(){this.Ev=!1};z.e.Xs=function(a){if(!this.RL||this.Ev)this.Ev=!1,this.dispatchEvent("beforeselectionchange"),z.vB(this,a),z.D&&(this.DK=a.target,this.EK.start())};
z.e.Sl=function(){if(this.queryCommandValue("usinglorem"))return" ";if(!this.Bc())return this.Pc.innerHTML;var a=this.m(),b=a.cloneNode(!1),a=a.innerHTML;z.D&&a.match(/^\s*<script/i)&&(a=" "+a);b.innerHTML=a;this.FS(11,b);return this.Fu(10,b.innerHTML)};
z.e.Yd=function(a,b,c,d){if(!this.$o()){d&&this.execCommand("clearlorem");b&&a&&(b="\x3cp\x3e"+b+"\x3c/p\x3e");c&&z.wB(this,!1,!0);a=b;if(b=this.m()){if(this.uc()&&z.E)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.Pc;b&&mB(this,a,b);d&&this.execCommand("updatelorem");this.Bc()&&(c?(z.C&&Pq(this.Je),yB(this)):this.nf())}};z.e.zC=function(){var a=this.nb.va();a.designMode="on";z.jG&&a.execCommand("styleWithCSS",!1,!1)};
z.e.wH=function(){this.yl&&BB(this)&&z.Mg(this.yl,this.m())};z.e.Bc=function(){return 2==this.rm};z.e.$o=function(){return 1==this.rm};z.e.focus=function(){if(!z.YA&&this.uc())this.nb.$a().focus();else{if(z.vg)var a=this.il.pageXOffset,b=this.il.pageYOffset;this.m().focus();z.vg&&this.il.scrollTo(a,b)}};z.e.hg=function(){!z.bG&&z.C||z.AB(this);this.focus()};z.e.te=function(a){this.rm=1;var b=this.Pc;this.nodeName=b.nodeName;this.cssText=b.style.cssText;z.Fi(b,"editable");this.hA(a)};
z.e.hA=function(a){var b=this.Pc;if(b){var b=b.innerHTML,c={},b=this.Fu(8,b,c),d=this.Am.B("IFRAME",this.rG());if(BB(this)){var f=(0,z.t)(this.iH,this,d,b,c);this.Ll=z.G(d,"load",f,!0);a&&(d.src=a)}this.bE(d);BB(this)||this.iH(d,b,c)}};
z.e.Ts=function(){z.D&&Ou(this.nb.$a());z.MG!=this.id&&this.execCommand("updatelorem");if((z.aj||z.Wj)&&this.uc()&&this.PK()){var a=this.nb.$a();this.En=(0,z.t)(a.focus,a);a.addEventListener("keydown",this.En,!1);a.addEventListener("touchend",this.En,!1)}z.vg&&this.uc()?(this.Qw=(0,z.t)(this.Ix,this),this.Pw=(0,z.t)(this.hs,this),a=this.nb.$a(),a.addEventListener("focus",this.Qw,!1),a.addEventListener("blur",this.Pw,!1)):(lG?(this.addListener("focus",this.xF),this.addListener(z.Pl,this.vF)):this.addListener("focus",
this.Ix),this.addListener("blur",this.hs,z.C));z.C?this.NB():(this.addListener(["beforecut","beforepaste","drop","dragend"],this.ri),this.addListener(["cut","paste"],kp(this.nf)),this.addListener("drop",this.Ss));this.addListener(z.E?"dragend":"dragdrop",this.Ss);this.addListener("keydown",this.uf);this.addListener("keypress",this.gR);this.addListener("keyup",this.hR);this.EK=new Oq(this.AR,250,this);this.ZP&&this.addListener("click",zB);this.addListener("mousedown",this.$l);this.RL?(this.kc.g(this.nb.va(),
"mouseup",this.Xs),this.addListener("dragstart",this.My)):this.addListener("mouseup",this.Xs);this.wH();yB(this);this.dispatchEvent("load");for(var b in this.Wb)this.Wb[b].enable(this)};z.e.bE=function(a){var b=this.Pc;a.className=b.className;a.id=b.id;z.Ro(a,b)};z.e.wy=function(a){var b=Sn(z.He(this.Pc));return new VA(this.id,b,!1,!1,a)};
z.e.jM=function(a,b,c){c=this.wy(c);BB(this)?(a=(a.contentDocument||a.contentWindow.document).body,z.YA&&(a.contentEditable=!0),a.className="editable",a.setAttribute("g_editable",!0),a.hideFocus=!0,a.id=c.TF,z.sg(a,c.cy),a.innerHTML=b):XA(c,b,new WA(this.m(),this.yl),a)};z.e.iH=function(a,b,c){this.Ll&&(z.md(this.Ll),this.Ll=null);a.allowTransparency="true";this.jM(a,b,c);kB(this,(a.contentDocument||a.contentWindow.document).body);!z.YA&&this.uc()&&this.zC();this.Ts()};
z.e.rG=function(){var a="padding:0;"+this.Pc.style.cssText;z.sp(a,";")||(a+=";");a+="background-color:white;";z.D&&(a+="overflow:visible;");return{frameBorder:0,style:a}};var OG;z.y(z.CB,ZA);z.e=z.CB.prototype;z.e.DH=!1;z.e.MS=!1;z.e.Yo=function(){return this.DH};z.e.LG=function(){oB(this,aB)||DB(this)};
z.e.VB=function(){if(this.mq?0:this.mq=!0){var a=!1,b=tB(this);if(b){var c,d=tB(this),f=d.contentDocument.body;c=f.parentNode;0===(0,window.parseInt)(Ho(d,"height"),10)&&z.sg(d,"height","1px");Sn(z.He(f))?d=c.offsetHeight:(d=c.scrollHeight,c.clientHeight!=c.offsetHeight&&(d+=OG||(OG=z.Vg())));c=d;this.zT&&(c=Math.max(c,this.zT));(0,window.parseInt)(Ho(b,"height"),10)!=c&&(b.style.height=c+"px",a=!0)}this.mq=!1;a&&this.dispatchEvent("ifrsz")}};z.e.gz="";var PG=!1;z.e=z.CB.prototype;z.e.uc=function(){return!z.YA};
z.e.NB=function(){z.CB.v.NB.call(this);if(this.uc()){var a=tB(this).ownerDocument;this.kc.g(a,NG,this.LG,!0);this.fT=z.kd(this.nb.$a(),"load",this.VB,!0,this);this.kc.g(a,"DOMAttrModified",(0,z.t)(this.CG,this,this.LG),!0)}};z.e.zo=function(){oB(this,aB)||(z.CB.v.zo.call(this),this.uc()&&this.VB())};
z.e.hs=function(){if(!oB(this,"blur")&&(z.CB.v.hs.call(this),!z.YA&&!eG)){var a=this.nb.$a(),b=!1;z.md(this.iI);this.iI=z.kd(a.document.body,"dragover",function(){b=!0});z.u.setTimeout((0,z.t)(function(){if(!b&&this.nb){var a=z.uB(this),d=this.nb.$a();Ou(d);a&&(a.collapse(!0),a.select())}},this),0)}};z.e.zC=function(){z.CB.v.zC.call(this);var a=this.nb.va();a.execCommand("enableInlineTableEditing",!1,"false");a.execCommand("enableObjectResizing",!1,"false")};
z.e.wH=function(){this.uc()||PG||(this.yl&&z.Mg(this.yl,this.m()),PG=!0)};z.e.hA=function(a){if(this.uc())z.CB.v.hA.call(this,a);else if(a=this.Pc)kB(this,a),a.contentEditable=!0,mB(this,a.innerHTML,a),this.Ts()};z.e.Ts=function(){if(this.uc()){var a=this;z.u.setTimeout(function(){EB(a)},0)}z.CB.v.Ts.call(this)};z.e.rG=function(){return{frameBorder:0,style:"padding:0;"}};
z.e.bE=function(a){if(!this.MS){var b=this.Pc;b&&(this.DH="auto"==z.yg(b,"overflowY"))}var b=this.Pc,c=z.He(b),d=b.style.width,f=b.style.height;z.sg(b,"visibility","hidden");var c=c.B("DIV",{style:"height:0;clear:both",innerHTML:"\x26nbsp;"}),g=c.cloneNode(!0);b.insertBefore(c,b.firstChild);b.appendChild(g);g=z.Je(b);if((c=z.D&&b.currentStyle)&&Sn(z.He(g))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)g=z.Og(b,c.width,"width","pixelWidth"),c=z.Og(b,c.height,"height","pixelHeight"),g=new z.Ge(g,
c);else var c=z.ho(b),g=z.Qg(b),h=z.Tg(b),g=new z.Ge(c.width-h.left-g.left-g.right-h.right,c.height-h.top-g.top-g.bottom-h.bottom);c=g.width;g=g.height;h="";this.Yo()&&(h="\x26nbsp;",z.sg(b,"position","relative"),z.sg(b,"overflow","visible"),z.sg(a,"position","absolute"),z.sg(a,"top","0"),z.sg(a,"left","0"));z.Gg(b,c,g);Sn(z.He(b))&&z.sg(b,"lineHeight","0");z.Zu(b,h);z.Gg(a,c,g);z.Gg(b,d,f);z.sg(b,"visibility","");b.appendChild(a);BB(this)||(b=a.contentWindow.document,Sn(z.He(a.ownerDocument))&&(b.open(),
a=z.Fd("\x3c!DOCTYPE HTML\x3e\x3chtml\x3e\x3c/html\x3e",null),b.write(z.Ed(a)),b.close()))};z.e.wy=function(a){var b=this.Pc;if(b)return new VA(this.id,Sn(z.He(b)),!0,this.Yo(),a);throw Error("no field");};
z.e.jM=function(a,b,c){z.sg(a,"visibility","hidden");c=this.wy(c);var d=this.Pc,f=this.yl;if(!this.gz){var g=this.Pc;if(g){var h=g.ownerDocument,k=z.ta(h);if(!IG[k]){for(var l=z.ta(h),p=[],h=JA(h.styleSheets),r=0,w;w=h[r];r++)if((w=IA(w))&&w.length)for(var H=0,K=w.length;H<K;H++){var M=new KA,ea;ea=M;var Za=w[H],eb=Za.style;if(eb){var Ha=void 0,ya="";eb&&(Ha=Za.selectorText)&&(ya=eb.cssText)?z.D&&(ya+="/* */"):Za.cssText&&(ya=/([^\{]+)\{/,Ha=ya.exec(Za.cssText)[1],ya=Za.cssText.replace(ya,"").replace(/\}[^\}]*$/g,
""));if(Ha){Za=ea;Za.Hh=[];Ha=Ha.split(/,\s*/gm);for(eb=0;eb<Ha.length;eb++){var Hd=Ha[eb];0<Hd.length&&Za.Hh.push(new MA(Hd))}ea.ao=ya;ea=!0}else ea=!1}else ea=!1;ea&&p.push(M)}IG[l]=p}l=IG[k];k=[];for(p=0;p<l.length;p++)k.push(l[p].clone());h=new QA(g);r=new NA("body");for(l=0;l<k.length;l++)for(w=k[l].Hh,p=w.length,H=0;H<p;H++){K=w[H];M=K;ea=h.uid;if(M.yw[ea])ea=M.yw[ea];else{for(var ya=0,eb=Ha=Za=null,Hd=h.UI,oi=Hd.length,te=0;te<=M.Ni.length;te++){for(Ha=M.Ni[te];ya<oi;){var Rd=Hd[ya];if(Ha&&
PA(Ha,Rd)){Za={FF:ya,FK:te};ya++;break}else eb&&PA(eb,Rd)&&(Za={FF:ya,FK:te-1});ya++}eb=Ha}ea=M.yw[ea]=Za}ea&&(M=ea.FK,K=K.Ni,ya=K.length-1,ea.FF==h.UI.length-1||M<ya?(K=K.concat(),K.splice(0,M+1,r),M=new MA,M.Ni=K,w.push(M)):0<M&&M==ya&&(M=new MA,M.Ni=[r,K[ya]],w.push(M)))}h=new KA;g=g.currentStyle||z.Je(g).defaultView.getComputedStyle(g,"")||{};l=new MA;l.Ni=[new NA("html")];h.Hh=[l];r={};for(l=0;p=JG[l];l++)r[p]=g[z.bb(p)];LA(h,r);k.push(h);h=new KA;r=new MA;r.Ni=[new NA("body")];w={position:"relative",
top:"0",left:"0",right:"auto",display:"block",visibility:"visible"};for(l=0;p=KG[l];l++)w[p]=g[z.bb(p)];LA(h,w,!0);h.Hh=[r];k.push(h);g=[];p=k.length;for(l=0;l<p;l++){w=k[l];h=g;H=w.Hh.length;r=!1;for(K=0;K<H;K++){M=w.Hh[K].Ni;ea=M.length;for(ya=0;ya<ea;ya++)h.push(M[ya].uH," ");K<H-1&&h.push(",");z.C&&!z.F("1.9a")&&(r=r||GG.test(M[ea-1].uH))}w=w.ao;r&&(w=w.replace(HG,"$1 color: $2 ! important; "));h.push("{",w,"}\n")}this.gz=g.join("")}}d=new WA(d,f+this.gz);c.Fr&&(f=z.Qg(d.uY),(f.top||f.left||f.right||
f.bottom)&&z.sg(a,"margin",-f.top+"px "+-f.right+"px "+-f.bottom+"px "+-f.left+"px"));XA(c,b,d,a);EB(this);z.sg(a,"visibility","visible")};z.e.dx=function(){z.md(this.iI);z.md(this.fT);z.CB.v.dx.call(this)};var fC={};fC._default_={Js:function(a){return window.$.get("/node/CommentV2",{params:{comment_id:a}})},Pj:tp,Qj:tp,add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},remove:function(a){return window.$.post("/node/CommentV2",{method:"remove_comment",params:{comment_id:a}})},It:function(a,b){return window.$.post("/node/CommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})}};
fC.answer={Pj:function(a,b){return window.$.get("/node/AnswerCommentBoxV2",{params:{answer_id:a,load_all:b}})},Qj:function(a){return window.$.get("/node/AnswerCommentListV2",{params:{answer_id:a}})},add:function(a){return window.$.post("/node/AnswerCommentAddV2",{method:"add_comment",params:a})},dO:function(a,b){return window.$.post("/node/AnswerCommentV2",{method:"author_remove_comment",params:{comment_id:a,is_block:b}})}};
fC.question={Pj:function(a){return window.$.get("/node/QuestionCommentBoxV2",{params:{question_id:a}})},Qj:function(a){return window.$.get("/node/QuestionCommentListV2",{params:{question_id:a}})},add:function(a){return window.$.post("/node/QuestionCommentAddV2",{method:"add_comment",params:a})}};
fC.favlist={Pj:function(a){return window.$.get("/node/FavlistCommentBoxV2",{params:{favlist_id:a}})},Qj:function(a){return window.$.get("/node/FavlistCommentListV2",{params:{favlist_id:a}})},add:function(a){return window.$.post("/node/FavlistCommentAddV2",{method:"add_comment",params:a})}};
fC.post={Js:function(a){return window.$.get("/node/PostCommentV2",{params:{comment_id:a}})},Pj:function(a,b){return window.$.get("/node/PostCommentBoxV2",{params:{post_id:a,load_all:b}})},Qj:function(a){return window.$.get("/node/PostCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PostCommentV2",{method:"add_comment",params:a})},It:function(a,b){return window.$.post("/node/PostCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/PostCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
fC.roundtable={Js:function(a){return window.$.get("/roundtable/comments/"+a)},Pj:function(a,b){return window.$.get("/node/RoundtableCommentBoxV2",{params:{roundtable_id:a,load_all:b}})},Qj:function(a){return window.$.get("/roundtable/comments",{roundtable_id:a})},add:function(a){return window.$.post("/node/RoundtableCommentV2",{method:"add_comment",params:a})},It:function(a,b){return window.$.post("/node/RoundtableCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},remove:function(a){return window.$.post("/node/RoundtableCommentV2",
{method:"remove_comment",params:{comment_id:a}})}};
fC.promotion={Js:function(a){return window.$.get("/node/PromotionCommentV2",{params:{comment_id:a}})},Pj:function(a,b){return window.$.get("/node/PromotionCommentBoxV2",{params:{post_id:a,load_all:b}})},Qj:function(a){return window.$.get("/node/PromotionCommentListV2",{params:{post_id:a}})},add:function(a){return window.$.post("/node/PromotionCommentV2",{method:"add_comment",params:a})},It:function(a,b){return window.$.post("/node/PromotionCommentV2",{method:b?"like_comment":"undo_like_comment",params:{comment_id:a}})},
remove:function(a){return window.$.post("/node/PromotionCommentV2",{method:"remove_comment",params:{comment_id:a}})}};z.y(z.FB,z.Kc);GB.prototype.fill=function(a,b){this[a]=this[a].replace("?",b);return this};z.y(HB,z.I);z.e=HB.prototype;z.e.fN={question:"问题",comment:"评论",answer:"回答",favlist:"收藏",member:"用户",message:"私信",image:"图片",video:"视频",post:"文章"};z.e.rx="report-dialog";z.e.pI="loading";z.e.bQ='\x3cform\x3e\x3cdiv class\x3d"header"\x3e\x3c% if (headnote) { %\x3e\x3cspan class\x3d"headnote"\x3e\x3c%\x3dheadnote%\x3e\x3c/span\x3e\x3c% } %\x3e\x3cspan class\x3d"error-container"\x3e\x3c/span\x3e\x3c/div\x3e\x3cul class\x3d"options clearfix"\x3e\x3c% each(options, function(option) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput value\x3d"\x3c%\x3doption.value%\x3e" name\x3d"reason" type\x3d"radio"\x3e\x3c%\x3doption.label%\x3e\x3c/label\x3e\x3c% if (option.description) { %\x3e\x3cdiv class\x3d"description visible-if-checked"\x3e\x3c%\x3doption.description%\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.options) { %\x3e\x3cul class\x3d"group-options clearfix visible-if-checked"\x3e\x3c% each(option.options, function(opt) { %\x3e\x3cli\x3e\x3clabel\x3e\x3cinput required data-description\x3d"\x3c%\x3dopt.description%\x3e" value\x3d"\x3c%\x3dopt.value%\x3e" name\x3d"reason-\x3c%\x3doption.value%\x3e" type\x3d"radio"\x3e\x3c%\x3dopt.label%\x3e\x3c/label\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cdiv class\x3d"group-description visible-if-checked"\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (option.value \x3d\x3d 0) { %\x3e\x3cp class\x3d"input-container visible-if-checked"\x3e\x3cinput placeholder\x3d"请填写原因" type\x3d"text" name\x3d"detail" class\x3d"reason-text zg-form-text-input"\x3e\x3c/p\x3e\x3cp class\x3d"error-container visible-if-checked"\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e\x3c% }) %\x3e\x3c/ul\x3e\x3cp class\x3d"footnote"\x3e\x3c/p\x3e\x3c/form\x3e';
z.e.mG=function(){return this.js};z.e.Tw=function(a,b){var c=new z.V;c.iq(!0);c.Ye(!0);z.Mj(c,z.Dj());c.addEventListener(z.Oj,this.EQ,!1,this);z.zc(c,this);a&&c.Sa(a);b&&c.ea(b);c.G(!0);c.ha();z.W.add(c.m(),this.rx);return this.js=c};z.e.EQ=function(a){if("ok"===a.key)return(a=(0,window.$)("form",this.js.m()).valid())&&this.submit(),a};
z.e.open=function(a,b,c){var d=this.Tw(z.Ja("确定要%s该%s？",this.rD[this.Ql()],this.fN[a]||"条目"),this.Uw());z.W.add(d.m(),this.pI);AD(a,this.Ql()).then((0,z.t)(function(f){d.ea((0,z.ew)(this.bQ,{each:z.A,options:f,headnote:c}));z.W.remove(d.m(),this.pI);d.ha();z.Uj(d,450);this.MP={type:a,id:b};this.ff(f)},this))};z.e.KG=function(){};
z.e.ff=function(a){var b=this,c=(0,window.$)(this.js.m()),d=(0,window.$)("form",c),f=(0,window.$)(".reason-text",c);c.on("change",":radio",function(g){g=(0,window.$)(g.target);c.find("li").removeClass("checked");g.parentsUntil(d,"li").addClass("checked");var h=this.value,k=z.pb(a,function(a){return h===String(a.value)});b.KG(k);k="0"===h;f.toggle(k);k&&f.placeholder();g.closest("li").find("ul, :text").length||d.valid()});c.find("ul ul").on("change",":radio",function(a){(0,window.$)(a.delegateTarget).parent().find(".group-description").text((0,window.$)(this).data("description"))});
d.validate({rules:{reason:"required",detail:{rangelength:[2,100],required:function(){return!!(0,window.$)("input[name\x3dreason]:checked",c).length}}},messages:{reason:"请选择理由",detail:"理由为 2-100 字"},errorLabelContainer:(0,window.$)(".error-container",d)})};z.e.Uw=function(){return'\x3cdiv class\x3d"loading"\x3e理由加载中\x3ci class\x3d"spinner-gray"\x3e\x3c/i\x3e\x3c/div\x3e'};z.y(z.IB,HB);var AD=function(a){return function(b,c){return a(z.Ja("/manage/%s/options?action\x3d%s",b,c))}}(z.jk(window.$.getJSON));z.e=z.IB.prototype;z.e.rD={remove:"删除",lock:"锁定",unlock:"解除锁定",collapse:"折叠",uncollapse:"解除折叠",mute:"隔离",unmute:"解除隔离"};z.e.Tw=function(a,b){var c=z.IB.v.Tw.call(this,a,b);c.wc.set("ok",this.rD[this.Ql()]);return c};z.e.Ql=function(){return this.Bu.op.split("-")[0]};z.e.HK=function(a){(0,window.$)(".footnote",this.mG().m()).text(a)};
z.e.KG=function(a){a&&(a.trackable?KB(this,a).then((0,z.t)(this.HK,this)):this.HK(""))};z.e.submit=function(){var a=this.Bu.action,b=this.Bu.content,c=(0,window.$)((0,window.$)("form",this.js.m())[0]).serialize();b&&(c+="\x26"+b);JB(a,c,this.sl)};z.e.D=function(){this.sl=this.Bu=null;z.IB.v.D.call(this)};z.e.open=function(a,b,c){this.Bu=z.kf(a)?(0,window.$)(a).data():a;this.sl=c||z.ie.$Z;z.IB.v.open.call(this,b.type,b.id,"")};z.LB.prototype.submit=function(a,b){function c(){b?b():d.handleError()}var d=this;window.$.post("/report",{type:this.type,id:this.id,reason:a||"edit",source:"web"}).done(function(a){d.BL&&d.BL();a.r?"duplicate_report"===a.errtype?d.handleError(a.msg):c():MB(!!a.noti)}).fail(c)};z.LB.prototype.handleError=function(a){var b=z.X({title:"举报",content:void 0===a?"举报失败":a,modal:!0,buttons:{}});(0,window.setTimeout)(function(){return b.G(!1)},4E3)};
z.LB.prototype.render=function(){var a=this,b=new z.V;b.Ye(!0);z.Uj(b,420);b.Sa("举报");b.render();var c=b.T();c.style.margin="0";c.style.padding="0";z.ex("Report").then(function(d){function f(){d.unmountComponentAtNode(c);b.G(!1)}a.BL=f;var g={},g=(g.type=a.type,g.onContentChange=function(a){b.Sa(a);b.m().focus()},g.onClose=f,g.onSubmit=a.submit.bind(a),g.talkerToken=a.mv,g);d.render(c,g);b.G(!0);b.ha()})};z.y(NB,z.R);z.e=NB.prototype;z.e.defaults={trigger:{A:"data-editable"},mN:"hc-actionbar",VS:"checked",bX:100,YR:100};z.e.C=function(){NB.v.C.call(this);this.uj=z.O("div");window.document.body.appendChild(this.uj);OB(this,this.h)};z.e.D=function(){z.P(this.uj);this.uj=null;NB.v.D.call(this)};z.e.yy=function(){return this.bS};
z.e.tO=function(a,b,c){b=z.O("div",{title:a.pa,"data-action":a.name,className:"button "+a.name+(0===b?" first":b===c.length-1?" last":"")},[z.O("i","icon icon-actionbar-"+a.name)]);z.Bo(b,!0);this.o().g(b,"click",function(){PB(this,a.name)&&a.fi(this.Ge)});return b};z.e.render=function(){this.uj.innerHTML="";z.$e(this.uj,z.mb(z.Fb(Un(this.qn)),this.tO,this))};z.y(z.RB,z.R);z.RB.prototype.defaults={XG:{},aO:!0};z.RB.prototype.C=function(){z.RB.v.C.call(this);var a=this,b=this.h;this.J.aO&&(this.pn=dC(b),z.zc(this,this.pn));this.o().g(b,"paste",function(){(0,window.setTimeout)(function(){SB(a)})}).g(b,"keydown",this.RR)};
z.RB.prototype.RR=function(a){var b=z.go(a.keyCode),c=8===a.keyCode;if(!(a.ctrlKey||a.altKey||a.metaKey||!b&&!c)){var b=z.Ju(),d=b.Z(),f=b.ka(),g=this.h,h,k=VB(d,g,XB)||f!==d&&(h||(h=VB(f,g,XB)));if(k){var l=z.pf(k),p=b.wa(),r=b.Qa();if(k.getAttribute("data-editable")&&l===k.href||"video-link"===k.className){var w=!1;h=h||VB(f,g,XB)||k;var g=k.contains(d),H=h.contains(f);if(c)g&&(d=k,p=0,w=!0),H&&(f=h,r=z.Xu(h),w=!0),w&&z.uu(d,p,f,r).select();else if(g&&H&&h===k){if(!b.isCollapsed()||0!==p&&l.length!==
p)a.preventDefault(),z.dv(k)}else g&&(d=k.nextSibling,p=0,w=!0),H&&(f=h.previousSibling,r=z.Xu(f),w=!0),w&&z.uu(d,p,f,r).select()}}}};var cC=/\b(?:(?:https?):\/\/|www\.)(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[\-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([\-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/ig,ZB=["http:","https:"],$B=z.jk(function(a){return window.$.post("/scraper",{url:a})});z.y(z.eC,z.R);z.e=z.eC.prototype;z.e.defaults={iT:!1,autofocus:!0,Ox:"empty",Cf:"zm-item-comment"};z.e.W=function(a){z.eC.v.W.call(this,a);xC(this);a=window.location.hash.slice(1).split("-");if(a="comment"===a[0]&&a[1])a=qC(this,a),z.zr(a),z.Pr(a),a.focus();this.dh=!0;z.A(rC(this),this.fu,this)};z.e.wn="zm-comment-bubble";z.e.$D="."+z.eC.prototype.wn;z.e.$=function(a){return(0,window.$)(a,this.h)};z.e.B=function(){this.h=z.O("div",{"class":this.FE,style:"display:none"});this.bh()};z.e.Sn=function(){return'\x3ci class\x3d"icon icon-spike zm-comment-bubble"\x3e\x3c/i\x3e\x3cdiv class\x3d"zm-comment-spinner"\x3e正在加载，请稍等 \x3ci class\x3d"spinner-lightgray"\x3e\x3c/i\x3e\x3c/div\x3e'};
z.e.D=function(){z.eC.v.D.call(this);this.Ja=this.ME=this.Pn=this.PD=this.$d=this.dB=this.lI=null};
z.e.fX=gC(function(a){var b=z.N("zm-comment-content-wrap",a),c=z.N("zm-comment-form",a),d=a.getAttribute("data-id"),f=this,g;if(c){g=z.N("zm-comment-editable",c);if(z.Lg(c)){if(z.Or(c)){z.Q(c,!1);return}}else z.Q(c,!0);oC(g)}else{c=pC(b);g=z.N("zm-comment-editable",c);var h=new z.CB(g);h.Yd(!1,"");h.te();z.Ac(this,hC(h.m(),this.type,this.id));oC(g);a=z.N("zm-comment-close",c);b=z.N("zm-comment-submit",c);b.name="";var k=function(){f.ma({action:"click_reply_[type]_comment_submit"});var a=(0,z.$a)(h.Sl()),
b=(0,z.$a)(z.pf(g));a&&b?zC(f,{content:a,fW:d},function(a){a.r||(z.Q(c,!1),h.Yd(!1,""),(a=z.jb(rC(f)))&&z.Pr(a,{offsetTop:100,Aw:!0}))}):(z.X.message("请填写内容"),g.focus())};z.G(a,"click",function(){z.Q(c,!1)});z.G(b,"click",k);z.G(g,"keydown",function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(k(),a.preventDefault())})}z.Pr(c,100)});z.e.cv=function(a){z.W.enable(this.ME,"expanded",a)};
z.e.cj=function(a,b){this.dispatchEvent(new z.FB("click!comment",{category:"?",action:this.type+"_comments",label:"?_"+a,value:z.pa(b)?b:this.ob()}))};z.e.Uj=function(){this.dh?vC(this):this.tu=!0};z.e.kU=function(a){13===a.keyCode&&(a.ctrlKey||a.metaKey)&&(this.lr(),(0,window.$)(this.Ja).blur(),a.preventDefault());27===a.keyCode&&tC(this)};
z.e.Va=function(a){var b=z.Gr(this.h,a.target,"BUTTON")||z.Gr(this.h,a.target);if(b&&b.name){var c=z.Jo(b,this.J.Cf);a.preventDefault();switch(b.name){case "reply_comment":this.ma({action:"click_reply_[type]_comment_start"});this.fX(c);break;case "cancelanon":a=(0,window.$)(this.h).parents(".feed-item-hook").data("qid");z.Cp(0,null,a);break;case "delcomment":this.Ly(b);break;case "like_comment":this.jR(b);break;case "author_delcomment":BC(this,b);break;case "admin_delcomment":AC(this,b);break;case "closeform":this.ma({action:"click_add_[type]_comment_cancel"});
tC(this);break;case "addnew":this.ma({action:"click_add_[type]_comment_submit"});this.lr();break;case "load-more":this.cj("comments_all"),this.ma({action:"click_view_all_comment"}),this.lI(b)}}};
z.e.lI=function(a){this.Ot&&"pending"===this.Ot.state()||(a&&z.W.add(a,"loading"),this.Ot=this.dB||this.mI(),this.Ot.done((0,z.t)(function(b){b=(0,window.$)(b).filter(".zm-item-comment").get();if(b.length){var c=rC(this);c.length&&(b=z.lb(b,function(a){return!z.pb(c,function(b){return b.getAttribute("data-id")===a.getAttribute("data-id")})}),b=z.tb(c,b).sort(function(a,b){return a.getAttribute("data-id")-b.getAttribute("data-id")}),z.A(b,this.fu,this),a&&z.P(a));z.$e(this.Pn,b)}},this)))};
z.e.jR=gC(function(a){var b=(0,window.$)(a),c=z.Jo(a,this.J.Cf);a=(0,window.$)(".like-num",c);var d=c.getAttribute("data-id");if(c=!b.hasClass("liked"))this.cj("like_comment"),this.ma({action:"click_like_[type]_comment"});this.Sg.It(d,c);var d=(0,window.$)("em",a),f=+d.text()+(c?1:-1);a.toggleClass("liked",c).toggleClass("nil",0>=f).attr("data-tooltip","s$r$"+f+" 人觉得这个很赞");d.text(f);b.toggleClass("liked",c);rr(b[0],c?"取消赞":"赞")});z.e.expand=function(){this.Rc(!0)};z.e.collapse=function(){this.Rc(!1)};
z.e.fd=function(){return this.dh};z.e.Rc=function(a){if(a!==this.dh){a&&(this.$(this.$D).hide(),this.bh());this.dh=a;this.dispatchEvent(a?"beforeexpand":"beforecollapse");z.Q(this.h,this.dh);var b=(0,z.t)(function(){a&&uC(this);this.dispatchEvent(a?"expand":"collapse");this.Nl&&!a&&(z.sv(this.Nl),z.Pr(this.Nl.h))},this),c;a&&this.tu?(c=vC(this))&&c.done(b):(0,window.setTimeout)(b);this.$d&&(a?(this.kV=z.pf(this.$d),rr(this.$d,"收起评论")):rr(this.$d,0>this.Na?this.kV:this.Na?this.Na+" 条评论":"添加评论"))}};
z.e.Qh=function(){this.Rc(!this.dh)};z.e.mI=function(){return this.Sg.Qj(this.id)};z.e.fq=function(a){this.yj=a};z.e.$V=function(a){a=z.Xe((0,z.$a)(a));z.Q(a,this.dh);z.A((0,window.$)("."+this.J.Cf,a).get(),this.fu,this);this.tu=!1;this.zb();z.Ro(a,this.h);this.h=a;xC(this)};z.e.lo=function(){this.Ja.focus()};z.e.Za=function(){var a=(0,z.$a)(this.Ej.Sl());return a===this.placeholder?"":a};
z.e.lr=gC(function(){var a=this.Za(),b=(0,z.$a)(z.pf(this.Ja));a&&"TEXTAREA"===this.Ja.tagName&&b||a?zC(this,a):(z.X.message("请填写内容"),this.lo())});z.e.ob=function(){return this.Na};z.e.tQ=function(a){if(!a)return z.X.message("网络异常");if(a.r)return z.X.alert(a.msg);this.Sg.Js(a.msg).done(window.$.proxy(this.aW,this));this.Ej.Yd("");nC(this);this.cv(!1)};
z.e.fu=function(a){if(z.rm("auth_f_manage")&&"favlist"!==this.type&&!(0,window.$)(".del, .op.remove",a).length){var b=a.getAttribute("data-id");(0,window.$)("\x3ca\x3e",{href:"#",name:"admin_delcomment","class":"del zm-comment-op-link op needsfocus",html:'\x3ci class\x3d"zg-icon zg-icon-comment-del"\x3e\x3c/i\x3e删除',"data-op":"remove-comment","data-action":"/manage?"+window.$.param({comment_id:b,action:"remove_comment2"})}).appendTo((0,window.$)(".zm-comment-ft, .actions",a))}this.Oo(a)};
z.e.Oo=function(a){(0,window.$)("a[name\x3dreport], button.report",a).on("click",function(){(new z.LB({type:"comment",id:a.getAttribute("data-id")})).render()})};z.e.aW=function(a){this.lk="";a=z.Xe(a);this.Pn.appendChild(a);this.fu(a);this.Na+=1;yC(this)};z.e.Ly=function(a){var b=z.Jo(a,this.J.Cf),c=b.getAttribute("data-id");z.X.confirm("删除评论","你确定要删除这条评论吗？",function(a){a&&DC(this,c,z.Aa(z.P,b))},this)};
z.e.bh=function(){(0,window.$)(window).on("beforeunload.CommentForm",(0,z.t)(function(){if(this.lk)return"你的评论还未保存，确认离开该页面吗？"},this))};z.e.pi=function(){(0,window.$)(window).off("beforeunload.CommentForm")};z.e.ma=function(a){this.dispatchEvent({type:"trackRequested",category:"comment",action:a.action.replace("[type]",this.type)})};z.n(FC,z.R);z.e=FC.prototype;z.e.fd=function(){return this.ik};z.e.Rc=function(a){a!==this.ik&&(this.dispatchEvent(a?"beforeexpand":"beforecollapse"),this.ik=a,z.Q(this.h,a),KC(this),LC(this),this.dispatchEvent(a?"expand":"collapse"),this.Ol&&!a&&(z.sv(this.Ol),z.Pr(this.Ol.m())))};z.e.Qh=function(){this.Rc(!this.ik)};z.e.cj=function(){};z.e.lo=function(){(0,window.$)("[data-input-box]",this.m()).focus()};z.e.reload=function(){MC(this,"reloadComments")};z.e.fq=function(a){this.yj=a};
z.e.ff=function(){var a=this;KC(this);LC(this);IC(this);this.o().g(z.Ep,"anon_change",function(){a.ik&&a.reload()});(0,window.$)(this.m()).on("click",'button[data-key\x3d"cancel"]',function(b){0===HC(a)&&(b.preventDefault(),a.Rc(!1))})};z.e.B=function(){this.h=z.O("div","comment-app-holder");z.Q(this.h,!1)};
z.e.render=function(a,b){b=void 0===b?{}:b;var c=this;z.R.prototype.render.call(this,a);var d=this.entryType,f=this.sb,g={},h=Object.assign((g.entry={id:f,type:d},g.useContentEditable=z.Vm,g.createItemActions=function(a){var b=[],d=a.id,f=a.own;!f&&z.tm.yH&&b.push({key:"adminremove",label:"删除",icon:"zg-icon zg-icon-comment-del",onClick:function(){var a={op:"remove-comment",action:"/manage?comment_id\x3d"+d+"\x26action\x3dremove_comment2"},b={id:d,type:"comment"};(new z.IB).open(a,b,function(){MC(c,
"RemoveComment",{id:d})})}});f||b.push({key:"report",label:"举报",icon:"zg-icon zg-icon-comment-report",onClick:function(){(new z.LB({type:"comment",id:a.id})).render()}});return b},g.onEditorCreated=function(a){return hC(a,d,f)},g.onRequestHighlight=function(a){z.zr(a);z.Pr(a,{offsetTop:45});a.focus()},g),b),g=z.ha(window.location.hash.match(/#comment-(\d+)/)||[]);g.next();(g=g.next().value)&&(h.query={bycomment:g});var k=Object.assign({},gx(),{authRequired:function(a){return z.Lq(a,!0,function(){return c.yj})}}),
l=z.Rj(function(){return c.gE&&GC(c)});z.ex("CommentApp").then(function(b){a.appendChild(c.h);c.vr=b.render(c.h,h,k);c.ff();c.vr.store.subscribe(function(){(0,window.setTimeout)(function(){KC(c);LC(c);l()})})})};z.QG={RG:function(a){this.tv();var b=this.Ia.fd();(0,window.$)(".zm-meta-panel",this.m()).toggleClass("focusin",b);b&&(a=(0,window.parseInt)(z.pf(a.currentTarget),10)||0,this.Ia.cj("view_comments",a));(0,z.Ni)(this,{action:b?"CommentIntent":"EndCommentIntent",element:"Button"})},tv:function(){this.KF();this.Ia.Qh()},OZ:function(){return this.Ia},XQ:function(){this.Ia?this.Ia.lo():this.tv()},KF:function(){if(!this.Ia){var a=(0,window.$)(".toggle-comment, .js-toggleCommentBox",this.h)[0],b=this.kG();
if(b===FC)this.Ia=new b(this.sb,this.entryType),this.L(this.Ia),this.Ia.render(this.sy(),{embedded:/^\/roundtable/.test(window.location.pathname)}),JC(this.Ia,a);else if(this.Ia=new b(this.sb,this.entryType),this.L(this.Ia),z.iC(this.Ia,this.sy(),a),a=this.Ia,!a.Nl&&!z.tm.Ab&&(b=z.Jo(a.h,"zm-item-meta"))){var c=z.N("zm-meta-panel",b);c&&(a.Nl=new wv(null,b),a.Nl.tag="comment",a.Nl.w(c))}this.ty&&this.Ia.fq(this.ty())}},kG:function(){return z.eC}};z.y(NC,z.R);var OC={Rg:"is-sticky",top:null,bottom:null,Mb:null,RN:!1,sJ:z.q,hu:z.q};z.e=NC.prototype;z.e.D=function(){this.stop();NC.v.D.call(this)};z.e.start=function(){this.state.pm||(this.state.pm=!0,(0,window.$)(window).on("scroll resize",this.jL).trigger("scroll"))};z.e.stop=function(){this.state.pm&&(this.state.pm=!1,(0,window.$)(window).off("scroll resize",this.jL),this.restore(),this.state.ut=!1,this.state.wt=!0,(0,window.setTimeout)(function(){(0,window.$)(window).trigger("scroll")}))};
z.e.update=function(){if(this.state.To)this.state.YA=!0;else{var a=this.options.top,b=this.options.bottom,c=this.state.ut,d=this.state.wt,f,g,h=(this.rc||this.h).getBoundingClientRect(),k=this.options.Mb.getBoundingClientRect(),l=(0,window.$)(window).height();h.height||(h.height=h.bottom-h.top);null!==a?(f=h.top>a,g=k.bottom>a+h.height):null!==b&&(f=h.bottom>l-b,g=k.top>l-h.height-b);this.state.ut=f;this.state.wt=g;if((c&&!d)===(f&&!g))f&&!g&&this.ha();else{if(d&&!g)return QC(this);if(!d&&g)return SC(this);
this.options.RN?f?QC(this):SC(this):f?PC(this):this.restore()}}};z.e.ha=function(){var a=(this.rc||this.h).getBoundingClientRect().left,b=this.options.top,c=this.options.bottom;(0,window.$)(this.h).css({left:a+"px",top:b?b+"px":"auto",bottom:c?c+"px":"auto"})};z.e.restore=function(){this.rc&&((0,window.$)(this.h).removeClass(this.options.Rg).css({left:"",top:"",bottom:""}),(0,window.$)(this.rc).remove(),this.rc=null,this.options.hu.call(this))};
z.e.onAnimationEnd=function(){this.state.To=!1;this.state.YA&&(this.state.YA=!1,this.update())};z.y(z.UC,z.R);z.Ba(z.UC.prototype,z.QG);var VC={question:"Question",answer:"Answer",post:"Post",promotion:"Ad"};z.e=z.UC.prototype;z.e.ws="zm-item-expanded";z.e.nN="zm-item-meta, .js-contentActions";z.e.ip=null;z.e.Dx="z-icon-fold";z.e.dC="sprite-global-icon-fold-white";z.e.C=function(){z.UC.v.C.call(this);$C(this);this.Cn();this.Zh();XC(this);YC(this);if(this.tb)this.nt();else{var a=this;this.g("expand",function(){return a.nt()})}};
z.e.Fy=function(){return Object.assign({},{type:this.RC,id:this.sb,token:this.ti},this.qo())};z.e.qo=function(){return{}};z.e.uG=function(){return bD(this)};z.e.ty=function(){var a=this.entryType+"-"+this.sb;return(0,window.$)('a[name\x3d"'+a+'"]',this.h).length&&"#"+a};
z.e.Cn=function(a){var b={".js-expand":this.expand,".js-collapse":this.collapse,".js-report":this.zR,".column[data-entry-url]":this.zG};z.Lb(b,a||{});z.Cb(b,function(a,b){if(z.qa(a))(0,window.$)(this.h).on("click",b,window.$.proxy(a,this))},this);(0,window.$)(".js-toggleCommentBox",this.h).on("click",this.RG.bind(this))};z.e.Rt=function(){(0,z.DG)(this.entryType,this.ti,"read")};z.e.uI=function(){(0,z.DG)(this.entryType,this.ti,"touch")};
z.e.expand=function(a){this.tb||(this.tb=!0,z.W.add(this.h,this.ws),this.dispatchEvent("expand"),a=a&&z.kf(a.target)&&z.Ei(a.target,"js-vote-count"),this.xv(a),(0,z.Ni)(this,{action:"Expand",element:"Card"}))};z.e.collapse=function(){this.tb&&(this.tb=!1,this.wv(),Tr(this.h,(0,z.t)(function(){z.W.remove(this.h,this.ws);this.dispatchEvent("collapse")},this)),(0,z.Ni)(this,{action:"Collapse",element:"Button"}))};z.e.fd=function(){return this.tb};z.e.Qh=function(){this.tb?this.collapse():this.expand()};
z.e.OK=function(){return!z.xm};
z.e.nt=function(){if(this.tb&&this.OK()&&!this.sP){this.sP=!0;var a=(0,window.$)(".js-collapse-body",this.h)[0];if(a){var b=this,c=(0,window.$)(".js-collapse",this.h)[0];if(!c){if("answer"!==this.entryType)return;c=(0,window.$)(".zm-meta-panel",this.h);if(!c.length)return;c=(0,window.$)('\x3cbutton class\x3d"item-collapse js-collapse"\x3e\x3ci class\x3d"sprite-global-icon-fold-white"\x3e\x3c/i\x3e收起\x3c/button\x3e').appendTo(c).on("click",(0,z.t)(this.collapse,this)).get(0)}var d=this.aL=new NC(0,
{bottom:12,Mb:a,sJ:function(){(0,window.$)("i",this.h).removeClass(b.Dx).addClass(b.dC)},hu:function(){(0,window.$)("i",this.h).removeClass(b.dC).addClass(b.Dx)}});z.zc(this,d);d.w(c);this.g("expand",function(a){a.target===a.currentTarget&&d.start()});this.g("collapse",function(a){a.target===a.currentTarget&&d.stop()});d.start()}}};
z.e.xv=function(a){var b="view_answer",c=bD(this);a=a?"vote_up_count":"expand_answer";var d=(0,window.$)(this.h).index()+1;if("feed"!==c)z.Ai(b,"click_expand_answer",c+"_"+a,d);else{var c=aD(this),f=cD(this);-1<c.indexOf("article")?(b="view_article",c="feed_article",a="expand_article"):c="feed_answer";z.Ai(b,"click_expand_answer",c+"_"+f+"_"+a,d)}};
z.e.wv=function(){var a="view_answer",b=bD(this),c;if(c=this.aL)c=this.aL,c=c.state.ut&&!c.state.wt;c=c?"blue":"grey";var d="collapse_answer_"+c,f=(0,window.$)(this.h).index()+1;if("feed"!==b)z.Ai(a,"click_collapse_answer",b+"_"+d,f);else{var b=aD(this),g=cD(this);-1<b.indexOf("article")?(a="view_article",b="feed_article",d="collapse_article_"+c):b="feed_answer";z.Ai(a,"click_collapse_answer",b+"_"+g+"_"+d,f)}};z.e.$U=function(){var a=z.N(this.ip,this.h);window.open(a?a.href:this.Le.url)};
z.e.Xj=function(){var a=this,b=(0,window.$)(this.m());b.slideUp(function(){a.H();b.remove()})};z.e.mc=null;z.e.zG=function(a){var b=(0,window.$)(a.currentTarget).data("entry-url");"column"===this.entryType&&b&&!a.target.href&&window.open(b)};z.e.sy=function(){return dD(this)};z.e.kG=function(){return"answer"===this.entryType||"post"===this.entryType?FC:z.eC};
z.e.Zh=function(){this.Of=z.dn.hM(this.h);z.xl(z.xl(z.xl(z.xl(this.Of.register("shift+o",this.$U,this),{group:"操作",name:"新窗口打开条目"}).register("o",this.Qh,this),{group:"操作",name:"显示全部/收起"}).register("c",this.tv,this),{group:"操作",name:"打开评论"}).register("shift+c",this.XQ,this),{group:"操作",name:"定位到评论框"})};z.e.zR=function(){(new z.LB({type:this.entryType,id:this.sb})).render();(0,z.Ni)(this,{action:"ReportIntent",element:"Button"})};z.ED={sI:function(a){return(0,window.$)('\x3cdiv class\x3d"copyright-notification"\x3e\x3cdiv class\x3d"user-image-container"\x3e\x3cimg class\x3d"user-image" src\x3d"'+(a||"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip right noty-tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow arrow"\x3e \x3c/div\x3e\x3cdiv class\x3d"tooltip-inner inner"\x3e保留所有权利，禁止转载\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}};z.ED.mS=z.Rj(function(){var a=z.ED.sI();(0,window.$)("body").append(a);return a});
z.ED.gX=function(a,b,c,d){var f=-1,g=-1,h=z.ED.mS();a.on("mousedown",function(a){3===a.which&&(f=a.pageX,g=a.pageY)});a.on("copy",function(k){var l=z.Ju(),p=Math.floor(22*Math.random()+44);if(l&&l.Sd()&&(0,z.$a)(l.Sd()).length>p){d&&(k.preventDefault(),k.stopImmediatePropagation());(0,window.$)(".user-image",h).attr("src",b);(0,window.$)(".tooltip-inner",h).text(c);k=l.Dy();var l=l.uy(),p=z.Yn(window).y,r=z.Pe(window).height,w=ap(p+45+15,Math.min(k.y,l.y)+p,p+r-15),H=ap(p+45+15,Math.max(k.y,l.y)+
p,p+r-15);z.tm.Ab?(r=(z.Pe(window).width-265)/2,k=z.Ml?l.y>k.y?l.y+p+10:k.y+p-10:-1!==g?g+3:w+(H-w)/2-15):(r=-1!==f?f+3:a.offset().left+a.width()/2-15,k=-1!==g?g+3:w+(H-w)/2-15);h.css({position:"absolute",left:r,top:k}).finish().fadeIn(300).delay(2E3).fadeOut(300)}g=f=-1})};
z.ED.HD=function(a,b,c){function d(a,b,c){a=["作者："+b,"链接："+a,"来源：知乎","著作权归作者所有，转载请联系作者获得授权。"];b=["",""];return a=c?a.concat(b):b.concat(a)}function f(a,b,c,f){b=d(b,c,f).join("\x3cbr /\x3e");return"\x3cdiv\x3e"+(f?b+a:a+b)+"\x3c/div\x3e"}function g(a,b,c,f){b=d(b,c,f).join("\n");return f?b+a:a+b}function h(){var a="";window.getSelection?a=window.getSelection().toString():window.document.selection&&"Control"!==window.document.selection.type&&(a=window.document.selection.createRange().text);return a}
function k(a){var d=z.Ju(),k=d&&(0,z.$a)(d.Sd());if(k&&!(128>k.length)){k=512<=k.length;if("object"===typeof a.originalEvent.clipboardData&&(a.originalEvent.clipboardData.setData("text/html",f(d.mg(),b,c,k)),a.originalEvent.clipboardData.setData("text/plain",g(h(),b,c,k)),0<a.originalEvent.clipboardData.getData("text/plain").length)){a.preventDefault();return}if(window.getSelection){a=d.mg();var w=(0,window.$)(f(a,b,c,k)).css({position:"fixed",left:"-9999px"}).appendTo("body");window.getSelection().selectAllChildren(w.get(0));
(0,window.setTimeout)(function(){d.select();w.remove()},200)}}}a&&b&&c&&(z.Ia(b,"http")||(b=window.location.protocol+"//"+window.location.host+b),a.on("copy",k))};z.y(gD,z.R);z.e=gD.prototype;z.e.ma=function(a){this.dispatchEvent({type:"trackRequested",category:"share",action:a.action.replace("[type]","post"!==this.wb?this.wb:"article"),attributes:a.attributes})};z.e.W=function(a){var b=this;gD.v.W.call(this,a);var c=this.Ga=(0,window.$)(a);z.fh?c.click(Ow):z.xm?c.click(this.MK.bind(this)):this.nc();c.click(function(){b.ma({action:"click_share_[type]_start"});(!b.qp||b.qp&&b.qp.X())&&(0,z.Ni)(a,{action:"ShareIntent",element:"Button"})})};
z.e.nc=function(){hD(this);this.Ga.one("mouseover focus",window.$.proxy(z.Rj(this.BV),this))};z.e.BV=function(){this.Pm||(this.Pm=z.tt(this.wb,this.KL));if(this.qp){var a=z.Kw(this.NK);(0,window.$)(".js-qrcode-image",this.qp.m()).attr("src",a)}};
z.e.sQ=function(a){a=a.target.Y();0===a?this.MK():2===a&&(window.open("https://dudu.zhihu.com/post?"+window.$.param({url:this.NK,utm_source:"zhihu-web_share",utm_medium:"button",utm_campaign:"post"}),"_blank"),this.ma({action:"click_share_[type]_to_dudu_start"}),(0,z.Ni)(this.m(),{action:"Share",element:"Menu"},{share:{type:"Dudu"}}))};
z.e.MK=function(){this.Pm||(this.Pm=z.tt(this.wb,this.KL));this.Pm.then(function(a){z.eD(a.msg.sina)});this.ma({action:"click_share_[type]_to_weibo_start"});(0,z.Ni)(this.m(),{action:"Share",element:"Menu"},{share:{type:"Weibo"}})};z.y(iD,fA);iD.prototype.ec=function(a){var b=iD.v.ec.call(this,a);a=(0,window.parseInt)(z.rl[a.keyCode],10);(0,window.isNaN)(a)||this.cb().Eb(a-1);return b};z.y(z.jD,z.R);var kD={uX:"textarea.content, script.content",uO:".toggle-expand",qX:".summary",SE:null,QE:""};z.e=z.jD.prototype;
z.e.C=function(){z.jD.v.C.call(this);var a=this.h;this.fr=(0,window.$)(this.options.uX,a);this.content=this.fr.is(":input")?this.fr.val():this.fr.html();this.dl=(0,window.$)(this.options.qX,a);this.bf=(0,window.$)(this.options.SE,a);this.pd=(0,window.$)(this.options.uO,this.dl);if(!this.dl.length)return this.dispatchEvent("invalid");this.OH=!!this.pd.length;this.pd.on("click",(0,z.t)(this.xQ,this));this.dl.on("click",(0,z.t)(this.DR,this))};z.e.xQ=function(a){a.preventDefault();lD(this)};
z.e.DR=function(a){var b=z.Ju();b&&b.Sd()||a.target===this.pd[0]||(b=(0,window.$)(a.target).closest("a").get(0),b&&"javascript:"!==b.protocol||(a.preventDefault(),lD(this)))};z.e.expand=function(){this.bf.length||(this.bf=(0,window.$)("\x3cdiv\x3e").html(this.content).addClass(this.options.QE).insertBefore(this.fr));this.dl.hide();this.bf.show();this.dispatchEvent("expand")};z.e.collapse=function(){this.dl.show();this.bf.hide();this.dispatchEvent("collapse")};var sD={QC:function(a,b){return window.$.post("/node/ColumnPostVoteBarV2",{method:b,params:{post_id:a}})},wG:function(a){return window.$.get("/node/ColumnPostVoteInfoV2",{params:{post_id:a}})}};z.y(nD,z.R);z.pD={Og:1,el:-1,ir:0};nD.prototype.defaults={$X:"up",yP:"down",UO:"count",zu:"pressed"};z.Lb(nD.prototype,z.pD);z.e=nD.prototype;z.e.M=z.pD.ir;
z.e.w=function(a){nD.v.w.call(this,a);var b=this.J;a=this.R=(0,window.$)(a);this.ew=(0,window.$)("."+b.$X,a);this.Rv=(0,window.$)("."+b.yP,a);this.Tq=(0,window.$)("."+b.UO,a);b=this.ew.hasClass(this.J.zu);a=this.Rv.hasClass(this.J.zu);b?this.M=z.pD.Og:a&&(this.M=z.pD.el);qD(this);this.ew.click(window.$.proxy(this.uC,this));this.Rv.click(window.$.proxy(this.oL,this));z.yo(this,{module:"VoteBar"})};z.e.getState=function(){return this.M};
z.e.sc=z.Lq(function(a){a!==this.M&&z.$n(z.pD,a)&&(this.dispatchEvent({type:"action",data:{state:a}}),this.oi&&"pending"===this.oi.state()&&this.oi.abort(),oD(this,this.M,a),this.M=a,qD(this),this.sX().done((0,z.t)(function(a){a.r||this.Oc()},this)))},!0);z.e.HB=function(a){a=(0,window.parseInt)(a);this.Tq.text(1E4>a?a.toString():1E6>a?(0,window.parseInt)(a/1E3)+"K":1E9>a?(0,window.parseInt)(a/1E6)+"M":(0,window.parseInt)(a/1E9)+"G")};z.e.ob=function(){return this.Tq.text()};
z.e.sX=function(){var a={};a[z.pD.Og]="vote_up";a[z.pD.el]="vote_down";a[z.pD.ir]="vote_neutral";return this.oi=(0,{post:sD.QC,answer:tD.QC,promotion:mD}[this.entryType])(this.sb,a[this.M])};z.e.uC=function(){this.sc(this.M===z.pD.el?z.pD.Og:this.M^z.pD.Og);(0,z.Ni)(this,{action:this.M===z.pD.ir?"UnUpvote":"Upvote",element:"Button"})};z.e.oL=function(){this.sc(this.M===z.pD.Og?z.pD.el:this.M^z.pD.el);(0,z.Ni)(this,{action:this.M===z.pD.ir?"UnDownvote":"Downvote",element:"Button"})};z.e.Oc=function(){this.dispatchEvent("change")};z.y(rD,z.R);z.e=rD.prototype;z.e.ob=function(){return this.rb.data("votecount")};z.e.HB=function(a){this.rb.data("votecount",a);this.Oc()};z.e.Oc=function(){this.dispatchEvent("change")};z.e.Jf=function(a){if(a=(0,z.$a)(a))a=(0,window.$)(a),this.rb.replaceWith(a),this.rb=a,this.cc(),this.Oc()};
z.e.cc=function(){function a(a,d){var f=z.O("div","zm-voters");a.appendChild(f);var g=z.O("div","listview");f.appendChild(g);var h=("post"===b.entryType?"/post/":"/answer/")+b.sb+"/voters_profile",k=new z.Dl({use:[],source:function(){return window.$.get(h).then(function(a){var c=a.paging;c&&(c.total&&b.HB(c.total),h=c.next);return{results:a.payload,next:!!h}})}});k.w(g);k.sf().setAttribute("hidden","true");z.zc(d,k);k.o().Aa(k,"next",function(){k.lb().length?(k.sf().removeAttribute("hidden"),k.use("autoload",
{yr:!1,viewport:f})):(k.H(),f.innerHTML='\x3cdiv class\x3d"empty-results"\x3e还没有人赞同\x3c/div\x3e')});return k.th()}var b=this;(0,window.$)("a.more",this.rb).click(function(){var c=z.X.async({modal:!0,title:b.ob()+" 人赞同",className:"zm-voters-dialog",jx:window.$.Deferred(function(b){(0,window.setTimeout)(function(){a(c.T(),c).then(function(){b.resolve(null)})})}).promise()});c.o().g(b,"change",function(){c.Sa(b.ob()+" 人赞同")})})};z.e.C=function(){this.rb=(0,window.$)(this.h);this.cc();z.yo(this,{module:"VoteInfo"})};z.y(vD,z.R);z.e=vD.prototype;z.e.W=function(a){vD.v.W.call(this,a);this.o().g(a,"click",this.cV)};z.e.pP=function(){var a=this.Dv;z.Ro(a.m(),this.ZL);z.Ii(a.m(),[this.YL,this.$L])};z.e.SN='\x3cdiv class\x3d"text zg-clear"\x3e\x3clabel class\x3d"zg-left"\x3e赞同\x3c/label\x3e\x3clabel class\x3d"zg-right"\x3e反对\x3c/label\x3e\x3c/div\x3e';z.e.zV='\x3cdiv class\x3d"text zg-clear votebar-text-post"\x3e\n  \x3clabel\x3e赞\x3c/label\x3e\n\x3c/div\x3e';
z.e.cV=z.Lq(function(){this.La&&this.La.H();var a=new z.V(null);a.Ye(!0);a.Lm(!0);a.aG=!0;wD(this);this.o().Aa(a,"hide",this.pP);var b=["post","promotion"].includes(this.Dv.entryType)?this.zV:this.SN,c=a.T();c.appendChild(this.Dv.m());c.appendChild(z.Xe(b));z.W.add(a.m(),this.Hx);a.G(!0);this.La=a;z.zc(this,a)},!0);z.RG={Bz:function(){function a(){var a=c.fd();if(a&&(b(),f)){var d=f,h=d.rb;h.data("async-voters")&&(h.removeData("async-voters"),z.uD(d))}g&&z.rv(g,a)}function b(){if(!g){var a=!z.Vj,b=z.N("js-collapse-body",c.m());a&&h&&(0,window.$)(h).is(":visible")&&b&&230<(0,window.$)(b).height()&&(g=c.p_=new wv(null,b),c.L(g),g.tag="votebar",g.FJ=50,g.w(h))}}var c=this,d=void 0,f=void 0,g=void 0,h=(0,window.$)(".votebar, .zm-votebar",this.m())[0];if(h){d=this.hj=new nD(this.sb,this.entryType);this.L(d);d.w(h);
var k=(0,window.$)(".js-openVoteDialog",this.m())[0];k&&(new vD(d)).w(k)}if(k=(0,window.$)(".zm-item-vote-info",this.m())[0])f=this.aM=new rD(this.sb,this.entryType),this.L(f),f.w(k);d&&(this.o().g(d,"change",function(){f?z.uD(f):(0,window.$)("[data-bind-votecount]",this.m()).text(d.ob())}),f&&this.o().g(f,"change",function(){(0,window.$)("[data-bind-votecount]",this.m()).text(f.ob());d.HB(f.ob())}));this.o().g(this,["expand","collapse"],a);(0,window.$)(this.m()).on("contentchange",b);(0,window.setTimeout)(a)}};z.y(z.xD,z.UC);z.e=z.xD.prototype;z.e.qo=function(){return{parent_token:(0,window.$)(this.m()).find('link[itemprop\x3d"url"]').attr("href").match(/\/question\/([\d]+)\/answer\/([\d]+)/)[1]}};
z.e.Cn=function(){var a=this;z.xD.v.Cn.call(this,{".js-collect":this.yG,".js-thank":this.PG,".js-noHelp":this.pR,".js-administer":this.QK,".js-orgCollapse":this.tR,".js-expandQuestionDetail":this.IK.bind(this,!0)});this.Bz();this.wz();this.Fi();DD(this);this.fk();this.xz();this.o().g(this,"collapse",function(b){b.target===a&&a.IK(!1)});if(this.tb)this.lm();else{var b=this;this.Aa("expand",function(){return b.lm()})}};
z.e.Zh=function(){var a=this;z.xD.v.Zh.call(this);z.xl(z.xl(z.xl(z.xl(this.Of.register("v",function(){a.hj&&a.hj.uC()}),{group:"操作",name:"赞同"}).register("d",function(){a.hj&&a.hj.oL()}),{group:"操作",name:"反对"}).register("t",this.PG,this),{group:"操作",name:"感谢"}).register("s c",this.yG,this),{group:"操作",name:"收藏"});if(z.tm.yH&&(0,window.$)(".js-administer",dD(this))[0]){var b=this,c=z.Tc?"⌘":"ctrl",d=function(){b.QK();b.nr.Eb(0)};z.xl(z.xl(this.Of.register("meta+.",d),{group:"管理",name:"展开菜单",key:c+"+."}).register("meta+k",
function(){d();var a=b.nr.zi(0);a.cb&&a.cb()&&(a.ev(),a.cb().Eb(0))}),{group:"管理",name:"展开折叠子菜单 (Kill)",key:c+"+k"})}};z.e.fk=function(){var a=(0,window.$)(".js-share",this.m()).get(0),b=this.Le.url;a&&b&&(a=z.fD(a,"answer",this.ti,b),z.zc(this,a),a.Jb(this))};
z.e.Fi=function(a){var b=new z.jD(a);this.L(b);b.w(this.h);this.g("expandRequest",(0,z.t)(this.expand,this));this.g("expand",function(a){a.target===a.currentTarget&&b.expand()});this.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.OH&&this.o().Aa(b,"expand",this.Rt)};
z.e.wz=function(){var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.Kz;b.w((0,window.$)(".menu",a)[0]);b=new z.Rz("operation",b);b.Jk=!0;z.Tz(b);Sz(b);b.Tb=z.Gl;b.w((0,window.$)(".menubutton",a)[0])}};
z.e.PG=WC(function(a){if(a=a.target){var b="true"===a.getAttribute("data-thanked");b?(rr(a,"感谢"),a.setAttribute("data-thanked",!1),window.$.post("/answer/cancel_thanks",{aid:this.sb})):(rr(a,"取消感谢"),a.setAttribute("data-thanked",!0),window.$.post("/answer/thanks",{aid:this.sb}));(0,z.Ni)(a,{action:b?"UnThank":"Thank",element:"Button"})}},{Lb:"question_answer_thank"});
z.e.pR=WC(function(a){a=a.target;var b=!!a.m;z.Y.yb({type:"ga_click_answer_not_helpful",target:b?a.m():a});this.Gx&&"pending"===this.Gx.state()&&this.Gx.abort();var c=-1<(b?a.fh():a.innerHTML).indexOf("撤销"),d=c?"没有帮助":"撤销没有帮助";b?a.bq(d):a.innerHTML=d;d=c?"/answer/helpful":"/answer/not_helpful";b||z.zr(a);this.Gx=window.$.post(d,{aid:this.sb});(0,z.Ni)(this,{action:c?"UnNoHelp":"NoHelp",element:"Button"})},!0);
z.e.yG=WC(function(){var a=z.kA.aa();nA(a,this.sb);a.show();(0,z.Ni)(this,{action:"CollectIntent",element:"Button"})},{Lb:"question_answer_collect",Ee:!0});z.e.xz=function(){var a=(0,window.$)(".js-settings",dD(this))[0];if(a){var b=this;this.XD=new zA(this);this.XD.w(a);this.o().g(this.XD,HA,function(){if(b.Ia){var a=b.Ia.fd();b.removeChild(b.Ia,!0);b.Ia.H();b.Ia=null;b.KF();a&&b.Ia.Qh()}})}};
z.e.QK=function(){if(this.nr)return this.nr.G(!0);var a=yD(this);a&&(z.aA(a,new z.wz(this.yN,1,!0),0,new z.qg(5,0,5,0)),BD(this,a),this.nr=a)};z.e.tR=function(){var a=this,b=void 0,c,d;this.Gi?(b="取消隐藏回答",c="确认取消隐藏？",d="cancel_collapse"):(b="隐藏回答",c="隐藏后该回答将不展示也不流通，是否确认隐藏？",d="collapse");z.X.confirm(b,c,function(b){b&&window.$.post("/answer/"+a.ti+"/org_"+d).then(function(a){a.r?z.X.message(a.msg):(z.X.message("操作成功！"),window.location.reload())})})};
z.e.lm=function(){(0,window.$)("img.lazy:not([data-lazyloaded])",this.m()).attr("data-lazyloaded","").lazyload({load:function(){(0,window.$)(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})};z.e.mc=z.m(44);z.e.IK=function(a){(0,window.$)(".feed-question-detail-item",this.h).toggleClass("question-detail-expanded",a)};z.Ba(z.xD.prototype,z.RG);z.y(z.FD,z.UC);z.e=z.FD.prototype;z.e.ip="post-link";z.e.C=function(){z.FD.v.C.call(this);this.Bz();this.Fi();this.wz();this.fk();var a=(0,window.$)(".post-content",this.h),b=a.data("entryUrl"),c=a.data("authorName");z.ED.HD(a,b,c);GD(this)};z.e.uG=function(){return"feed_article_"+cD(this)+(this.fd()?"_expand":"")};z.e.fk=function(){var a=(0,window.$)("a[name\x3dshare], .js-share",this.h).get(0),b=(0,window.$)(".post-link, .js-title-link",this.h).get(0);a&&b&&z.fD(a,"post",this.ti,b.href).Jb(this)};
z.e.mc=z.m(43);z.e.$y=z.m(45);z.e.Ry=z.m(46);z.e.Fi=function(a){var b=new z.jD(a);this.L(b);b.w(this.h);this.cL=b;this.g("expandRequest",(0,z.t)(this.expand,this));this.g("expand",function(a){a.target===a.currentTarget&&b.expand()});this.g("collapse",function(a){a.target===a.currentTarget&&b.collapse()});b.OH&&this.o().Aa(b,"expand",this.Rt)};z.e.Zh=function(){var a=this;z.FD.v.Zh.call(this);z.xl(this.Of.register("v",function(){a.hj&&a.hj.uC()}),{group:"操作",name:"赞同"})};
z.e.wz=function(){var a=(0,window.$)(".phone-actions",this.m());if(a.length){var b=new z.Kz;b.w((0,window.$)(".menu",a)[0]);b=new z.Rz("operation",b);b.Jk=!0;z.Tz(b);Sz(b);b.Tb=z.Gl;b.w((0,window.$)(".menubutton",a)[0])}};z.Ba(z.FD.prototype,z.RG);z.n(z.HD,z.UC);z.HD.prototype.mc=z.m(42);z.n(z.ID,z.UC);z.ID.prototype.mc=z.m(41);z.y(z.KD,z.Fz);z.KD.prototype.Wd=function(){return this.dispatchEvent("action")};z.Vp("goog-option",function(){return new z.KD(null)});z.y(z.LD,z.R);z.e=z.LD.prototype;z.e.JC=!z.Vj;z.e.HC=!z.Vj;z.e.nI=!1;z.e.Yi=function(a){this.ph=a};z.e.init=function(){this.Vd=z.L("zh-load-more");this.w(this.HP)};
z.e.C=function(){z.LD.v.C.call(this);this.zn=1;PD(this);this.bl=(0,window.$)(this.Vd);this.Vd&&(ND(this),this.o().g(this.Vd,"click",function(){this.Vo=!0;this.Vh&&"pending"===this.Vh.state()&&1===this.zn?(this.Vh.done((0,z.t)(this.yk,this)),this.PB=!0,z.MD(this,!0)):this.JC&&this.yu?(this.yk(this.yu),this.yu=null):(z.MD(this,!0),this.sh())}),this.JC&&(this.nC=new z.gl(this.IA,100,this),this.o().g(window,"scroll",function(){this.nC.fire()})));QD(this,this.lb())};z.e.th=function(){this.sh(!0)};
z.e.IA=function(){var a=this.Vd;a&&z.Lg(a)&&1E3>=a.getBoundingClientRect().top-z.Pe().height&&!(this.yu||this.Vh&&"pending"===this.Vh.state())&&(this.HC&&(3!==this.zn||this.nI?(this.Vo=!1,this.zn++,this.PB=!0):(this.zn=1,this.PB=!1)),this.sh())};
z.e.sh=function(a,b,c){b=b||z.q;if(!this.Vh||"pending"!==this.Vh.state()){var d=this.eB(window.$.extend(this.params,{offset:this.offset,start:this.gv}));z.Y.yb({type:"topstory_feed_more"});(0,z.Ni)(this,{action:this.Vo?"LoadMore":"RollForMore",element:"Button"});this.Vh=window.$.post(this.url,d).done(b).done(window.$.proxy(function(b){if(c)return c.call(this,b);this.JC&&!a?this.PB?this.yk(b):(this.yu=b,z.MD(this,!1)):this.yk(b)},this));1!==this.zn&&z.MD(this,!0);return this.Vh}};z.e.eB=function(a){return a};
z.e.yk=function(a){if(a&&!a.r){var b=a.msg,c=b[0],d=b[1],f;2<b.length&&(f=b[2],this.Vd.setAttribute("data-next",f));0<c&&(this.wr(d),this.offset=this.wA?this.wA(this.lb()):this.offset+c);b=!0;b=this.at?this.at(a):!(-1===f||10>c);z.Q(this.Vd,b);z.MD(this,!1);z.OD(this)}};z.e.lb=function(){return z.So(this.ph,this.h)};z.e.WA=function(a){return a.id.replace(/^\w+-/,"")};
z.e.wr=function(a,b){var c=z.ma(a)?a.join(""):a,c=z.Xe(c+" "),d=z.So(this.ph,c);QD(this,d);"prepend"===b?z.bf(c,this.h.firstChild):this.h.appendChild(c);PD(this)};z.e.gu=z.q;z.y(z.RD,z.I);z.RD.prototype.handleEvent=function(a){if("input"==a.type)z.D&&z.F(10)&&0==a.keyCode&&0==a.charCode||(SD(this),this.dispatchEvent(TD(a)));else if("keydown"!=a.type||vo(a)){var b="keydown"==a.type?this.h.value:null;z.D&&229==a.keyCode&&(b=null);var c=TD(a);SD(this);this.la=z.ud(function(){this.la=null;this.h.value!=b&&this.dispatchEvent(c)},0,this)}};z.RD.prototype.D=function(){z.RD.v.D.call(this);this.U.H();SD(this);delete this.h};z.y(UD,z.I);var VD=0;UD.prototype.BA=function(){this.ul()};UD.prototype.ul=function(){var a=this.si.value.length;if(a>this.Ut){var b=this.si.scrollTop,c=this.si.scrollLeft;this.si.value=this.si.value.substring(0,this.Ut);a=this.Ut;this.si.scrollTop=b;this.si.scrollLeft=c}this.EF&&z.nf(this.EF,String(1==this.uP?a:this.Ut-a))};UD.prototype.D=function(){UD.v.D.call(this);delete this.si;this.Dz.H();this.Dz=null};var aE;z.y(z.WD,z.Yj);z.e=z.WD.prototype;z.e.init=function(){this.rt||(this.rt=!0,this.B(),this.cc())};z.e.cc=function(){z.D||(new z.kt("搜索问题")).w(this.ld);this.S=new z.yt("/redirect-question/autocomplete",this.ld,null,null,z.L("zh-question-redirect-diag-content"),!1);this.S.yn=!1;this.S.Eg(!0);this.o().g(this.S,"suggestionsupdate",Rr);this.o().g(this.S,"select",this.IU).g(this.rO,"click",function(){this.ta.G(!1)})};
z.e.IU=function(){var a=this.S.lg();if("search_link"===a[0])window.open("/search?q\x3d"+(0,window.encodeURIComponent)(a[1])+"\x26type\x3dquestion");else{this.ld.value="";var b=a[3],a=a[1];this.ta.G(!1);this.ld.value="";this.xhr=new z.Z(!0);this.o().Aa(this.xhr,"complete",this.IN);this.xhr.ajax("/question/redirect","qid\x3d"+this.qa+"\x26rqid\x3d"+b);this.Qu=b;this.VJ=a}};
z.e.IN=function(){var a=z.Tn(this.xhr);a&&(a.r?z.X.message(a.msg):this.rj?(this.rj.innerHTML="已经重定向",this.rj.setAttribute("data-disabled",1)):this.dispatchEvent("change"))};
z.e.B=function(){this.h=z.O("div",{id:"zh-question-redirect-diag"},["将问题跳转至",z.O("div",{id:"zh-question-redirect-diag-content"},this.ld=z.O("input",{type:"text","class":"zg-form-text-input"})),z.O("div","zm-command",this.rO=z.O("a",{href:"javascript:;","class":"zm-command-cancel",name:"cancel"},"放弃操作"))]);this.ta=new z.V(null);this.ta.Sa("问题重定向");z.Mj(this.ta,null);this.ta.T().appendChild(this.h)};z.e.show=function(){this.init();this.ta.G(!0)};var SG={},SG=function(){z.I.call(this)};z.y(SG,z.Yj);SG.hw=[["需要详细阐述","答案过于简短或表述不清晰，请完善答案。"],["答非所问","没有正面或直接回答问题，请修改答案。"],["应作为问题的评论","该内容是对问题本身的评论而不是回答，请改为发布到评论。"],["应作为答案的评论","该内容是对另外一个答案的评论或回应，而不是回答问题，请改为发布到评论。"],["内容重复","与已有答案重复，请修改答案。"],["内容已过期","答案的时效性已过，请更新答案。"],["需要注明关联利益","有广告、推销嫌疑，请注明作者与利益方的关系。"]];SG.gk=null;SG.aa=function(){SG.gk||(SG.gk=new SG,SG.gk.init());return SG.gk};z.e=SG.prototype;
z.e.init=function(){if(!this.h){this.B();this.cc();var a=new Cx(this.h);Cn(a);a.cH=!0;a.Lm(!0);a.G(!1);a.cB=0;a.X()&&a.ha();z.Dx(a,new z.qg(13,0,0,-22));this.bB=a}};z.e.cc=function(){this.o().g(this.h,"click",this.FU)};z.e.FU=function(a){"A"===a.target.tagName&&(a=a.target.getAttribute("data-index"),this.$O.LZ(a),this.bB.G(!1))};
z.e.B=function(){var a=z.O("div",{id:"zh-answer-flag-popup","class":"zg-r5px zu-hovercard-wrap"},[z.O("div","zg-r5px zu-hovercard-inner",[z.O("div",{id:"zh-answer-flag-popup-header"},[z.O("a",{"class":"zg-right",href:"/question/19867017",target:"_blank"},"这是什么？"),"选择一个理由："]),this.BJ=z.O("div",{id:"zh-answer-flog-options-wrap"})]),z.O("div","zu-hovercard-spin-top")]);z.A(SG.hw,function(a,c){var d=z.O("a",{href:"javascript:;","class":"zm-menu-item-link"},a[0]);d.setAttribute("data-index",c);this.BJ.appendChild(d)},
this);window.document.body.appendChild(a);this.h=a};z.e.show=function(a,b){this.bB.setPosition(new z.Ax(a,1));XD(this,b.PZ());this.bB.G(!0);this.$O=b};var $D;z.y(YD,z.Yj);YD.prototype.init=function(){this.B();this.Bn()};
YD.prototype.B=function(){this.h=z.O("div",null,[z.O("div","zg-section",[z.O("div",null,"标记："),this.Ml=z.O("select")]),z.O("div",null,[z.O("div",null,"原因"),this.kB=z.O("textarea",{style:"width:96%;border:solid 1px #666;height:66px;padding:5px"})]),this.On=z.O("div","zm-command",[z.O("a",{"class":"zg-mr10",href:"javascript:void(0);",name:"cancel"},"取消"),z.O("a",{"class":"zg-btn-blue",href:"javascript:void(0);",name:"confirm"},"确定")])]);this.Ml.appendChild(z.O("option",{value:"no"},"选择标记原因"));z.A(SG.hw,
function(a,b){this.Ml.appendChild(z.O("option",{value:b},a[0]))},this);this.ta=new z.V(null);this.ta.Sa("标记答案");z.Mj(this.ta,null);this.ta.T().appendChild(this.h)};
YD.prototype.Bn=function(){this.o().g(this.Ml,"change",function(){var a=this.Ml.value;this.kB.value="no"===a?"":SG.hw[+a][1]}).g(this.On,"click",function(a){"cancel"===a.target.name?this.ta.G(!1):this.kB.value&&"no"!==this.Ml.value&&(this.hy=new z.Z(!0),this.o().g(this.hy,"complete",function(){var a=z.Tn(this.hy);a&&!a.r?(this.rj.innerHTML="已经标记",this.ta.G(!1)):z.X.message(a.msg)}),a=z.ur(this.kB.value),this.hy.ajax("/answer/flag","answer_id\x3d"+this.lN+"\x26flag\x3d"+this.Ml.value+"\x26reason\x3d"+
(0,window.encodeURIComponent)(a)))})};YD.prototype.show=function(){this.ta.G(!0)};z.gE={digits:{required:"请填写数字验证码"},password:{required:"请填写密码"},password_repeat:{required:"请填写密码"},email:{required:"请填写邮箱"},phone_no:{required:"请填写手机号"}};z.x("ZH.ui.requestUnlock",z.fE);z.x("ZH.m",z.iE);z.y(z.jE,z.I);z.jE.prototype.show=function(){this.mf||(this.mf=this.nx(),this.mf.g("hide",this.uQ,!1,this));this.mf.G(!0)};z.jE.prototype.hide=function(){this.mf&&this.mf.G(!1)};z.jE.prototype.Bb=function(){return!!this.mf&&this.mf.X()};z.kE.prototype.Sa=function(a){this.jj.Sa(a);return this};z.kE.prototype.Kd=function(a,b,c){c=c||z.lp();this.Kn.set(c,a);this.Jn[c]=b;return this};z.kE.prototype.Yh=function(a){z.Fi(this.jj.wi(),a);return this};
z.kE.prototype.ea=function(a){this.jj.T().appendChild(a);return this};z.e=z.jE.prototype;z.e.Hs=z.m(23);z.e.rR=function(a){return(a=this.Un(a))?this.dispatchEvent(a):!1};z.e.yo=function(){return this.dispatchEvent("cancel")};z.e.D=function(){this.mf&&(this.hide(),this.mf.H(),this.mf=null);z.jE.v.D.call(this)};z.e.uQ=function(){this.dispatchEvent("afterhide")};z.y(z.oE,z.SA);z.e=z.oE.prototype;z.e.Ue=function(a){return a==this.MO};z.e.execCommand=function(a,b){return this.pf.apply(this,arguments)};z.e.mG=function(){return this.La};z.e.pf=function(a,b){this.uK||qE(this);this.La||(this.La=this.mx(z.He(this.F.il),b));var c=z.uB(this.F);this.pK=UA(this);this.yK=c&&new z.ov(c);Ou(this.F.nb.$a());z.kd(this.La,"afterhide",this.xo,!1,this);this.F.lh=!0;this.La.show();this.dispatchEvent("dialogOpened");z.vB(this.F);return!0};
z.e.xo=function(){this.F.lh=!1;z.pE(this);this.pK();this.uK||qE(this);this.dispatchEvent("dialogClosed");z.vB(this.F);this.F.cs.selectionchange=(0,z.J)()};z.e.D=function(){qE(this);z.oE.v.D.call(this)};z.e.uK=!1;z.e.Jz=!1;z.y(rE,z.jE);z.y(sE,z.Kc);z.e=rE.prototype;z.e.template=(0,z.ew)('\x3cdiv class\x3d"zm-img-uploader"\x3e\x3ciframe src\x3d"about:blank" name\x3d"av_up_frame" style\x3d"position: absolute; height: 0; width: 0; left: -9000px; "\x3e\x3c/iframe\x3e\x3cdiv class\x3d"zg-section zm-img-uploader-tab"\x3e\x3ca href\x3d"javascript:;" class\x3d"tab-nav selected"\x3e上传图片\x3c/a\x3e 或 \x3ca href\x3d"javascript:;" class\x3d"tab-nav"\x3e引用站外图片\x3c/a\x3e\x3c/div\x3e\x3cform class\x3d"zg-clear" target\x3d"av_up_frame" method\x3d"POST" enctype\x3d"multipart/form-data" action\x3d"\x3c%\x3d uploadURL %\x3e"\x3e\x3cdiv class\x3d"tab-content selected \x3c% if (canStylize) { %\x3einline\x3c% } %\x3e"\x3e\x3c% if (canStylize) { %\x3e\x3cinput type\x3d"file" name\x3d"upload_file" style\x3d"opacity:0;height:0;width:0;font-size:0;position:absolute;"\x3e\x3ca href\x3d"javascript:;" class\x3d"browser zg-btn-blue"\x3e选择图片\x3c/a\x3e\x3c% } else { %\x3e\x3cinput type\x3d"file" name\x3d"upload_file"\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"tab-content"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" name\x3d"upload_file_url" class\x3d"zm-editable-editor-input zg-form-text-input"\x3e\x3ca href\x3d"javascript:;" class\x3d"insert zg-btn-blue zm-uploader-button-fix"\x3e确认\x3c/a\x3e\x3c/div\x3e\x3cspan style\x3d"display: none; " class\x3d"zm-img-uploader-loading"\x3e正在上传\x3c/span\x3e\x3cspan style\x3d"display: none; " class\x3d"zm-img-uploader-error"\x3e上传图片失败，请稍后重试\x3c/span\x3e\x3c/form\x3e\x3cdiv class\x3d"zg-gray"\x3e请不要上传与回答问题无关的图片，详细请看 \x3ca href\x3d"/question/20064580" target\x3d"_blank"\x3e知乎图片使用规范\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"zm-command"\x3e\x3ca class\x3d"cancel" href\x3d"javascript:;"\x3e取消\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
z.e.nx=function(){var a=z.Xe(this.template({uploadURL:this.Mq,canStylize:this.wO}));z.Cb({form:"form",iC:".zm-img-uploader-tab",uh:".zm-img-uploader-loading",of:".zm-img-uploader-error",hL:"input[type\x3dtext]",jo:"input[type\x3dfile]",qE:".browser",Yw:".cancel",AS:".insert"},function(b,d){this[d]=(0,window.$)(b,a).get(0)},this);this.U.g(z.Y,"iframe_data",this.tw).g(this.jo,"change",this.AV).g(this.AS,"click",this.BS).g(this.Yw,"click",function(){this.yo();this.hide()}).g(this.iC,"click",function(a){a=
(0,window.$)(a.target);a.is("a")&&!a.is(".selected")&&tE(this,a.index())});this.RE=a;z.Xm||(tE(this,1),(0,window.$)(this.iC).replaceWith("\x3cstrong\x3e输入站外图片地址：\x3c/strong\x3e"));this.qE&&this.U.g(this.qE,"click",function(){this.jo.click()});var b=new z.kE(this);b.Sa("插入图片").ea(this.RE);b=z.nE(b);z.Mj(b,null);return b};z.e.AV=function(){this.jo.value&&(Lr(this.jo.value)?(this.hL.value="",z.Q(this.uh,!0),z.Q(this.of,!1),this.form.submit()):uE(this,"图片不是 .jpg 或 .png 格式无法上传"))};
z.e.BS=function(){var a=z.ur(this.hL.value);a?z.Ia(a,"http://")?(this.jo.value="",z.Q(this.uh,!0),z.Q(this.of,!1),this.form.submit()):uE(this,"我们目前不支持该协议。"):uE(this,"请填写图片地址。")};z.e.tw=function(a){z.Q(this.uh,!1);this.Zi(a.Hf)};z.e.Zi=function(a){a&&!a.r?(this.dispatchEvent(this.Un(a.msg)),this.hide()):uE(this,a.msg)};z.e.Un=function(a){return new sE(a)};z.e.D=function(){this.U.H();this.U=null;rE.v.D.call(this)};z.y(z.vE,z.oE);z.e=z.vE.prototype;z.e.xd=z.hb("ImageDialogPlugin");
z.e.pf=function(a,b){var c=this.F;return c.Bf||(c.hg(),c.Bf)?z.vE.v.pf.call(this,a,b):!1};z.e.Yj=function(a){if(a&&"mouseup"===a.type){var b=a.target;b&&"IMG"===b.nodeName&&(a=z.Uu(b),a||(a=window.document.createElement("br"),z.cf(a,b)),z.cv(a))}};z.e.xo=function(a){z.vE.v.xo.call(this,a)};z.e.mx=function(a){a=new rE(a);this.U.g(a,"ok",this.Co).g(a,"cancel",this.Iy);return a};z.e.D=function(){z.vE.v.D.call(this);this.U.H()};
z.e.Co=function(a){z.pE(this);var b=z.TA(this),c;c=a.DJ?b.B("IMG",{"class":"origin_image zh-lightbox-thumb","data-original":a.DJ,title:"点击查看原图",src:a.km}):b.B("IMG",{"class":"content_image",src:a.km});a.bK&&c.setAttribute("data-rawwidth",a.bK);a.aK&&c.setAttribute("data-rawheight",a.aK);a=z.uB(this.F);if(z.mv(a))a.Qi(c),z.D||(z.dv(c,!1),b.$a().focus()),z.vB(this.F),this.F.nf();else return null;this.U.removeAll()};z.e.Iy=function(){this.U.removeAll()};var TG=z.v("Link");z.v("Edit Link");z.v("Text to display:");z.UG=z.v("Link to:");z.v("Web address");z.v("Link to a page or file somewhere else on the web");z.v("Test this link");
z.v("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"\x3cb\x3e",endBold:"\x3c/b\x3e",searchEngineLink:"\x3ca href\x3d'http://www.google.com/' target\x3d'_new'\x3e",endLink:"\x3c/a\x3e"});z.v("To what URL should this link go?");z.v("Email address");z.v("Link to an email address");
z.v("Invalid email address");z.v("To what email address should this link?");z.v("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"\x3cb\x3e",postb:"\x3c/b\x3e"});z.v("Open this link in a new window");z.v("Image");z.y(wE,z.Ot);wE.prototype.next=function(){do wE.v.next.call(this);while(-1==this.Zb);return this.node};z.y(z.xE,Op);z.ka(z.xE);var BE=0;z.e=z.xE.prototype;z.e.B=function(a){var b=this.ig(a);a=a.K().B("DIV",b?b.join(" "):null,yE(this,a.Za(),a.gh(),a.K()));z.ij(a,"grid");return a};z.e.ox=function(a,b){var c=b.B("TABLE",this.V()+"-table",b.B("TBODY",this.V()+"-body",a));c.cellSpacing=0;c.cellPadding=0;return c};z.e.Tb=function(){return!1};z.e.w=function(){return null};
z.e.ea=function(a,b){if(a){var c=z.Le("TBODY",this.V()+"-body",a)[0];if(c){var d=0;z.A(c.rows,function(a){z.A(a.cells,function(a){z.af(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=z.He(a),h=c.rows[0].cells.length;d<b.length;){var k=b[d++];f.push(zE(this,k,g));f.length==h&&(k=AE(this,f,g),c.appendChild(k),f.length=0)}if(0<f.length){for(;f.length<h;)f.push(zE(this,"",g));k=AE(this,f,g);c.appendChild(k)}}}z.Bo(a,!0,z.C)}};z.e.V=function(){return"goog-palette"};z.y(DE,z.I);z.e=DE.prototype;z.e.Gh=null;z.e.Mf=null;z.e.Vl=function(){return this.Ve.length};z.e.zi=function(a){return this.Ve[a]||null};z.e.Ha=function(a){this.sj(a,this.Vl())};z.e.sj=function(a,b){a&&(this.Km(a,!1),z.wb(this.Ve,b,0,a))};z.e.removeItem=function(a){a&&z.sb(this.Ve,a)&&a==this.Gh&&(this.Gh=null,this.dispatchEvent("select"))};z.e.tf=function(){return this.Gh};z.e.lb=function(){return z.ub(this.Ve)};z.e.Nf=function(a){a!=this.Gh&&(this.Km(this.Gh,!1),this.Gh=a,this.Km(a,!0));this.dispatchEvent("select")};
z.e.Sj=function(){var a=this.Gh;return a?z.kb(this.Ve,a):-1};z.e.kq=function(a){this.Nf(this.zi(a))};z.e.clear=function(){var a=this.Ve;if(!z.ma(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0;this.Gh=null};z.e.D=function(){DE.v.D.call(this);delete this.Ve;this.Gh=null};z.e.Km=function(a,b){a&&("function"==typeof this.Mf?this.Mf(a,b):"function"==typeof a.MB&&a.MB(b))};z.y(z.FE,Xp);z.e=z.FE.prototype;z.e.Dc=null;z.e.Xa=-1;z.e.na=null;z.e.D=function(){z.FE.v.D.call(this);this.na&&(this.na.H(),this.na=null);this.Dc=null;this.Xn.H()};z.e.Mm=function(a){z.FE.v.Mm.call(this,a);IE(this);this.na?(this.na.clear(),EE(this.na,a)):(this.na=new DE(a),a=(0,z.t)(this.Km,this),this.na.Mf=a,this.o().g(this.na,"select",this.Yj));this.Xa=-1};z.e.fh=function(){return""};z.e.bq=function(){};
z.e.yd=function(a){z.FE.v.yd.call(this,a);var b=CE(this.N,this,a.target);b&&a.relatedTarget&&z.mf(b,a.relatedTarget)||b==JE(this)||(a=this.Za(),this.Eb(a?z.kb(a,b):-1))};z.e.re=function(a){z.FE.v.re.call(this,a);if(this.Ac()&&(a=CE(this.N,this,a.target),a!=JE(this))){var b=this.Za();this.Eb(b?z.kb(b,a):-1)}};z.e.Wd=function(a){var b=JE(this);return b?(this.Nf(b),z.FE.v.Wd.call(this,a)):!1};
z.e.ec=function(a){var b=this.Za(),b=b?b.length:0,c=this.Dc.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.Wd(a);if(36==a.keyCode)return this.Eb(0),!0;if(35==a.keyCode)return this.Eb(b-1),!0;var d=0>this.Xa?this.Sj():this.Xa;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.Eb(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.Eb(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Eb(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.Eb(d+c),a.preventDefault(),!0}return!1};z.e.Yj=function(){};z.e.gh=function(){return this.Dc};z.e.Eb=function(a){a!=this.Xa&&(KE(this,this.Xa,!1),this.Wz=this.Xa,this.Xa=a,KE(this,a,!0),this.dispatchEvent("j"))};z.e.Sj=function(){return this.na?this.na.Sj():-1};z.e.tf=function(){return this.na?this.na.tf():null};z.e.kq=function(a){this.na&&this.na.kq(a)};z.e.Nf=function(a){this.na&&this.na.Nf(a)};
z.e.Sc=function(a){a&&-1==this.Xa?this.Eb(-1<this.Wz?this.Wz:0):a||this.Eb(-1);z.FE.v.Sc.call(this,a)};z.e.Km=function(a,b){if(this.m()&&a){var c=a.parentNode;z.zo(c,this.N.V()+"-cell-selected",b);z.jj(c,"selected",b)}};z.y(GE,Xp);z.y(z.LE,Gz);z.ka(z.LE);z.LE.prototype.B=function(a){return a.K().B("DIV",this.ig(a).join(" ")+" goog-inline-block"," ")};z.LE.prototype.w=function(a,b){b=z.LE.v.w.call(this,a,b);z.Fi(b,"goog-inline-block");return b};z.LE.prototype.V=function(){return"goog-toolbar-separator"};z.y(z.ME,Xr);z.ka(z.ME);z.ME.prototype.po=function(a){return"HR"==a.tagName?new z.Hz(z.LE.aa()):z.ME.v.po.call(this,a)};z.ME.prototype.V=function(){return"goog-toolbar"};z.ME.prototype.lG=function(){return z.VF};z.y(NE,Nz);z.ka(NE);NE.prototype.V=function(){return"goog-toolbar-button"};z.y(z.OE,z.dq);z.Vp("goog-toolbar-button",function(){return new z.OE(null)});z.y(PE,Pz);z.ka(PE);PE.prototype.createCaption=function(a,b){return PE.v.createCaption.call(this,QE(a,b),b)};PE.prototype.Da=function(a,b){a&&RE(this.T(a),b)};PE.prototype.Re=function(a){var b=a.m();this.Da(b,a.Y());z.Fi(b,"goog-color-menu-button");PE.v.Re.call(this,a)};z.y(SE,z.FE);SE.prototype.bu=null;SE.prototype.At=null;SE.prototype.Cy=function(){var a=this.tf();return a?(a=Ho(a,"background-color"),UE(a)):null};SE.prototype.jq=function(a){a=UE(a);this.bu||(this.bu=z.mb(this.Pr,function(a){return UE(a)}));this.kq(a?z.kb(this.bu,a):-1)};z.y(VE,z.Rz);var XE={SY:"#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),mZ:"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),iZ:"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc #ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd #e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0 #cc0000 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79 #990000 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47 #660000 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")};
z.e=VE.prototype;z.e.Cy=function(){return this.Y()};z.e.jq=function(a){this.Da(a)};z.e.Da=function(a){for(var b=0,c;c=this.zi(b);b++)"function"==typeof c.jq&&c.jq(a);VE.v.Da.call(this,a)};z.e.Bo=function(a){"function"==typeof a.target.Cy?this.Da(a.target.Cy()):"none"==a.target.Y()&&this.Da(null);VE.v.Bo.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Ib=function(a,b){a&&0==this.Vl()&&(this.Jh(WE(this.K())),this.Da(this.Y()));VE.v.Ib.call(this,a,b)};
z.Vp("goog-color-menu-button",function(){return new VE(null)});z.y(YE,Pz);z.ka(YE);YE.prototype.V=function(){return"goog-toolbar-menu-button"};z.y(ZE,YE);z.ka(ZE);ZE.prototype.createCaption=function(a,b){return Qz(QE(a,b),this.V(),b)};ZE.prototype.Da=function(a,b){a&&RE(this.T(a),b)};ZE.prototype.Re=function(a){this.Da(a.m(),a.Y());z.Fi(a.m(),"goog-toolbar-color-menu-button");ZE.v.Re.call(this,a)};z.y($E,VE);z.Vp("goog-toolbar-color-menu-button",function(){return new $E(null)});z.y(aF,z.Rz);z.Vp("goog-toolbar-menu-button",function(){return new aF(null)});z.y(bF,z.Rz);z.e=bF.prototype;z.e.na=null;z.e.C=function(){bF.v.C.call(this);dF(this);gF(this)};z.e.W=function(a){bF.v.W.call(this,a);(a=this.fh())?cF(this,a):this.tf()||this.kq(0)};z.e.D=function(){bF.v.D.call(this);this.na&&(this.na.H(),this.na=null);this.Cx=null};z.e.Bo=function(a){this.Nf(a.target);bF.v.Bo.call(this,a);a.stopPropagation();this.dispatchEvent("action")};z.e.Yj=function(){var a=this.tf();bF.v.Da.call(this,a&&a.Y());dF(this)};
z.e.Jh=function(a){var b=bF.v.Jh.call(this,a);a!=b&&(this.na&&this.na.clear(),a&&(this.na?z.ch(a,function(a){fF(a);this.na.Ha(a)},this):eF(this,a)));return b};z.e.Ha=function(a){fF(a);bF.v.Ha.call(this,a);this.na?this.na.Ha(a):eF(this,this.cb());hF(this)};z.e.sj=function(a,b){fF(a);bF.v.sj.call(this,a,b);this.na?this.na.sj(a,b):eF(this,this.cb())};z.e.removeItem=function(a){bF.v.removeItem.call(this,a);this.na&&this.na.removeItem(a)};
z.e.Nf=function(a){if(this.na){var b=this.tf();this.na.Nf(a);a!=b&&this.dispatchEvent("change")}};z.e.kq=function(a){this.na&&this.Nf(this.na.zi(a))};z.e.Da=function(a){if(null!=a&&this.na)for(var b=0,c;c=this.na.zi(b);b++)if(c&&"function"==typeof c.Y&&c.Y()==a){this.Nf(c);return}this.Nf(null)};z.e.Y=function(){var a=this.tf();return a?a.Y():null};z.e.tf=function(){return this.na?this.na.tf():null};z.e.Sj=function(){return this.na?this.na.Sj():-1};
z.e.Ib=function(a,b){bF.v.Ib.call(this,a,b);this.Bb()?this.cb().Eb(this.Sj()):hF(this)};z.Vp("goog-select",function(){return new bF(null)});z.y(jF,bF);z.Vp("goog-toolbar-select",function(){return new jF(null)});var oF=[10,10,13,16,18,24,32,48];var VG,WG,yF,xF,XG,YG,ZG,$G,nF,aH,bH,cH,dH,qF,eH,fH,gH,hH,iH,jH,kH,lH,mH,nH,oH,pH,qH,rH,sH,tH,uH,vH,wH,xH,yH,zH,AH,BH,CH,DH,EH,FH,GH,HH,JH,KH,LH;
for(VG=z.v("Normal"),WG=z.v("Normal / serif"),yF=[{caption:VG,value:"arial,sans-serif"},{caption:WG,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],xF={ja:[{caption:"ＭＳ Ｐゴシック",value:"ms pgothic,sans-serif"},{caption:"ＭＳ Ｐ明朝",value:"ms pmincho,serif"},{caption:"ＭＳ ゴシック",value:"ms gothic,monospace"}],ko:[{caption:"굴림",value:"gulim,sans-serif"},
{caption:"바탕",value:"batang,serif"},{caption:"굴림체",value:"gulimche,monospace"}],"zh-tw":[{caption:"新細明體",value:"pmingliu,serif"},{caption:"細明體",value:"mingliu,serif"}],"zh-cn":[{caption:"宋体",value:"simsun,serif"},{caption:"黑体",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]},XG=z.v("Small"),YG=z.v("Normal"),ZG=z.v("Large"),$G=z.v("Huge"),nF=[{caption:XG,value:1},{caption:YG,value:2},{caption:ZG,value:4},{caption:$G,value:6}],aH=z.v("Heading"),bH=z.v("Subheading"),cH=z.v("Minor heading"),
dH=z.v("Normal"),qF=[{caption:aH,Ba:"H2"},{caption:bH,Ba:"H3"},{caption:cH,Ba:"H4"},{caption:dH,Ba:"P"}],eH=z.v("Format"),fH=z.v("Format"),gH=z.v("Undo"),hH=z.v("Redo"),iH=z.v("Font"),jH=z.v("Font size"),kH=z.v("Text color"),lH=z.v("Bold"),mH=z.v("Italic"),nH=z.v("Underline"),oH=z.v("Text background color"),pH=z.v("Add or remove link"),qH=z.v("Numbered list"),rH=z.v("Bullet list"),sH=z.v("Decrease indent"),tH=z.v("Increase indent"),uH=z.v("Align left"),vH=z.v("Align center"),wH=z.v("Align right"),
xH=z.v("Justify"),yH=z.v("Remove formatting"),zH=z.v("Insert image"),AH=z.v("Strikethrough"),BH=z.v("Left-to-right"),CH=z.v("Right-to-left"),DH=z.v("Quote"),EH=z.v("Edit HTML source"),FH=z.v("Subscript"),GH=z.v("Superscript"),HH=z.v("Edit HTML"),z.IH={},JH=[{Ba:"+undo",pa:gH,Ua:"tr-icon tr-undo",factory:zF,qb:!0},{Ba:"+redo",pa:hH,Ua:"tr-icon tr-redo",factory:zF,qb:!0},{Ba:"+fontName",pa:iH,Ua:"tr-fontName",factory:function(a,b,c,d,f,g){var h=uF(a,b,c,d,f,g);wF(h);cF(h,VG);z.Fi(h.cb().T(),"goog-menu-noaccel");
h.fj=function(a){var b=null;a&&0<a.length&&(b=z.$g(h.cb(),kF(a)));b!=h.tf()&&h.Nf(b)};return h},qb:!0},{Ba:"+fontSize",pa:jH,Ua:"tr-fontSize",factory:function(a,b,c,d,f,g){var h=uF(a,b,c,d,f,g);mF(h);cF(h,YG);z.Fi(h.cb().T(),"goog-menu-noaccel");h.fj=function(a){var b;if(b=z.oa(a))b=a.match(HF),b="px"==(b&&b[0]||null);b&&(b=oF,a=Array.prototype.lastIndexOf.call(b,(0,window.parseInt)(a,10),b.length-1));a=0<a?a:null;a!=h.Y()&&h.Da(a)};return h},qb:!0},{Ba:"+bold",pa:lH,Ua:"tr-icon tr-bold",qb:!0},{Ba:"+italic",
pa:mH,Ua:"tr-icon tr-italic",qb:!0},{Ba:"+underline",pa:nH,Ua:"tr-icon tr-underline",qb:!0},{Ba:"+foreColor",pa:kH,Ua:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=vF(a,b,c,d,f,g);a.jq("#000");a.fj=z.Aa(AF,a);return a},qb:!0},{Ba:"+backColor",pa:oH,Ua:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=vF(a,b,c,d,f,g);a.jq("#FFF");a.fj=z.Aa(AF,a);return a},qb:!0},{Ba:"+link",pa:pH,caption:TG,Ua:"tr-link",qb:!0},{Ba:"+insertOrderedList",pa:qH,Ua:"tr-icon tr-insertOrderedList",qb:!0},{Ba:"+insertUnorderedList",
pa:rH,Ua:"tr-icon tr-insertUnorderedList",qb:!0},{Ba:"+outdent",pa:sH,Ua:"tr-icon tr-outdent",factory:z.rF},{Ba:"+indent",pa:tH,Ua:"tr-icon tr-indent",factory:z.rF},{Ba:"+justifyLeft",pa:uH,Ua:"tr-icon tr-justifyLeft",qb:!0},{Ba:"+justifyCenter",pa:vH,Ua:"tr-icon tr-justifyCenter",qb:!0},{Ba:"+justifyRight",pa:wH,Ua:"tr-icon tr-justifyRight",qb:!0},{Ba:"+justifyFull",pa:xH,Ua:"tr-icon tr-justifyFull",qb:!0},{Ba:"+removeFormat",pa:yH,Ua:"tr-icon tr-removeFormat",factory:z.rF},{Ba:"image",pa:zH,Ua:"tr-icon tr-image",
factory:z.rF},{Ba:"+strikeThrough",pa:AH,Ua:"tr-icon tr-strikeThrough",qb:!0},{Ba:"+subscript",pa:FH,Ua:"tr-icon tr-subscript",qb:!0},{Ba:"+superscript",pa:GH,Ua:"tr-icon tr-superscript",qb:!0},{Ba:"ltr",pa:BH,Ua:"tr-icon tr-ltr",qb:!0},{Ba:"rtl",pa:CH,Ua:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var h=z.tF(a,b,c,d,f,g);h.fj=function(a){a=!!a;z.zo(h.getParent().m(),"tr-rtl-mode",a);h.Cc(a)};return h},qb:!0},{Ba:"+BLOCKQUOTE",pa:DH,Ua:"tr-icon tr-BLOCKQUOTE",qb:!0},{Ba:"+formatBlock",pa:eH,caption:fH,
Ua:"tr-formatBlock",factory:function(a,b,c,d,f,g){var h=uF(a,b,c,d,f,g);pF(h);cF(h,dH);z.Fi(h.cb().T(),"goog-menu-noaccel");h.fj=function(a){a=a&&0<a.length?a:null;a!=h.Y()&&h.Da(a)};return h},qb:!0},{Ba:"editHtml",pa:EH,caption:HH,Ua:"tr-editHtml",factory:z.rF}],KH=0,LH;LH=JH[KH];KH++)z.IH[LH.Ba]=LH;JH=null;var MH={};MH.track=Jr;z.y(z.BF,z.SA);z.Ba(z.BF.prototype,MH);z.BF.prototype.defaults={Tk:null,title:"Distraction Free Mode",gO:"back",tW:"publish",no:"zu-editing-distraction-free",mX:"sticky-goog-scrollfloater",LX:"zm-editable-toolbar-container"};z.BF.prototype.xd=z.hb("FullScreenPlugin");z.IH.toggleFullScreen={Ba:"toggleFullScreen",pa:"写作模式",Ua:"tr-icon tr-max",factory:z.rF};z.e=z.BF.prototype;z.e.Ue=z.Aa(z.$n,{rZ:"toggleFullScreen",LY:"enterFullScreen",MY:"exitFullScreen"});
z.e.D=function(){this.ga.H();z.P(this.h);this.J=this.Cq=this.xc=this.Kb=this.h=null;z.BF.v.D.call(this)};
z.e.Vw=function(){var a=this.J,b=window.document.createElement("div");b.id="zu-distraction-free-editor";b.innerHTML='\x3cdiv class\x3d"header"\x3e\x3cdiv class\x3d"wrapper"\x3e\x3ch1 class\x3d"title"\x3e'+a.title+'\x3c/h1\x3e\x3ca href\x3d"#" class\x3d"'+a.gO+'" name\x3d"return"\x3e返回\x3c/a\x3e\x3ca href\x3d"#" class\x3d"'+a.tW+'" name\x3d"save"\x3e发布\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar"\x3e\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"content" class\x3d"grid"\x3e\x3c/div\x3e';window.document.body.appendChild(b);
this.ga.g(z.N("back",b),"click",function(a){a.preventDefault();FF(this)});this.ga.g(z.N("publish",b),"click",function(a){a.preventDefault();this.dispatchEvent("save")&&FF(this)});this.h=b;this.xc=z.N("content",b);this.Cq=z.O("div",{className:"toolbar-info"});this.J.Tk||(this.J.Tk=this.F.Ja)};z.e.pf=function(a){this.h||this.Vw();switch(a){case "enterFullScreen":CF(this);break;case "exitFullScreen":FF(this);break;case "toggleFullScreen":z.W.has(window.document.body,this.J.no)?FF(this):CF(this)}};
z.e.iJ=function(){z.W.has(window.document.body,this.J.no)?FF(this):"writing"===window.location.hash.slice(1)&&CF(this)};z.e.Ep=function(a){27===a.keyCode&&this.dispatchEvent("shouldExitFullScreenOnEscape")&&FF(this)};z.e.JK=function(a){z.W[a?"add":"remove"](this.Kb,this.J.mX)};z.y(z.GF,z.R);z.GF.prototype.C=function(){this.o().g(this.h,"click",this.Va)};z.GF.prototype.Va=function(a){var b=z.Gr(this.h,a.target);this.Ln&&this.Ln(b);b&&b.name&&"focus"===b.name&&(0,z.zG)(b,this.ny,function(){b.getAttribute("data-followme")&&(z.W.has(b,"zg-btn-follow")?b.setAttribute("data-tooltip","s$b$对方已关注你"):b.setAttribute("data-tooltip","s$b$已互相关注"))},this.my,{MZ:"question"===this.ny?"关注问题":null})};z.GF.prototype.FB=z.m(47);}).call(this, __z_z__);
//# sourceURL=/static/revved/-/js/closure/common.5fc89c02.js